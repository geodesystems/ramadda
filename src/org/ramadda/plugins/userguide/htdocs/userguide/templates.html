<html>
<head>
<title>HTML Page Templates</title>
  <link rel="stylesheet" type="text/css" href="./default.css" title="Style">

</head>

<body>
<div class="ramadda-documentation">
<div class="ramadda-doc-header">
<div style='padding-top:12px;margin-bottom:4px;'><a href="toc.html#templates.html"><span title="Table of contents"><i  style='font-size:16pt;'  class="fa fa-list "></i></span></a> &nbsp; <a href="index.html">RAMADDA User Guide</a>  > <a href="page_installationandsiteadministration.html">Installation and Site Administration</a> </div>
<table width=100% cellspacing=0 cellpadding=0 >
<tr valign=center><td width=25%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="arkids.html"><table><td valign=center><td><span title="Previous: Creating ARK IDS and Digital Object Identifiers (DOI)"><i  style='font-size:16pt;'  class="fa fa-caret-left "></i></span></td><td>Creating ARK IDS and Digital Object Identifiers (DOI)</td></tr></table></a></div></div></td>
<td width=50% align=center>
<div class="ramadda-page-title"><a href="#">Section 9.8: HTML Page Templates</a></div>
</td>
<td align=right width=25%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="build.html"><table><tr valign=center><td>Building from source</td><td><span title="Next: Building from source"><i  style='font-size:16pt;'  class="fa fa-caret-right "></i></span></td></tr></table></a> </div></div> </td>
</tr></table>
</div>

<style type="text/css">
pre {
    margin-left:15px;
}
.ramadda-lheading {
    margin-top:15px;
}
</style>

<div class="ramadda-doc-contents" style="margin-left:20px;">


:navtop

The HTML pages that RAMADDA generates are based on a template mechanism.
Here is an example template that has documentation in it:
<a href="${root}/userguide/exampletemplate.html.txt">exampletemplate.html.txt</a>.
Copy the example to your local RAMADDA plugins directory and rename it as:
&lt;your name&gt;template.html (strip off the .txt):
<pre>
&lt;user home&gt;/.ramadda/plugins/somenametemplate.html
</pre>

Any plugin file that ends with "template.html" is loaded by RAMADDA as a template.
<p>

In the template are a set of properties. You should change the id and name property.
There are a number of other  macros shown as <i>${macro}</i> that are used to 
instantiate a web page.  See the above example template for more information.
<p>
You can see many examples of templates at the
at the <a href="https://github.com/geodesystems/ramadda/tree/master/src/org/ramadda/repository/resources/templates">Github</a> site. 



<a name="jar"></a>
:heading 9.8.0 <label>Packaging your template</label>

While you can just have a file called &lt;something&gt;template.html in your plugins directory if you
have your own CSS or images or icons that go along with your template you will want to
package them up in a .jar file. Here is an example 
<a href="${root}/userguide/exampletemplate.jar">exampletemplate.jar</a>
that provides the above exampletemplate.html.  

<p>
This file was created from a directory tree:<pre>
exampletemplate
       exampletemplate.html
       htdocs
            exampletemplate
                 template.css
                 banner.jpg
</pre>

The jar file is created with:<pre>
mac:jar -Mcvf exampletemplate.jar  exampletemplate
adding: exampletemplate/(in = 0) (out= 0)(stored 0%)
adding: exampletemplate/exampletemplate.html(in = 1406) (out= 595)(deflated 57%)
adding: exampletemplate/htdocs/(in = 0) (out= 0)(stored 0%)
adding: exampletemplate/htdocs/exampletemplate/(in = 0) (out= 0)(stored 0%)
adding: exampletemplate/htdocs/exampletemplate/banner.jpg(in = 55020) (out= 52006)(deflated 5%)
adding: exampletemplate/htdocs/exampletemplate/template.css(in = 3680) (out= 1139)(deflated 69%)
</pre>

Note: if you don't have <i>jar</i> installed (it is part of the Java release) then
you can just zip the file and call it <i>something.jar</i>.
<p>
The template.css and banner.jpg files are in a directory (exampletemplate) under the htdocs directory so
they can be referenced in the html as:<pre>
&lt;link href="${root}/exampletemplate/template.css" rel="stylesheet" type="text/css" media="screen"&gt;
</pre>


<a name="default"></a>
:heading 9.8.1 <label>Specifying a Default Template</label>


You can specify a default template for your site in a number of ways.
First, go to the Admin->Users list
and edit the anonynmous user. Select the desired template from the list.
You can also specify the default template for the site via a property:
<pre>
ramadda.html.template.default=&lt;your template id&gt;
</pre>
You can set this in a plugin .properties file or you can specify this property 
(and other properties as well)
in the Admin-&gt;Settings-&gt;Site and Contact Information-&gt;Extra Properties field.
:p
If you have a site that has different hostnames that resolve to it (e.g, asdi.ramadda.org, ditchproject.org, etc)
you can specify a default page template for each host with the properties:
<pre>
&lt;hostname&gt;.template=template id
e.g.:
ditchproject.org.template=ditchproject
www.ditchproject.org.template=ditchproject
sdn.ramadda.org.template=sdn
</pre>

Likewise you can set the logourl on a per hostname basis:
<pre>
&lt;hostname&gt;.logourl=...
e.g.:
ditchproject.org.logourl=https://ditchproject.org
www.ditchproject.org.logourl=https://www.ditchproject.org
sdn.ramadda.org.logourl=https://sdn.ramadda.org

</pre>


<a name="property"></a>
:heading 9.8.2 <label>Specifying a template for an entry tree</label>

You can also define a template to be used for a tree of entries.
From the parent entry go to the Add Property page-
<div style='text-align:center;' class='ramadda-docs-image'><a name="image1"></a><div><a href="addproperty.png?version=204"><img  src="addproperty.png?version=204"  onload='HtmlUtils.initScreenshot(this);this.onload=null;' style='border=0 width=70%display:none;'  alt="Add Property Link" ></a><br><span class="caption">Image 1: Add Property Link</span></div></div>

* Look for "Add Page Template"
* Select the template from the pull down list
* Check on the "Inherited" checkbox





<a name="mobile"></a>
:heading 9.8.3 <label>Mobile Template</label>

There are two ways to specify a template to be used for mobile access. 
The first is to set the following property in your RAMADDA
.properties file.

<pre>
ramadda.template.mobile=&lt;template id &gt;
</pre>

You can also specify a mobile=true  property in the properties section of your template.



</div>
<p>

<p>&nbsp;<p>

<div class="ramadda-doc-footer">
<table width=100% cellspacing=0 cellpadding=0 >
<tr><td width=30%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="arkids.html"><table><td valign=center><td><span title="Previous: Creating ARK IDS and Digital Object Identifiers (DOI)"><i  style='font-size:16pt;'  class="fa fa-caret-left "></i></span></td><td>Creating ARK IDS and Digital Object Identifiers (DOI)</td></tr></table></a></div></div></td>
<td align=right width=30%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="build.html"><table><tr valign=center><td>Building from source</td><td><span title="Next: Building from source"><i  style='font-size:16pt;'  class="fa fa-caret-right "></i></span></td></tr></table></a> </div></div> </td>
</tr></table>
</div>
<p>
</div>
</body>
</html>

