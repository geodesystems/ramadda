<html>
<head>
<title>Populating your RAMADDA server</title>
  <link rel="stylesheet" type="text/css" href="./default.css" title="Style">

</head>

<body>
<div class="ramadda-documentation">
<table width=100% cellspacing=0 cellpadding=0 ><tr><td width=30%>
<a href="access.html"><img src="images/previous.png" border="0"   alt="Previous: Entry Access Control" title="Previous: Entry Access Control"></a> <a href="faq.html"><img src="images/next.png" border="0"   alt="Next: FAQ" title="Next: FAQ"></a>  <a href="toc.html#configuration.html"><img src="images/table.png" border="0"   alt="Table of contents" title="Table of contents"></a>
</td>
<td width=40% align=center>
<div class="ramadda-page-title"><a href="${root}/userguide/index.html">RAMADDA User Guide</a></div>
</td>
<td width=30%>&nbsp;</td>
</tr></table>
<div class="ramadda-page-heading">Section 3.4: Populating your RAMADDA server</div>

<style type="text/css">
pre {
    margin-left:15px;
}
</style>

<div style="margin-left:20px;">





Now that you have your RAMADDA server installed you may ask how do I get go about populating it with data and other content.
We covered how to make folders and upload files (or archives of files) through the web interface. However, RAMADDA also supports
ways of providing access to the files that are already on the server machine.



<a name="harvesting"></a><p><div class="ramadda-help-heading">3.4.0 <a href="#harvesting">Harvesting files</a></div> 
RAMADDA provides a <a href="harvesters.html">harvester facility </a>
that allows an administrator to scan the local file system on the server 
and add entries into the database for those files.
For example, say you have a large directory of data (and/or other) files (e.g., <i>/project/data</i>)
that you want RAMADDA to provide access to.
You could simply create a <a href="dataingest.html#serverfiles">Server Side File</a> view of the directory but this does not
actually add  entries into the repository database for the files and you cannot add metadata, search etc., with those entries.
<p>
The File Harvester can walk the directory tree and add entries into the repository for the files it finds.

<p>
The first thing you need to do is to specify in the <a href="admin.html#filesystemaccess">Site Administration</a> area
that it is OK to serve up files from that directory tree. Go to the <code class="menu">Admin-&gt;Settings-&gt;Access</code> page in RAMADDA 
and enter the directory path, e.g., <i>/project/data</i>:
<a name="image1"></a><div class="cimg"><a href="images/filesystemaccess.png"><img  src="images/filesystemaccess.png" border=0 width=700 alt="File System Access" ></a><br><span class="caption">Image 1: File System Access</span></div>

<p>
Next, create a File Harvester by going to the Harvesters tab of the Admin pages and press the &quot;New Harvester&quot; button. 
Specify a name (e.g., &quot;Test&quot;), leave the type as Local Files and hit create:
<a name="image2"></a><div class="cimg"><a href="images/harvester1.png"><img  src="images/harvester1.png" border=0 width=700 alt="Create a new File Harvester" ></a><br><span class="caption">Image 2: Create a new File Harvester</span></div>

This will take you to the Harvester Edit form. The minimal configuration you need to do here is to enter the file 
system directory to scan and the RAMADDA folder to add the harvested entries to. In this example
we are harvesting the directory tree <i>/project/data</i> and we are adding the entries into
the RAMADDA folder <i>RAMADDA/Case Studies/Test</i>:
<a name="image3"></a><div class="cimg"><a href="images/harvester2.png"><img  src="images/harvester2.png" border=0 width=700 alt="Harvester Edit Form" ></a><br><span class="caption">Image 3: Harvester Edit Form</span></div>



When you have entered this information press &quot;Change&quot; which will apply the changes and then take you back
to the Harvester Edit Form. You can start this Harvester with the &quot;Start&quot; link in the upper right. Or you can
go to the main Harvesters page (the top Harvesters tab) and this will list your Harvester. From there you can start the
Harvester and monitor and/or stop its progress. When it is finished the Stop link will change to Start.

<p>

With the above settings the directory tree of your file system will be used to create the 
folder hierarchy in RAMADDA. Every file the Harvester finds will result in a file entry. You can run
a Harvester any number of times and it will only add the new files that it has not seen before.

<p>

The File Harvester has many  other settings described in more detail <a href="harvesters.html">here</a>.


<a name="localfiles"></a><p><div class="ramadda-help-heading">3.4.1 <a href="#localfiles">Serving up local files</a></div> 
If the server machine you have RAMADDA running on has a large collection of data files then you can
very easily provide RAMADDA access to those files with the &quot;Local File View&quot; entry type. 
This provides a view of the file system. The Folders and Entries it creates are not in the database but
they provide a way to access the data through all of the RAMADDA services.
<p>
For example, on Unidata's motherlode server we have a large archive (10's of millions of files)
of real time data from Unidata's Internet Data Distribution system (IDD). This would be too large
to harvest into the database. Instead, on Unidata's RAMADDA server there is a Local File View entry:
<a href="http://motherlode.ucar.edu/repository/entry/show/RAMADDA/Data/IDD+Data?entryid=a136862d-1253-4096-b864-ac53028253d7">IDD Data</a>
that provides a synthetic view of this large directory tree.

<p>
You create one of these entry  types through the File->New Entry menu. The create form looks like:
<a name="image4"></a><div class="cimg"><a href="images/localfileviewedit.png"><img  src="images/localfileviewedit.png" border=0 width=700 alt="Creating a Local File View Entry" ></a><br><span class="caption">Image 4: Creating a Local File View Entry</span></div>

You specify a directory path on the server machine (e.g,. /data/ldm/pub) and other configuration options (e.g., what to show, what not to show, etc.)<p>
 <b>Note: for security reasons the local file path that is specified has to be a subdirectory of one of the directory
paths specified in the Site Administration page under Settings-&gt;Access-&gt;File System Access</a></b>
<p>

You end up then with a view of that directory that looks like:
g
<a name="image5"></a><div class="cimg"><a href="images/localfileviewexample.png"><img  src="images/localfileviewexample.png" border=0 width=700 alt="Local File View Example" ></a><br><span class="caption">Image 5: Local File View Example</span></div>



</div>
<p>

<p>&nbsp;<p>
<a href="access.html"><img src="images/previous.png" border="0"   alt="Previous: Entry Access Control" title="Previous: Entry Access Control"></a> <a href="faq.html"><img src="images/next.png" border="0"   alt="Next: FAQ" title="Next: FAQ"></a>  <a href="toc.html#configuration.html"><img src="images/table.png" border="0"   alt="Table of contents" title="Table of contents"></a>
<p>
</div>
</body>
</html>

