<html>
<head>
<title>FAQ</title>
  <link rel="stylesheet" type="text/css" href="./default.css" title="Style">

</head>

<body>
<div class="ramadda-documentation">
<div class="ramadda-doc-header">
<div style='padding-top:12px;margin-bottom:4px;'><a href="toc.html#faq.html"><span title="Table of contents"><i  style='font-size:16pt;'  class="fa fa-list "></i></span></a> &nbsp; <a href="index.html">RAMADDA User Guide</a> </div>
<table width=100% cellspacing=0 cellpadding=0 >
<tr valign=center><td width=25%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="access.html"><table><td valign=center><td><span title="Previous: Entry Access Control"><i  style='font-size:16pt;'  class="fa fa-caret-left "></i></span></td><td>Entry Access Control</td></tr></table></a></div></div></td>
<td width=50% align=center>
<div class="ramadda-page-title"><a href="#">Section 4: FAQ</a></div>
</td>
<td align=right width=25%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="page_wikifacilities.html"><table><tr valign=center><td>Wiki Facilities</td><td><span title="Next: Wiki Facilities"><i  style='font-size:16pt;'  class="fa fa-caret-right "></i></span></td></tr></table></a> </div></div> </td>
</tr></table>
</div>

<style type="text/css">
pre {
    margin-left:15px;
}
.ramadda-lheading {
    margin-top:15px;
}
</style>

<div class="ramadda-doc-contents" style="margin-left:20px;">





<div class="faq">
:pagesearch selector=.faq-item hideAll=.faq-top
<div class="faq-top"><div class="faq-category-title"><a class="faq-category-link" href="#faq1_cat1_">1.0 Administration</a></div><div class="faq-category"><div class="faq-question"> <b>1.1.</b> <a class="faq-question-link" href="#faq1_cat1_0">I forgot my user id. How do I retrieve it?</a></div>
<div class="faq-question"> <b>1.2.</b> <a class="faq-question-link" href="#ssl">How do I configure SSL access to RAMADDA?</a></div>
<div class="faq-question"> <b>1.3.</b> <a class="faq-question-link" href="#reindex">The search isn't working. How do I fix it?</a></div>
<div class="faq-question"> <b>1.4.</b> <a class="faq-question-link" href="#blacklist">I want to blacklist certain IP address</a></div>
<div class="faq-question"> <b>1.5.</b> <a class="faq-question-link" href="#lucene">How do I use Lucene for searching?</a></div>
<div class="faq-question"> <b>1.6.</b> <a class="faq-question-link" href="#allowedlogin">I want to restrict where users can login from</a></div>
<div class="faq-question"> <b>1.7.</b> <a class="faq-question-link" href="#terms">I want my users to agree to certain terms when they log in</a></div>
<div class="faq-question"> <b>1.8.</b> <a class="faq-question-link" href="#fixssl">Oops, I told RAMADDA to use an SSL port and SSL is not working. Now I cannot access the admin page to turn off SSL and I'm stuck. What can I do?</a></div>
<div class="faq-question"> <b>1.9.</b> <a class="faq-question-link" href="#faq1_cat1_8">I forgot the administrator password and cannot access RAMADDA. How do I login?</a></div>
<div class="faq-question"> <b>1.10.</b> <a class="faq-question-link" href="#hostname">I set the hostname to an incorrect hostname. Now I can't login?</a></div>
<div class="faq-question"> <b>1.11.</b> <a class="faq-question-link" href="#hostnamemap">Map a hostname to some entry</a></div>
<div class="faq-question"> <b>1.12.</b> <a class="faq-question-link" href="#email">How do I configure RAMADDA to send email?</a></div>
<div class="faq-question"> <b>1.13.</b> <a class="faq-question-link" href="#sitemap">How do I create a site map?</a></div>
<div class="faq-question"> <b>1.14.</b> <a class="faq-question-link" href="#metadata">Disabling selected metadata types</a></div>
<div class="faq-question"> <b>1.15.</b> <a class="faq-question-link" href="#github">Enable github embeds</a></div>
<div class="faq-question"> <b>1.16.</b> <a class="faq-question-link" href="#template">I want to change the html design of RAMADDA</a></div>
<div class="faq-question"> <b>1.17.</b> <a class="faq-question-link" href="#maxentries">How do I change the default number of children entries?</a></div>
<div class="faq-question"> <b>1.18.</b> <a class="faq-question-link" href="#template">Changing the initial welcome text and entries</a></div>
<div class="faq-question"> <b>1.19.</b> <a class="faq-question-link" href="#characterset">Running with non-ascii characters</a></div>
<div class="faq-question"> <b>1.20.</b> <a class="faq-question-link" href="#formopen">How do I configure the entry table to always show the Apply action form?</a></div>
<div class="faq-question"> <b>1.21.</b> <a class="faq-question-link" href="#missing">I've cleaned up files on my server that I had harvested in RAMADDA. How do I delete those entries in RAMADDA?</a></div>
<div class="faq-question"> <b>1.22.</b> <a class="faq-question-link" href="#checkbox">How do I select multiple checkboxes at once?</a></div>
</div></div>
<div class="faq-bottom"><p><hr><p><div class="faq-category-title"><a name="faq1_cat1_"></a>1.0 Administration</div><div class="faq-category"><a name="faq1_cat1_0"></a><div class="faq-item"><div class="faq-question">
<h3> 1.1.  I forgot my user id. How do I retrieve it?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
If your RAMADDA site has been configured to send email (see <a href="#email">here</a> to configure email)
then on the Login page you should see &quot;Forget your User ID?&quot; and
&quot;Forget your Password?&quot; links. 
</div>
<p><hr align="center" width="10%"></div><p><a name="ssl"></a><div class="faq-item"><div class="faq-question">
<h3> 1.2.  How do I configure SSL access to RAMADDA?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
To configure SSL access see <a href='installing.html#ssl'>here</a> if you are running under Tomcat.
See <a href='installing.html#ssljetty'>here</a> if you are running stand-alone.
</div>
<p><hr align="center" width="10%"></div><p><a name="reindex"></a><div class="faq-item"><div class="faq-question">
<h3> 1.3.  The search isn't working. How do I fix it?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
RAMADDA uses Lucene to build a search index. For some reason this index can get nuked resulting
in search not working. I (jeffmc) have been unable to replicate this problem through exhaustive
testing and code review. So, in the interim to fix this go to Admin->Maintenance and
select Reindex.
</div>
<p><hr align="center" width="10%"></div><p><a name="blacklist"></a><div class="faq-item"><div class="faq-question">
<h3> 1.4.  I want to blacklist certain IP address</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
  If you add a file "ipblacklist.txt" into your RAMADDA home directory the IP addresses
  in the file will be blacklisted.
  The file is if the form:
<pre>
ipaddress1
ipadddres2
ipaddres.with.wild.card*
e.g.:
190.2.132.128
89.187.164.247
78.46.9*
123.46.9*
</pre>

If a request comes in at one of the blacklisted IPs then the request is paused for a bit
and then  a 403 Forbidden  result is returned. You will need to restart your RAMADDA for
changes to take effect.
</div>
<p><hr align="center" width="10%"></div><p><a name="lucene"></a><div class="faq-item"><div class="faq-question">
<h3> 1.5.  How do I use Lucene for searching?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
RAMADDA has had the ability to uses Lucene for search indexing though up until 2021 this
had been disabled by default.  Lucene provides a much better search experience as it indexes the
contents of files (e.g., pdfs, ppt, word, csv, etc) and provides better searching - supporting
entry hierarchy based searching, synonyoms, etc.

As of December 2021 RAMADDA now defaults to using Lucene. This can be overriden with the property:
<pre>
ramadda.search.lucene.enabled=false
</pre>
The problem this introduces is that, once enabled,  the index does not get built with past content so a search
will only show newly created content. To address this you can simply go to the Admin page:
Admin-&gt;Maintenance-&gt;Reindex Lucene Index and select "Reindex all".
Depending on the size of your repository this may take a few minutes but once complete your searching should be good to
go.
</div>
<p><hr align="center" width="10%"></div><p><a name="allowedlogin"></a><div class="faq-item"><div class="faq-question">
<h3> 1.6.  I want to restrict where users can login from</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
For security reasons you can configure what IP addresses users are allowed to login from.
In your <i>repository.properties</i> file in your local RAMADDA directory, e.g.,<pre>
&lt;home&gt;/.ramadda/repository.properties</pre>
add the property:<pre>

##Comma separated list of ip addresses (or prefixes) that are the ones where the user can login
##If blank then login is allowed from anywhere
ramadda.login.allowedips=
##e.g.:
ramadda.login.allowedips=127.0.0,201.43.72.5
</pre>
</div>
<p><hr align="center" width="10%"></div><p><a name="terms"></a><div class="faq-item"><div class="faq-question">
<h3> 1.7.  I want my users to agree to certain terms when they log in</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
When the following property is set then any user logging in must agree to the
given terms.
<pre>
ramadda.user.agree= Some terms
#.e.g:
ramadda.user.agree= I have read and agree to the terms of service
</pre>
</div>
<p><hr align="center" width="10%"></div><p><a name="fixssl"></a><div class="faq-item"><div class="faq-question">
<h3> 1.8.  Oops, I told RAMADDA to use an SSL port and SSL is not working. Now I cannot access the admin page to turn off SSL and I'm stuck. What can I do?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
You need to comment out the ramadda.ssl.port property in your .properties file.
Alternatively, you can run RAMADDA with the command line argument:
<pre>-Dramadda.ssl.ignore=true</pre>
</div>
<p><hr align="center" width="10%"></div><p><a name="faq1_cat1_8"></a><div class="faq-item"><div class="faq-question">
<h3> 1.9.  I forgot the administrator password and cannot access RAMADDA. How do I login?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 

The easiest way is to set a username/password  in the repository.properties file in the 
RAMADDA home directory. Just add:<pre>
ramadda.admin=userid:password
</pre>
and then restart RAMADDA. This sets the password for the given userid.
Note: you should remove this entry once you have reset your password.

<p>
You can also specify an administrator user id and password from the command line when starting RAMADDA.
If you are running RAMADDA stand alone then just provide the arguments:<pre>
-admin &lt;user id&gt; &lt;password&gt;
</pre>
This creates a new user id if needed and sets the password.
<p>
If you are running RAMADDA under Tomcat then change the web.xml to pass in command line arguments
using the &quot;args&quot; entry. This is a comma separated value list of the command line arguments
that are processed by RAMADDA.
<pre>
    &lt;param-name&gt;args&lt;/param-name&gt;
    &lt;param-value&gt;-admin,userid,password&lt;/param-value&gt;
</pre>

</div>
<p><hr align="center" width="10%"></div><p><a name="hostname"></a><div class="faq-item"><div class="faq-question">
<h3> 1.10.  I set the hostname to an incorrect hostname. Now I can't login?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
Make a &lt;anyname&gt;.properties that contains:
<pre>
override.ramadda.hostname=&lt;good host name&gt;
</pre>
and place it in your ramadda home directory or plugins directory and restart ramadda. 
Once you are logged in go to the Admin Settings page and change the hostname then remove
the properties file.
<p>
In general, you can override any property that has been set by defining a property with the "override." prefix.

</div>
<p><hr align="center" width="10%"></div><p><a name="hostnamemap"></a><div class="faq-item"><div class="faq-question">
<h3> 1.11.  Map a hostname to some entry</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
You can configure your RAMADDA so that access via some specific hostname (e.g. <a href="http://boulderdata.org/">http://boulderdata.org/</a>) uses some entry.

To do this first set a server property to enable this and restart your RAMADDA.
<pre>
ramadda.enable_hostname_mapping = true
</pre>

Then add an Alias property to the entry of interest with the value:
<pre>
http://your_hostname
e.g.:
http://boulderdata.org
</pre>

If you had different domains you can add multiple aliases -
<pre>
http://www.boulderdata.org
</pre>

This will use the entry as the root when accessing the repository under the given hostname. For example, the site
<a href="http://boulderdata.org/">http://boulderdata.org/</a> really just maps to an entry at - 
<a href="https://ramadda.org/repository/entry/show?entryid=79f24329-8c98-4d15-9804-821a70bfb606">https://ramadda.org/repository/entry/show?entryid=79f24329-8c98-4d15-9804-821a70bfb606</a>.

Note: when searching under the alias the whole site will be searched.

</div>
<p><hr align="center" width="10%"></div><p><a name="email"></a><div class="faq-item"><div class="faq-question">
<h3> 1.12.  How do I configure RAMADDA to send email?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
RAMADDA can send email for both the password reset process and for monitoring new entries.
On the main Site Administration  page under the &quot;Contact&quot; area you can specify
a SMTP server that RAMADDA will use to send email.
</div>
<p><hr align="center" width="10%"></div><p><a name="sitemap"></a><div class="faq-item"><div class="faq-question">
<h3> 1.13.  How do I create a site map?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
For more effective  indexing of your site RAMADDA provides a 
built-in site map API:
<pre>
/repository/sitemap.xml
</pre>
By default this lists all of the entries under the top-level entry.
<p>
If you want specific entries in your site map then simply
add an "Is in Site Map" property (Under the Add Property-&gt;
Thumbnails, Page Style, Etc.) menu for the entry or entries.
</div>
<p><hr align="center" width="10%"></div><p><a name="metadata"></a><div class="faq-item"><div class="faq-question">
<h3> 1.14.  Disabling selected metadata types</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
You can configure your RAMADDA to not include certain metadata types. This can be done by the ID of the metadata type
or its category. Set the following property:  
<pre>
#e.g., don't include the enum_tag or any metadata under the cateegory Bio or THREDDS
#These can either be a specific string or a regexp pattern
ramadda.metadata.nottypes=enum_tag,category:Bio.*,category:THREDDS                                                                                              
</pre>
</div>
<p><hr align="center" width="10%"></div><p><a name="github"></a><div class="faq-item"><div class="faq-question">
<h3> 1.15.  Enable github embeds</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
The wiki facility supports embedding github commit history. github rate limites requests so your
repository can only make a few requests at a time. You can increase this rate limit by creating a github
personal access token at: <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>.
Add the property to your .properties file:
<pre>
github.token=&lt;your token&gt;
</pre>  
</div>
<p><hr align="center" width="10%"></div><p><a name="template"></a><div class="faq-item"><div class="faq-question">
<h3> 1.16.  I want to change the html design of RAMADDA</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
See the <a href='templates.html'>documentation</a>.
</div>
<p><hr align="center" width="10%"></div><p><a name="maxentries"></a><div class="faq-item"><div class="faq-question">
<h3> 1.17.  How do I change the default number of children entries?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
To configure the default number of children entries shown set the property:
<pre>
ramadda.defaultmaxentries=1000
</pre>
</div>
<p><hr align="center" width="10%"></div><p><a name="template"></a><div class="faq-item"><div class="faq-question">
<h3> 1.18.  Changing the initial welcome text and entries</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
When RAMADDA is first installed it populates your repository with some initial folders and sets the description
of the root entry with some initial text. You can override what entries are created and what the text is (for example, if
you wanted to configure a number of different RAMADDA servers).

<p>
To change the description used just create a file <i>initdescription.txt</i> in the RAMADDA home directory. This file, if it exists,
is read by RAMADDA. You can see the default one in the source tree at:
<pre>
src/org/ramadda/repository/resources/examples/initdescription.txt
</pre>

This file contains 2 macros:<pre>
$<filler>{root} - the top-level URL path
$<filler>{topid} - the ID of the root entry
</pre>

To change what entries are created RAMADDA looks for a <i>initentries.xml</i> file in the RAMADDA home directory. The default file is:
<pre>
src/org/ramadda/repository/resources/examples/initentries.xml
</pre>


This is just the entries xml format. The ID of the top-level entry is simply "root", e.g.:
<pre>
&lt;entries&gt;
&lt;entry parent="root" name="Projects" type="group"&gt;
&lt;description&gt;A place to store projects&lt;/description&gt;
&lt;/entry&gt;
&lt;/entries&gt;
</pre>

</div>
<p><hr align="center" width="10%"></div><p><a name="characterset"></a><div class="faq-item"><div class="faq-question">
<h3> 1.19.  Running with non-ascii characters</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
There are a number of things you will need to do to run with content that is non-ascii (e.g., Chinese characters).
<p>
For Tomcat  set the URIEncoding:
<a href="http://stackoverflow.com/questions/138948/how-to-get-utf-8-working-in-java-webapps">http://stackoverflow.com/questions/138948/how-to-get-utf-8-working-in-java-webapps</a>.

<p>

If you are running mysql there are some <a href="https://www.google.com/search?hl=en&ie=ISO-8859-1&q=utf-8+mysql&btnG=Search">things</a> you need to do. Postgres and Derby seem OK out of the box.

<p>

Your Java runtime should also have the system property -Dfile.encoding=utf-8  defined.

</div>
<p><hr align="center" width="10%"></div><p><a name="formopen"></a><div class="faq-item"><div class="faq-question">
<h3> 1.20.  How do I configure the entry table to always show the Apply action form?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
  The entry table has an &quot;Apply action&quot; header form that is normally toggled off. To change this
  default behavior set the RAMADDA property (either in a repository.properties file or through the
  Admin interface)
<pre>
ramadda.wiki.table.formopen=true
</pre>

</div>
<p><hr align="center" width="10%"></div><p><a name="missing"></a><div class="faq-item"><div class="faq-question">
<h3> 1.21.  I've cleaned up files on my server that I had harvested in RAMADDA. How do I delete those entries in RAMADDA?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 


If you have harvested files into RAMADDA from your server file system and subsequently delete those files (e.g., scouring a real-time archive) RAMADDA will not delete the corresponding entries automatically. Instead, by default, RAMADDA will not show those kinds of entries to non logged in users but will show them to logged in users. However, no file download is available because the file is missing.

To clean up these entries in RAMADDA you can manually delete the entries or you can set a property to automatically delete these types of entries.

<pre>
ramadda.delete_entry_when_file_is_missing=true
</pre>

<b>
Be careful with this. I (jeffmc) have seen remote file systems go down momentarily and if this had been set then all of my entries that I had harvested would have been deleted.
</b>


</div>
<p><hr align="center" width="10%"></div><p><a name="checkbox"></a><div class="faq-item"><div class="faq-question">
<h3> 1.22.  How do I select multiple checkboxes at once?</h3>
</div>
</a><div class="faq-answer"><b>A.</b> 
In RAMADDA when there is a collection of checkboxes in a form (e.g., in the entry list or in the edit metadata form)
selecting one and then
selecting another with a Shift-Click toggles the range of checkboxes between the first the second
checkbox clicked. Doing a Control-Click on a checkbox toggles all of them on or off.
</div>
<p><hr align="center" width="10%"></div><p></div></div></div>



</div>
<p>

<p>&nbsp;<p>

<div class="ramadda-doc-footer">
<table width=100% cellspacing=0 cellpadding=0 >
<tr><td width=30%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="access.html"><table><td valign=center><td><span title="Previous: Entry Access Control"><i  style='font-size:16pt;'  class="fa fa-caret-left "></i></span></td><td>Entry Access Control</td></tr></table></a></div></div></td>
<td align=right width=30%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="page_wikifacilities.html"><table><tr valign=center><td>Wiki Facilities</td><td><span title="Next: Wiki Facilities"><i  style='font-size:16pt;'  class="fa fa-caret-right "></i></span></td></tr></table></a> </div></div> </td>
</tr></table>
</div>
<p>
</div>
</body>
</html>

