<html>
<head>
<title>Data Icons</title>
  <link rel="stylesheet" type="text/css" href="../default.css" title="Style">

</head>

<body>
<div class="ramadda-documentation">
<div class="ramadda-doc-header">
<div style='padding-top:12px;margin-bottom:4px;'><a href="../toc.html#imdv/dataicons.html"><span title="Table of contents"><i  style='font-size:16pt;'  class="fa fa-list "></i></span></a> &nbsp; <a href="../index.html">RAMADDA User Guide</a>  > <a href="index.html">Integrated Map Data Viewer (IMDV)</a> </div>
<table width=100% cellspacing=0 cellpadding=0 >
<tr valign=center><td width=25%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="multientry.html"><table><td valign=center><td><span title="Previous: The Multi-Entry Glyph"><i  style='font-size:16pt;'  class="fa fa-caret-left "></i></span></td><td>The Multi-Entry Glyph</td></tr></table></a></div></div></td>
<td width=50% align=center>
<div class="ramadda-page-title"><a href="#">Section 6.6: Data Icons</a></div>
</td>
<td align=right width=25%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="imdvglyphs.html"><table><tr valign=center><td>Custom Data Icons</td><td><span title="Next: Custom Data Icons"><i  style='font-size:16pt;'  class="fa fa-caret-right "></i></span></td></tr></table></a> </div></div> </td>
</tr></table>
</div>

<style type="text/css">
pre {
    margin-left:15px;
}
.ramadda-lheading {
    margin-top:15px;
}
</style>

<div class="ramadda-doc-contents" style="margin-left:20px;">



:navtop
:p
+callout-info
If any entry that is also a data entry is being displayed in the IMDV map
then the marker shown in the map
can display the most recent data for the entry. This includes individual
Entry glyphs, entries added under a Multi-Entry and any entryies under a Group glyph.
-callout

:heading Showing Data Icons

For example, the Purple Air sensors  can show the PM2.5 measurements and a color coded circle.

<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/purpleair.png?version=406"><img  src="images/purpleair.png?version=406"  onload='HtmlUtils.initScreenshot(this);this.onload=null;' style='display:none;'  alt="images/purpleair.png?version=406" ></a></div></div>


NWS station data shows temperature, wind speed and pressure:

<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/nws.png?version=406"><img  src="images/nws.png?version=406"  onload='HtmlUtils.initScreenshot(this);this.onload=null;' style='display:none;'  alt="images/nws.png?version=406" ></a></div></div>

CR1000 data logger entries show either temperature or relative humidity:

<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/cr1000.png?version=406"><img  src="images/cr1000.png?version=406"  onload='HtmlUtils.initScreenshot(this);this.onload=null;' style='display:none;'  alt="images/cr1000.png?version=406" ></a></div></div>

To enable data icon displays bring up the Properties dialog for the relevant glyph
(this may be a Multi-Entry, an Entry Marker or a Group)
<i class="fas fa-cog" style="color:#ccc;"></i> in the legend:

<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/multientrylegend.png?version=406"><img  src="images/multientrylegend.png?version=406"  onload='HtmlUtils.initScreenshot(this);this.onload=null;' style='display:none;'  alt="images/multientrylegend.png?version=406" ></a></div></div>

Under the Data Icons tab select "yes" for "Show data as icons" and press OK. 
Your map should now show the sensor data.

<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/multientryprops.png?version=406"><img  src="images/multientryprops.png?version=406"  onload='HtmlUtils.initScreenshot(this);this.onload=null;' style='display:none;'  alt="images/multientryprops.png?version=406" ></a></div></div>

You should have a map that looks like below.  From the top-level File menu select Save.

<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/multientrymap1.png?version=406"><img  src="images/multientrymap1.png?version=406" width=600px alt="images/multientrymap1.png?version=406" ></a></div></div>

The "Show data as icons" can be "yes", "no" or "inherited". If "inherited" is selected then
if the glyph is under a Group then the data icon settings for the Group are used.


The "Use the default data icon specification for the entry" and 
"Use parent group's or the below if defined" toggle specify whether to use
the default data icon for the Entry (like in the Purple Air example) or to
use a custom data icon. Using the parent group's data icon specification
allows one to have a group of data icon glyphs in a map that all have the same representation.


:heading Adding a Field Select Menu
You can add a pull down menu at the top of the page that allows the user to select which field
is displayed. To do this you will first need to know what are the field identifiers for
the data entry. Navigate to one of the data entrys you will be displaying, e.g., the Purple Air sensor and view the Metadata page (from the entry's popup menu) to show the metadata. Note the
fields you want to use. For Purple Air we are going to use pm1.0, pm2.5 and pm10.0.

<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/metadata.png?version=406"><img  src="images/metadata.png?version=406"  onload='HtmlUtils.initScreenshot(this);this.onload=null;' style='display:none;'  alt="images/metadata.png?version=406" ></a></div></div>


Now, back to the IDMV map, bring up the properties dialog for the multi-entry. Under the Menu Fields
add the fields you want to use. Optionally you can specify an initial field and a menu label.
You can specify an alternative label to show in the menu as below by specifying a
label=... property in the Menu Fields:


<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/multientryprops2.png?version=406"><img  src="images/multientryprops2.png?version=406"  onload='HtmlUtils.initScreenshot(this);this.onload=null;' style='display:none;'  alt="images/multientryprops2.png?version=406" ></a></div></div>

You should now have a menu shown that allows you to select the field to display:

<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/multientrymap2.png?version=406"><img  src="images/multientrymap2.png?version=406" width=600px alt="images/multientrymap2.png?version=406" ></a></div></div>


:heading Different Data Types
The data icons can be used with a group of entry glyphs where the entries have different data, e.g., CR1000 Data Logger, Purple Air, NWS ASOS data, etc.
The menu fields can have a pattern for the field ID. For example, below the first menu row
matches on any field that is "temperature" or "atmos_temp". The second row just is pm2.5.

<pre>
temperature|atmos_temp,label=TemperatureX,unit=C
pm2.5,label=PM 2.5
</pre>

To have all of the data icons be the same format select "Set Defaults", this will override the
default display of the data icons. The Icon Specification is the same as used for the
wiki <a href=../wiki/canvasglyphs.html>canvas display</a>.

Now, with the above settings if the PM2.5 field is selected in the field menu then only those
glyphs that have a data field that matches the selected PM2.5 field will be shown.

<div style='text-align:center;' class='ramadda-docs-image'><div><a href="images/multientryprops4.png?version=406"><img  src="images/multientryprops4.png?version=406"  onload='HtmlUtils.initScreenshot(this);this.onload=null;' style='display:none;'  alt="images/multientryprops4.png?version=406" ></a></div></div>



</div>
<p>
<div  class="childlist" ><table  width="100%" ></table></div>
<p>&nbsp;<p>

<div class="ramadda-doc-footer">
<table width=100% cellspacing=0 cellpadding=0 >
<tr><td width=30%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="multientry.html"><table><td valign=center><td><span title="Previous: The Multi-Entry Glyph"><i  style='font-size:16pt;'  class="fa fa-caret-left "></i></span></td><td>The Multi-Entry Glyph</td></tr></table></a></div></div></td>
<td align=right width=30%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="imdvglyphs.html"><table><tr valign=center><td>Custom Data Icons</td><td><span title="Next: Custom Data Icons"><i  style='font-size:16pt;'  class="fa fa-caret-right "></i></span></td></tr></table></a> </div></div> </td>
</tr></table>
</div>
<p>
</div>
</body>
</html>

