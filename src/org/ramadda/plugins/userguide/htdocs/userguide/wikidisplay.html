<html>
<head>
<title>Wiki Display Components</title>
  <link rel="stylesheet" type="text/css" href="./default.css" title="Style">

</head>

<body>
<div class="ramadda-documentation">
<div class="ramadda-doc-header">
<div style='padding-top:12px;margin-bottom:4px;'><a href="toc.html#wikidisplay.html"><span title="Table of contents"><i  style='font-size:16pt;'  class="fa fa-list "></i></span></a> &nbsp; <a href="index.html">RAMADDA User Guide</a>  > <a href="page_ramaddawikifacilities.html">RAMADDA Wiki Facilities</a> </div>
<table width=100% cellspacing=0 cellpadding=0 >
<tr valign=center><td width=25%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="wikientries.html"><table><td valign=center><td><span title="Previous: Wiki Display of Entries"><i  style='font-size:16pt;'  class="fa fa-caret-left "></i></span></td><td>Wiki Display of Entries</td></tr></table></a></div></div></td>
<td width=50% align=center>
<div class="ramadda-page-title"><a href="#">Section 6.3: Wiki Display Components</a></div>
</td>
<td align=right width=25%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="wikidisplay2.html"><table><tr valign=center><td>More Wiki Display Components</td><td><span title="Next: More Wiki Display Components"><i  style='font-size:16pt;'  class="fa fa-caret-right "></i></span></td></tr></table></a> </div></div> </td>
</tr></table>
</div>

<style type="text/css">
pre {
    margin-left:15px;
}
</style>

<div class="ramadda-doc-contents" style="margin-left:20px;">


<div  class="childlist" ><table  width="100%" ><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.0&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#basics" >
<a href="#basics">The Basics</a>
</a><br></td></tr><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.1&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#thedata" >
<a href="#thedata">The Data</a>
</a><br></td></tr><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.2&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#fields" >
<a href="#fields">Specifying Fields</a>
</a><br></td></tr><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.3&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#filters" >
<a href="#filters">Filtering Data</a>
</a><br></td></tr><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.4&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#converting" >
<a href="#converting">Converting Data</a>
</a><br></td></tr><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.5&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#subsetting" >
<a href="#subsetting">Subsetting Data</a>
</a><br></td></tr><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.6&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#" >
Color
</a><br></td></tr><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.7&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#groups" >
<a href="#groups">Display Groups</a>
</a><br></td></tr><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.8&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#changeentries" >
<a href="#changeentries">Displaying Multiple Entries</a>
</a><br></td></tr><tr  valign="top" ><td  width="10%"  align="right" ><span  class="childlist-level" >
6.3.9&nbsp;
</span></td><td><a  class="childlist-link"  href="wikidisplay.html#displays" >
<a href="#displays">The Displays</a>
</a><br></td></tr></table></div>


RAMADDA provides a number of information and data display components in the wiki facility. 
There are a number of  
<a href="https://ramadda.org/repository/entry/show?entryid=049a8297-58d7-4646-b689-b188ac274640">examples</a> available. An easy way to figure out what is going on is to the the  wiki text of working examples. The wikitext used for any RAMADDA entry can be viewed with the Menu-&gt;View-&gt;Information page  - 
<a href="https://ramadda.org/repository/entry/show/Home/Content/Miscellany/Example+Charts/World%27s+Oldest+People+Data+is+Beautiful?entryid=d7c23939-dbfe-4bbf-9045-70e2422c3117&output=html.info">example</a>.


<a name="basics"></a><p><div class="ramadda-help-heading">6.3.0 <a href="#basics">The Basics</a></div> 
The charts and information displays follow the RAMADDA wiki tag format:

<pre>{<noop>{display_&lt;display type&gt;  &lt;name=value pairs&gt;}}</pre>

Each of these tags support the following attributes:
<pre>
layoutHere=&quot;true&quot;  
showMenu=&quot;true&quot;  
showTitle=&quot;true&quot;
title=&quot;Title to display&quot;
</pre>
If <i>layoutHere</i> is set to false then the component is laid out by the container group (below). 
Otherwise it is displayed in place.
<p>



<a name="thedata"></a><p><div class="ramadda-help-heading">6.3.1 <a href="#thedata">The Data</a></div> 
The data that is displayed takes the form of a number of records where each record is composed of the same number of fields.
Optionally, records can also have a latitude/longitude position and a date associated with them.
You can think of the data as a structured representation of a CSV file. 
<pre>
name(type=string),occupation(type=enumeration),value1(type=double),value2(type=int)
Joe,bartender,1.3,17
Jill,ceo,39,54
Jane,pilot,39,54
...
</pre>


The total number of records fetched from the server
can be set with the "max" attribute. This will only retrieve the first N records.
So, for example if you have a dataset with lots of records (e.g., 20000) you can display them
all (e.g., in a line chart) with:
<pre>{<noop>{display_linechart max=20000}}</pre>

If you have a number of displays on one page that you want to apply the same max value for then use:
<pre>
{<noop>{property max=20000}}
{<noop>{display_linechart}}
{<noop>{display_table}}      	
</pre>

You can specify a stride with the "skip" attribute. For example if you want to fetch every other record do:
<pre>{<noop>{display_linechart skip=1}}</pre>

Every 10th record do:
<pre>{<noop>{display_linechart skip=10}}</pre>		  
	
If you only wanted the last N records specify, e.g.:   
<pre>{<noop>{display_linechart lastRecords=10}}</pre>		  

You can also specify a start and end date range with:
<pre>{<noop>{display_linechart startDate="yyyy-MM-dd HH:mm" endDate="yyyy-MM-dd HH:mm"}}</pre>
e.g.:
<pre>{<noop>{display_linechart startDate="2021-01-01"}}</pre>		

The startDate and endDate can also be relative to the current date. For example, if you wanted to get the last week's data you would do:
<pre>{<noop>{display_linechart startDate="-1 week"}}</pre>		
In general the relative dates take the form:
<pre>
&lt;offset&gt; &lt;dateunit&gt;
where:
dateunit=second|minute|hour|day|week|month|year|century|millenium
</pre>

For example:
<pre>{<noop>{display_linechart startDate="-13 days" endDate="-5 days"}}</pre>




<a name="fields"></a><p><div class="ramadda-help-heading">6.3.2 <a href="#fields">Specifying Fields</a></div> 
Most of these displays are based on <a href='pointdata.html'>point data</a> in RAMADDA. The point data model
is based on a series of records (or rows) that are made up of a set of fields (or columns). 
Each field has  a certain type - double, integer, string,  date.
Many of the displays below use a <i>fields</i> attribute to specify the fields that are displayed. 
These are either the field ids of the point data or a 1-based index into the field list.

<pre>
fields="active_voters,total_ballots"
Or:
fields="1,#2,#3"
</pre>

The field ids for a point data entry can be viewed with the  Metadata view, e.g. -  
(<a href="https://ramadda.org/repository/entry/show/Home/RAMADDA+Information/Site+Content/Development/Example+Charts?entryid=e8af924a-2194-4fd0-83be-92d006837c00&output=points.metadata">example</a>).


<pre>{<noop>{display_linechart fields="#5,#6,#7,#8,#9,#10" }}</pre>

<a name="filters"></a><p><div class="ramadda-help-heading">6.3.3 <a href="#filters">Filtering Data</a></div> 
A display can present a set of widgets that allow the user to filter the data being shown. For example, in the image below (See <a href="https://ramadda.org/repository/alias/14ers">here<a>) the data has a set of fields - elev, elev_gain, distance, range and class. 

<center><a name="image1"></a><div><a href="images/filters.png?version=65.0"><img  src="images/filters.png?version=65.0" width=50% alt="Filtering Data" ></a><br><span class="caption">Image 1: Filtering Data</span></div></center>

Below is the wiki text that creates the above display. The map display defines which fields should be used with the filterFields="..." attribute. The ranking display specifies the same set of filter fields but also has a hideFilterWidget=true which specifies to actually not show the widgets. The filter values the user enters in the map display are then applied to the ranking display.
<pre>+row
+col-3
{<noop>{display  type=&quot;ranking&quot;  
...
filterFields=&quot;elev,elev_gain,distance,range,class&quot; hideFilterWidget=true
 }} 
 -col
 +col-9
{<noop>{display  type=&quot;map&quot;  
...
filterFields=&quot;elev,elev_gain,distance,class,range&quot;
}} 
 -col
 -row
</pre>

Filter attributes:

<ul>
<li> filterFields="field1,field2"<br>
The fields to filter on

<li> hideFilterWidget=true<br>
Don't show the filter widgets. 

<li> &lt;field_name&gt;.filterValue=&quot;some value&quot; <br>
Specify an initial filter value


<li> &lt;field_name&gt;.includeAll=&quot;false&quot;<br>
For enumerated values a menu of items is shown. To not have the "All" value 
add a   attribute. 

<li> &lt;field_name&gt;.filterMultiple=&quot;true&quot;<br>
Support multiple values to filter on

<li> &lt;field_name&gt;.filterMultipleSize=&quot;5&quot;<br>
How big a selection menu to show

<li> &lt;field_name&gt;.filterValues=&quot;value1,value2,..&quot;  <br>
Specify values to use in the filter menu instead of the values in the data


<li> &lt;field_name&gt;.filterValueMin=&quot;min value&quot, &lt;field_name&gt;.filterValueMax=&quot;max value&quot;<br>
Use these to specify initial values for numeric fields.

<li> &lt;field_name&gt;.filterLabel=&quot;some label&quot; <br>
Specify an alternative label to display with the filter widget

<li> &lt;field_name&gt;.filterPrefix=&quot;some prefix&quot;, &lt;field_name&gt;.filterSuffix=&quot;some suffix&quot;<br>
Specify extra text to wrap the filter value 

</ul>

<a name="converting"></a><p><div class="ramadda-help-heading">6.3.4 <a href="#converting">Converting Data</a></div> 
<pre>
convertData="command1;command2;...;"

Where commands can be:
  derived(field=field_id, function=some_expression)
e.g.:
  derived(field=poptimes10, function=population*10)

  rotateData(includeFields=true,includeDate=true,flipColumns=true)
  addPercentIncrease(replaceValues=false)

</pre>


<a name="subsetting"></a><p><div class="ramadda-help-heading">6.3.5 <a href="#subsetting">Subsetting Data</a></div> 
You can specify various filters applied to the data
<pre>
By date:
startDate="yyyy-MM-dd"
endDate="yyyy-MM-dd"

By value:
dataFilters="command(field=&lt;field id&gt;,value=&lt;value&gt,enabled=&lt;value&gt,label=&lt;label&gt;...


Where "command" can be one of:
match - string match
notmatch - string not match
lessthan - &lt;=
greaterthan - &gt;=
equals
notequals


If the label is specified then a selector checkbox will be shown to turn on/off this filter

</pre>




You can also sample the data with:
<pre>
stride=1 -  take every other point
maxDisplayedPoints= - if set, then set the stride so we at most have  maxDisplayedPoints points
</pre>

You can bin the data based on dates with:
<pre>
binDate=day|week|month|year
binType=total|count|average
</pre>

Only show unique rows with:
<pre>
uniqueField=&lt;field id&gt;
</pre>





<p><div class="ramadda-help-heading">6.3.6 Color</div> 
RAMADDA provides a large number of built-in color tables.
The full set of color tables can be viewed at 
<a href="${root}/colortables">here</a>.

When editing the wiki text if you right-lick inside
of a <i>{<noop>{display ...}}</i> tag a context menu will be shown that will list the available color tables.
Colors are defined and can also be modified the following ways.

<pre>
colorTable="some color table name" - specify the color table

colorTable="colors:red,green,blue,...."   - explicit list of colors

colorTable.&lt;field name&gt; ="some color table"  - specify a color table for one of the "color by" fields

colorTableInverse="true"   -reverse the colors

colorTableAlpha="0.0 - 1.0" - specify a transparency value

colorBy=&lt;field name&gt; - specify a data field to color by

colorByFields=&lt;field1,field2,...,fieldN&gt; - specify a number of fields to allow the user to choose how to color

</pre>


<a name="groups"></a><p><div class="ramadda-help-heading">6.3.7 <a href="#groups">Display Groups</a></div>  
There is a <i>group</i> tag that can manage a number of children displays. The general use is of the form below where displays 1-3 are part of group 1 and displays 4,5 are part of group 2. 
The group allows for different displays to communicate with each other 
(e.g., creating a new chart, map click, animation, etc), the inheritance of
certain attributes (e.g., showMenu, showTitle) 
and the layout of the children displays.
If there is a wiki page that does not have a group but only one or more display tags then a group will be
added automatically. 



<pre>
{<noop>{group group 1 ...}}
{<noop>{display display 1}}
{<noop>{display display 2}}
{<noop>{display display 3}}

{<noop>{group group 2...}}
{<noop>{display display 4}}
{<noop>{display display 5}}
</pre>

If <i>showMenu</i> is set to true for a group then the below menu is displayed. This supports the interactive creation of new charts and displays. The layout of these displays can be changed interactively, their state can be changed and they
can be deleted. 

<center><a name="image2"></a><div><a href="images/charts/groupmenu.png?version=65.0"><img  src="images/charts/groupmenu.png?version=65.0"  alt="Group menu" ></a><br><span class="caption">Image 2: Group menu</span></div></center>

If the user is logged in then the set of dynamically created displays can be saved (e.g., as a wiki page) 
through the group menu as seen below:
<center><a name="image3"></a><div><a href="images/charts/groupmenu2.png?version=65.0"><img  src="images/charts/groupmenu2.png?version=65.0"  alt="File save menu" ></a><br><span class="caption">Image 3: File save menu</span></div></center>

<div class="ramadda-help-subsubheading">Display Layout</div> 
Each child display may be located in a fixed location (using <i>layoutHere=false</i>) in the web page 
or the group can manage the layout of the children displays. Different layouts can be 
specified with the <i>layoutType</i> attribute. The available layouts are:
<pre>
layoutType=tabs
layoutType=table
layoutType=columns
layoutType=rows
</pre>

Using the table layout the number of columns is specified with the <i>layoutColumns</i> attribute.
For the <i>columns</i> and <i>rows</i> layout type each child display can specify the <i>column</i> number of
<i>row</i> number it should be placed in. For example, for the <i>rows</i> layout if you had:
<pre>
{<noop>{group layoutType="rows"}}
{<noop>{display display1  row="1"}}
{<noop>{display display2  row="1"}}
{<noop>{display display3  row="1"}}
{<noop>{display display4  row="2"}}
{<noop>{display display5  row="2"}}
{<noop>{display display6  row="3"}}
</pre>

Would result in (without the border):
<p>
<table width="50%" border=1><tr><td width=33%>display1</td><td width=33%>display2</td><td width=33%>display3</td></table>
<table width="50%" border=1><tr><td width=50%>display4</td><td width=50%>display5</td></table>
<table width="50%" border=1><tr><td width=100%>display6</td></table>
<p>

The <i>divid</i> attribute allows you to specify a div tag that is in the wiki page as the location for the group and the displays
to place themselves in. For example, below is the (abbreviated) wiki text used to create
this <a href="https://ramadda.org/repository/entry/show/Home/RAMADDA+Examples/Rich+Content+Wikis/Display+Wikis/General+purpose+file+viewer?entryid=a98aa183-939b-471d-b31d-382e10657f2f">page</a> on ramadda.org.

We want to have a fixed layout where the entry list is on the left and the map is on the right. Any charts or other display components that are interactively created by the user are managed by the group and layed out below the list and map.
To do this we define a regular html table layout that contains a couple of div tags - one for the list and one for the map. We set the IDs of the div tags and then reference those IDs in the display wiki tags below.

Likewise, the group has a divid=maindiv which corresponds to the div at the bottom of the page.

<div style="margin:10p;"><pre>
&lt;table width=100% border=0 cellpadding=10&gt;
&lt;tr valign=top&gt;
&lt;td width=50%&gt;&lt;div id=&quot;listdiv&quot;&gt;&lt;/div&gt;&lt;/td&gt;
&lt;td width=50%&gt;&lt;div id=&quot;mapdiv&quot;&gt;&lt;/div&gt;&lt;/td&gt;
&lt;/table&gt;

&lt;div id=maindiv&gt;&lt;/div&gt;
{&lt;noop&gt;{group  layoutType=&quot;table&quot;  layoutColumns=&quot;1&quot; divid=&quot;maindiv&quot;}<noop>}
{&lt;noop&gt;{display_entrylist   divid=&quot;listdiv&quot; }<noop>}
{&lt;noop&gt;{display_map  layoutHere=&quot;true&quot; height=&quot;250&quot; divid=&quot;mapdiv&quot;}<noop>}
</pre></div>






<a name="changeentries"></a><p><div class="ramadda-help-heading">6.3.8 <a href="#changeentries">Displaying Multiple Entries</a></div>  
When you have multiple entries you can create a display (e.g., a time series)
and allow the user to select which entry to display.

<a href="https://ramadda.org/repository/a/swe">Here</a> is an example
that shows a time series plot of one of a set of data files:
<center><img src="changeentries.png" width="80%"></center>


Below is the relevant wiki text for the above display. You can also view the
full wiki text <a href="https://ramadda.org/repository/entry/show/Home/Content/RAMADDA+Examples/Science+Data/Snow+Water+Equivalent?entryid=1dfc94dc-376e-4a5b-9aaa-93db7771faa3&output=html.info">here</a>.

All that is needed is to add a <i>changeEntries=true</i> attribute to the group tag.
An optional <i>changeEntriesLabel</i> can be specified to provide a context specific label.
The <i>firstEntry</i> attribute is an optional way of specifying which entry should be shown
as the first entry. For the actual displays you should specify an entry that is initially used as well.

<pre>
{<noop>{group  changeEntries=true changeEntriesLabel="<b>Select Region</b>" 
firstEntry="93198426-f87d-40e6-b206-43b25ad1d4fa"  
}}
<table width=100%><tr valign=top><td width=1%>
{<noop>{display_fieldslist width=150px
entry=93198426-f87d-40e6-b206-43b25ad1d4fa
fields="#41,#42,#43,#44,#45,#46,#47,#48,#49,#50"
...
}}
</td><td>
{<noop>{display_linechart
entry=93198426-f87d-40e6-b206-43b25ad1d4fa
fields="#41,#42,#43,#44,#45,#46,#47,#48,#49,#50"
...
}} 
</tr></table>
</pre>


The above lists the entries in a menu. Alternatively you can display the entries in a map
or in a timeline. 


<a name="displays"></a><p><div class="ramadda-help-heading">6.3.9 <a href="#displays">The Displays</a></div> 

<a name="entrylist"></a>
<div class="ramadda-help-subsubheading"><a href="#entrylist">Search form</a>
</div> 
Supports an embedded and configurable search form. 
New displays (e.g., line chart) based on the result entries can be created.
<a name="display_entrylist"></a><pre>{<noop>{display_entrylist width="800"  
height="400"  
orientation="vertical|horizontal"  
showForm="true|false - is form shown"
formOpen="true|false - is form open"
showSearchSettings="true|false"
showType="true|false - show the type selector menu" 
types="comma separated list of entry types to show"
doSearch="true|false - perform the search when the page is first displayed"
showToggle="true|false - show the form toggle"
showText="true|false - show the search text input"
showArea="true|false - show the map selector"
showDate="true|false - show the data selector"
showMetadata="true|false - show the metadata search fields"
metadataTypes="comma separated list of metadata types to show"
formWidth="width of the search form"
entriesWidth="width of the results list"
provider="google,arxiv,wolfram,..."}}</pre><center><a name="image4"></a><div><a href="images/charts/searchform.png?version=65.0"><img  src="images/charts/searchform.png?version=65.0"  style="max-width:90%; " alt="Search form" ></a><br><span class="caption">Image 4: Search form</span></div></center>

The entries displayed in the results list can be interactively displayed. 

The <i>provider</i> attribute allows you to specify alternative search providers.
The list of available search providers can be viewed <a href="${root}/search/providers">here</a>.
<p>
The <i>metadataTypes</i> attribute allows you to specify what metadata to show.
The list of available metadata types can be viewed <a href="${root}/search/info#metadatatypes">here</a>.

<p>
In the search results list new displays can be created through the pull down menu:

<center><div><a href="images/entrylist.png?version=65.0"><img  src="images/entrylist.png?version=65.0"  alt="images/entrylist.png?version=65.0" ></a></div></center>


<a name="entrygrid"></a>
<div class="ramadda-help-subsubheading"><a href="#entrygrid">Entry Grid</a>
</div> 
The entrygrid display shows a set of entries based on their date.
<a name="display_entrygrid"></a><pre>{<noop>{display_entrygrid showIcon=&quot;true&quot;  showName=&quot;true&quot;  scaleWidth=&quot;true&quot;  scaleHeight=&quot;false&quot;  
#xAxisAscending=&quot;true&quot;  
#xAxisScale=&quot;true&quot;  
#yAxisAscending=&quot;true&quot;  
#yAxisScale=&quot;true&quot;  
#urlTemplate=&quot;{url}|{entryid}|{resource}&quot;  
#height=&quot;400&quot;  #width=&quot;100%&quot;  
#entries=&quot;&quot;}}</pre><center><a name="image6"></a><div><a href="images/charts/entrygrid.png?version=65.0"><img  src="images/charts/entrygrid.png?version=65.0"  style="max-width:90%; " alt="Entry Grid" ></a><br><span class="caption">Image 6: Entry Grid</span></div></center>

<a name="animation"></a>
<div class="ramadda-help-subsubheading"><a href="#animation">Animation</a>
</div> 
Controls time or index based animation. Other charts will highlight the record of  the current time.
<a name="display_animation"></a><pre>{<noop>{display_animation}}</pre><center><a name="image7"></a><div><a href="images/charts/animation.png?version=65.0"><img  src="images/charts/animation.png?version=65.0"  style="max-width:90%; " alt="Animation" ></a><br><span class="caption">Image 7: Animation</span></div></center>





<a name="map"></a>
<div class="ramadda-help-subsubheading"><a href="#map">Map</a>
</div> 
A map that shows georeferenced point data. This can be integrated with other displays, e.g., clicking on a point will highlight that location in
a line chart.
<ul>

<li> If a Geojson or Kml layer is specified then the layer is displayed instead of the points. The location of each point is used to
find a containing map feature. That map feature is then colored as defined below.

<li> <i>pruneFeatures</i>. If set to true than any map feature that does not have a corresponding point will not be shown.

r<li> The <i>colorBy</i> attribute specifies the field that is used to color the points or the map segments. 
The <i>colorTable</i> attribute specifies a color table to
use and the <i>colorByMin</i> and <i>colorByMax</i> attributes are option and are used to define a color range.

<li> The <i>centerOnFilterChange</i> will cause the map to recenter when the data is subset from the selection filters.

<li> The displayDiv, when specified, is the id of a div tag  that the map will display the details of
a point or map segment as the user mouses over it. The [ug::attr {displayDiv="mapDisplay${entryid}"}] macro
allows one to specify a unique div id for pages that may have multiple map displays. The div looks like:
[wiki::text {
&lt;div id="mapDisplay{<noop>{entryid}}" style="max-height:500px;"&gt;&lt;/div&gt;
}]
There is a full example shown below.
</ul>
<a name="display_map"></a><pre>{<noop>{display_map width=&quot;100%&quot;  height=&quot;400&quot;
geojsonLayer="entry id of a geojson file" 
geojsonLayerName="Layer name"
kmlLayer="entry id of a kml file" 
kmlLayerName="Layer name"
pruneFeatures="true" 
colorBy="total_ballots"
colorTable="inversegrayscale"
colorByMin="min value"
colorByMax="max value"
displayDiv="mapDisplay${entryid}"}}</pre><a href='https://ramadda.org/repository/entry/show?entryid=1c99bcff-94a9-43a8-beb5-45a87adb2cc4'>Example</a><center><a name="image8"></a><div><a href="images/charts/mappoints.png?version=65.0"><img  src="images/charts/mappoints.png?version=65.0"  style="max-width:90%; " alt="Map" ></a><br><span class="caption">Image 8: Map</span></div></center>

<center><a name="image9"></a><div><a href="images/charts/map.png?version=65.0"><img  src="images/charts/map.png?version=65.0" width=50% alt="Chloropleth Map" ></a><br><span class="caption">Image 9: Chloropleth Map</span></div></center>



This is the wiki text used in the above example:

<pre> 
:heading Map
+row
+col-md-6
{<noop>{display_map column="1"  width="-100" height="500"   includeData="false"   showTitle="false" 
title="Colored by total ballots" 
geojsonLayer="7c8f5e25-e569-4ca9-b389-5bb03cdb138b" 
geojsonLayerName="Precincts"
displayAsMap="true"
pruneFeatures="true"
colorBy="total_ballots"
colorBar="inversegrayscale"
displayDiv="mapDisplay${entryid}"
}}
-col
+col-6
<br>
:heading Map Details
<div id="mapDisplay{<noop>{entryid}}" style="max-height:500px;"></div>
-col
-row
</pre>

<b>Map Animation:</b><br>
The map display can be configured to provide a time-based animation of the points with the following attributes.

<pre>
doAnimation="true" - enable animation
animationShowSlider="true" - show the slider
animationDateFormat="yyyyMMdd" or "yyyy" - default is the fully formatted date
animationMode="cumulative" or "sliding" - how the time window is moved
animationSteps="60"   - how many steps
animationWindow="year" or "month" or "day" or "hour" or "minute" or "second"  - override the animationSteps
animationSpeed="250" - time in milliseconds between each step
</pre>

<b>Map Labels:</b><br>
You can display text labels at each point with the following attributes:
<pre>
labelTemplate="text template with ${field id} macros. Use _nl_ for new lines"
labelFontColor="#000"
labelFontSize="12px"
labelFontFamily="'Open Sans', Helvetica Neue, Arial, Helvetica, sans-serif"
labelFontWeight="plain"
labelAlign="lb"  //See http://dev.openlayers.org/docs/files/OpenLayers/Feature/Vector-js.html
align is of the form "hv" where h is "l|c|r" (left, center, right)  and v is "t|n|b" (top,middle,bottom)
labelXOffset="0"
labelYOffset="0"
labelOutlineColor="#fff")
labelOutlineWidth="0"
</pre>


<b>Map Sizes</b><br>
<pre>
//Define the point radius
radius="4" 
//define a field to size by
sizeBy="&lt;field&gt;"
//use a log scale
sizeByLog=true
//Size min/max
sizeByRadiusMin=1
sizeByRadiusMax=15
</pre>

<b>Map Colors</b><br>
<pre>
//Field to color by
colorBy="&lt;field&gt;cnt"
//Color table
colorTable="blue_green_red"
//Or colors
colors="color1,color2,...,colorN"
//Use a log scale
colorByLog=true
//Set the stroke color
strokeColor="#fff0"
//Map string values to colors
colorByMap="value:color,...,value:color"

//These are used in conjunction with a vector map layer
//If true then count the points within each map feature and use that as the color by value
colorByCount=true
//Suffix to show on map click
doCountLabel="clubs"

//If true then prune out the features that don't have any data points in them
pruneFeatures="true"
</pre>


<b>Map Shapes</b><br>
Define different shapes to display in the map.

<pre>
//Define a different icon to use 
pointIcon="/repository/dutchbrothers.png" 
//Define a different shape
shape="star|cross|x|square|triangle|circle|lightning|rectangle|church"
//Map values to shape
shapeBy=&lt;field&gt;
shapeByMap="value1:shape1,...,valueN:shapeN"

</pre>

<a name="linechart"></a>
<div class="ramadda-help-subsubheading"><a href="#linechart"> Line chart</a>
</div> 
Displays time series or indexed point data. The vAxisMinValue and vAxisMaxValue are used as the range instead of the min/max from the data.
<br>
If <i>padRight</i> is set to true than the chart is padded on the right with the same space as what is used for the second axis legend. This allows
for two or more charts to be aligned that have one or more fields being displayed.
<a name="display_linechart"></a><pre>{<noop>{display_linechart width=&quot;800&quot;  height=&quot;400&quot;  
fields=&quot;&quot;       
vAxisMinValue="0" vAxisMaxValue="1.0" padRight="true"}}</pre><center><a name="image10"></a><div><a href="images/charts/linechart.png?version=65.0"><img  src="images/charts/linechart.png?version=65.0"  style="max-width:90%; " alt=" Line chart" ></a><br><span class="caption">Image 10:  Line chart</span></div></center>


<a name="colors"></a>
You can set various colors of the chart with the following properties:

<pre>
chart.fill="color or 'transparent'"
chart.stroke="stroke color"
chart.strokeWidth="width"

chartArea.fill="color or 'transparent'"
chartArea.stroke="stroke color"
chartArea.strokeWidth="width"

hAxis.gridlines.color="color"
vAxis.gridlines.color="color"

</pre>


<a name="annotations"></a>
<b>Annotating Charts</b><br>
Annotations for a chart can be specified in two ways. 
The first is to specify one or more data fields to create the annotation from:
<pre>
  annotationFields="field1,field2,..."
  annotationLabelField="field" //optional for the label
</pre>

The second way is to specify the annotations using an <i>annotations</i> attribute:
<pre>
annotations="
&lt,index1&gt,label1,description1;
&lt,index2&gt,label2,description2;
...
"
</pre>
Where &lt;index&gt; is either a date or a numeric index, e.g;
<pre>
 annotations="
2,A,annotation 1;
2016-06-24,B,annotation 2;
2016-06-24,C,&lt,h1&gt,annotation 3&lt/h1&gt;
2017-01-02,D,annotation 4
"
</pre>


<a name="barchart"></a>
<div class="ramadda-help-subsubheading"><a href="#barchart">Bar chart</a>
</div> 
<a name="display_barchart"></a><pre>{<noop>{display_barchart fields=""  padRight="true"}}</pre><center><a name="image11"></a><div><a href="images/charts/barchart.png?version=65.0"><img  src="images/charts/barchart.png?version=65.0"  style="max-width:90%; " alt="Bar chart" ></a><br><span class="caption">Image 11: Bar chart</span></div></center>

<a name="barstack"></a>
<div class="ramadda-help-subsubheading"><a href="#barstack">Stacked bar chart</a>
</div> 
<a name="display_barstack"></a><pre>{<noop>{display_barstack fields=""}}</pre>




<a name="areachart"></a>
<div class="ramadda-help-subsubheading"><a href="#areachart">Area chart</a>
</div> 
<a name="display_areachart"></a><pre>{<noop>{display_areachart width=&quot;800&quot;  height=&quot;400&quot;  
fields=&quot;&quot;  
vAxisMinValue="0" vAxisMaxValue="1.0" 
padRight="true"
isStacked=&quot;true&quot;}}</pre><center><a name="image12"></a><div><a href="images/charts/areachart.png?version=65.0"><img  src="images/charts/areachart.png?version=65.0"  style="max-width:90%; " alt="Area chart" ></a><br><span class="caption">Image 12: Area chart</span></div></center>

<a name="scatterplot"></a>
<div class="ramadda-help-subsubheading"><a href="#scatterplot"> Scatter Plot</a>
</div> 
<a name="display_scatterplot"></a><pre>{<noop>{display_scatterplot width=&quot;800&quot;  height=&quot;400&quot;  fields=&quot;&quot;}}</pre><center><a name="image13"></a><div><a href="images/charts/scatterplot.png?version=65.0"><img  src="images/charts/scatterplot.png?version=65.0"  style="max-width:90%; " alt=" Scatter Plot" ></a><br><span class="caption">Image 13:  Scatter Plot</span></div></center>

<a name="histogram"></a>
<div class="ramadda-help-subsubheading"><a href="#histogram"> Histogram</a>
</div> 
The   <i>minValue</i> and <i>maxValue</i> attributes are used to specify the  maximum and minimum evertical data value to render.
More info at <a href="https://developers.google.com/chart/interactive/docs/gallery/histogram">Google charts histogram documentation</a>.
<a name="display_histogram"></a><pre>{<noop>{display_histogram width=&quot;800&quot;  height=&quot;400&quot;  fields=&quot;&quot;  
colors=&quot;comma separated color list&quot;  
legendPosition=&quot;none|top|right|left|bottom&quot;  
textPosition=&quot;out|in|none&quot;  
isStacked=&quot;false|true|percent|relative&quot;  
logScale=&quot;true|false&quot;  scaleType=&quot;log|mirrorLog&quot;  
vAxisMinValue=&quot;&quot;  vAxisMaxValue=&quot;&quot;  
minValue=&quot;&quot;  maxValue=&quot;&quot;}}</pre><center><a name="image14"></a><div><a href="images/charts/histogram.png?version=65.0"><img  src="images/charts/histogram.png?version=65.0"  style="max-width:90%; " alt=" Histogram" ></a><br><span class="caption">Image 14:  Histogram</span></div></center>


<a name="bubble"></a>
<div class="ramadda-help-subsubheading"><a href="#bubble">Bubble Chart</a>
</div> 
The <i>fields</i> specify a text field for the label and the numeric value fields used for the x and y axis, the bubble color and bubble  size.
<a name="display_bubble"></a><pre>{<noop>{display_bubble width=&quot;500&quot;  height=&quot;500&quot;  
fields=&quot;label|x|y|color|size&quot;  
colorTable=&quot;&quot;  
colors=&quot;comma separated color list&quot;  
legendPosition=&quot;none|top|right|left|bottom&quot;  
hAxisFormat=&quot;none|decimal|scientific|percent|short|long&quot;  
vAxisFormat=&quot;none|decimal|scientific|percent|short|long&quot;  
hAxisTitle=&quot;&quot;  
vAxisTitle=&quot;&quot;}}</pre><a href='images/charts/bubble.png'>Example</a>

<a name="piechart"></a>
<div class="ramadda-help-subsubheading"><a href="#piechart"> Pie chart</a>
</div> 
More info at <a href="https://developers.google.com/chart/interactive/docs/gallery/piechart">Google charts pie chart documentation</a>
<a name="display_piechart"></a><pre>{<noop>{display_piechart fields=&quot;&quot;
pieHole=&quot;0.5&quot;  
is3D=&quot;true&quot;    
bins=&quot;bin count&quot;  
binMin=&quot;min&quot;  
binMax=&quot;max&quot;  
sliceVisibilityThreshold=&quot;0.01&quot;  
width=&quot;500&quot;  height=&quot;250&quot;}}</pre><center><a name="image15"></a><div><a href="images/charts/piechart.png?version=65.0"><img  src="images/charts/piechart.png?version=65.0"  style="max-width:90%; " alt=" Pie chart" ></a><br><span class="caption">Image 15:  Pie chart</span></div></center>

<a name="radar"></a>
<div class="ramadda-help-subsubheading"><a href="#radar">Radar Display</a>
</div> 
<a name="display_radar"></a><pre>{<noop>{display_radar fields=""}}</pre><a href='https://ramadda.org/repository/entry/show?entryid=1f7c455f-1518-42cf-8701-8edc2a1e9ecb'>Example</a><center><a name="image16"></a><div><a href="images/charts/radar.png?version=65.0"><img  src="images/charts/radar.png?version=65.0"  style="max-width:90%; " alt="Radar Display" ></a><br><span class="caption">Image 16: Radar Display</span></div></center>

<a name="windrose"></a>
<div class="ramadda-help-subsubheading"><a href="#windrose">Wind Rose</a>
</div> 
<a name="display_windrose"></a><pre>{<noop>{display_windrose fields=""}}</pre><a href='https://ramadda.org/repository/entry/show?entryid=1f7c455f-1518-42cf-8701-8edc2a1e9ecb'>Example</a><center><a name="image17"></a><div><a href="images/charts/windrose.png?version=65.0"><img  src="images/charts/windrose.png?version=65.0"  style="max-width:90%; " alt="Wind Rose" ></a><br><span class="caption">Image 17: Wind Rose</span></div></center>


<a name="density"></a>
<div class="ramadda-help-subsubheading"><a href="#density">Density Display</a>
</div> 
<a name="display_density"></a><pre>{<noop>{display_density fields="tmax,vp"}}</pre><a href='https://ramadda.org/repository/entry/show?entryid=1f7c455f-1518-42cf-8701-8edc2a1e9ecb'>Example</a><center><a name="image18"></a><div><a href="images/charts/density.png?version=65.0"><img  src="images/charts/density.png?version=65.0"  style="max-width:90%; " alt="Density Display" ></a><br><span class="caption">Image 18: Density Display</span></div></center>



<a name="3dscatter"></a>
<div class="ramadda-help-subsubheading"><a href="#3dscatter">3D Scatter</a>
</div> 
<a name="display_3dscatter"></a><pre>{<noop>{display_3dscatter fields=""}}</pre><a href='https://ramadda.org/repository/entry/show?entryid=1f7c455f-1518-42cf-8701-8edc2a1e9ecb'>Example</a><center><a name="image19"></a><div><a href="images/charts/3dscatter.png?version=65.0"><img  src="images/charts/3dscatter.png?version=65.0"  style="max-width:90%; " alt="3D Scatter" ></a><br><span class="caption">Image 19: 3D Scatter</span></div></center>










<a name="calendar"></a>
<div class="ramadda-help-subsubheading"><a href="#calendar"> Calendar</a>
</div> 
Displays point data based on the date of each record. The calendar entry is color coded based on the specified field.
<br>
If <i>missingValue</i> is specified than any point value with that value won't be shown.
<a name="display_calendar"></a><pre>{<noop>{display_calendar fields=&quot;&quot;  cellSize=&quot;15&quot;  missingValue=&quot;0&quot;}}</pre><center><a name="image20"></a><div><a href="images/charts/calendar.png?version=65.0"><img  src="images/charts/calendar.png?version=65.0"  style="max-width:90%; " alt=" Calendar" ></a><br><span class="caption">Image 20:  Calendar</span></div></center>

<a name="gauge"></a>
<div class="ramadda-help-subsubheading"><a href="#gauge"> Gauge</a>
</div> 
This shows a single value from a series of point data.
<a name="display_gauge"></a><pre>{<noop>{display_gauge fields=&quot;&quot;  gaugeMin=&quot;&quot;  gaugeMax=&quot;&quot;  gaugeLabel=&quot;&quot;}}</pre><center><a name="image21"></a><div><a href="images/charts/gauge.png?version=65.0"><img  src="images/charts/gauge.png?version=65.0"  style="max-width:90%; " alt=" Gauge" ></a><br><span class="caption">Image 21:  Gauge</span></div></center>





</div>
<p>

<p>&nbsp;<p>

<div class="ramadda-doc-footer">
<table width=100% cellspacing=0 cellpadding=0 >
<tr><td width=30%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="wikientries.html"><table><td valign=center><td><span title="Previous: Wiki Display of Entries"><i  style='font-size:16pt;'  class="fa fa-caret-left "></i></span></td><td>Wiki Display of Entries</td></tr></table></a></div></div></td>
<td align=right width=30%><div class=ramadda-doc-nav-container><div class=ramadda-doc-nav><a href="wikidisplay2.html"><table><tr valign=center><td>More Wiki Display Components</td><td><span title="Next: More Wiki Display Components"><i  style='font-size:16pt;'  class="fa fa-caret-right "></i></span></td></tr></table></a> </div></div> </td>
</tr></table>
</div>
<p>
</div>
</body>
</html>

