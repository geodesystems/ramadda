<!-- 
Since this is for import add a:
<import resource="type_archive_gallery.xml"/>
into some types.xml file
-->
<types>
<type  name="type_archive_gallery" 
 description="Archive Exhibit Gallery" 
 handler="org.ramadda.repository.type.VirtualTypeHandler" 
 super="type_virtual" 
 supercategory="General" 
 category="Archive" 
childtypes="type_image,wikipage,type_linked"
edithelp="&lt;a target=_help href=_quote_{{root}}/archive/index.html#archive_exhibits_quote_&gt;Exhibit help&lt;/a&gt;"
>

<!-- Columns-->
<column  name="show_gallery"  label="Show Gallery"  type="boolean"  default="true"  />
<column  name="show_map"  label="Show Map"  type="boolean"  default="false" />
<column  name="show_timeline"  label="Show Timeline"  type="boolean"  default="false" />
<!-- Properties-->
<property name="record.file.class" value="org.ramadda.data.point.text.CsvFile"/>
<property  name="icon"  value="/archive/gallery.png" />

<!-- Wiki text-->
<wiki><![CDATA[
+section title="{{name entry=ancestor:type:type_archive_exhibit}}"
{{description wikify=true entry=ancestor:type:type_archive_exhibit 
showToggle=true toggleOpen=false toggleLabel="Exhibit Information"}}
:vspace 1em
+row
+col-3
+div class="ramadda-bordered" style="padding:10px;padding-left:0px;min-height:80vh;"
{{links  #target="link target" entry="parent" orderby="entryorder_up,name_up" innerClass="ramadda-links-inner-simple"}} 
-div
-col
+col-9
+div class="ramadda-bordered" style="padding:10px;padding-top:0px;"
:nonavheading {{name link=true }}
+if haschildren=true  
+if show_gallery=true 
+if hasdescription=true hasthumbnail=true orlogic=true
+row tight=true
+col-6
{{image  useThumbnail=true showCaption=true width="90%"   popup="true"  inDiv="true"    align="center" }}
{{description wikify=true}}
-col
+col-6
{{gallery  width="90%" columns="2"   popup="true"  useThumbnail="false" 
orderby="entryorder_up,name_up"
showNonImages=true  decorate="false"  imageStyle=""  padding="10px"  style="padding-top:0px;" caption="${name}" }} 
-col
-row
-if
+if hasdescription=false hasthumbnail=false
{{gallery  width="90%" columns="4"   popup="true"  useThumbnail="false" 
orderby="entryorder_up,name_up"
showNonImages=true  decorate="false"  imageStyle=""  padding="10px"  style="padding-top:0px;" caption="${name}" }} 
-if
-if
+if show_gallery=false
${showmain}
-if
+if show_map=true
{{map hideIfNoLocations=true  wikiPrefix="----_nl_:heading Map" listEntries=true  listInMap=true }}
-if
+if show_timeline=true
:vspace 1em
----
:heading Timeline
{{display_timeline doEntries=true imageField="image"  
startDateField="start_date"  endDateField="end_date"
titleField="name"  urlField=entry_url
textTemplate="${description}" filterFields=name}}
-if
-if
+if haschildren=false
${showmain}
-if
-div
-col
-row
<block var="showmain">
+if hasthumbnail=true
+row
+col-3
{{image   useThumbnail=true showCaption=true   width="90%"   popup="true"  inDiv="true"    align="left" }}
-col
+col-9
{{description wikify=true}}
-col
-row
-if
+if hasthumbnail=false
{{description wikify=true}}
-if
</block>
-section]]></wiki>
</type>
</types>
