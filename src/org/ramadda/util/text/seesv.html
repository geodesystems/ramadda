<html>
  <head><title>RAMADDA SeeSV</title>
</head>    
<notcl>
<style type='text/css'>
  body {font-family: Arial, sans-serif;}
  ul {margin:0px;}
  .header {margin:10px;} .header a, .command a {color:#000; text-decoration:none;}
  h2 {
      font-size:120%;
      font-weight:bold;
      margin:0px;
  }
  pre {
      border : 1px #ccc solid;
      background:rgb(245,245,245);
      padding:4px;
      border-radius: 4px;
      margin-bottom:10px;
      margin-top:5px;
      margin-left:10px;
  }
  .examples {
      max-height: 400px;
      overflow-y:auto;
  }
  .command {border : 1px #ccc solid; padding:4px; background:#E7EFF4;}
  .command-block {
      margin-left:20px;
  }
  .cmd {
      font-style:italic;
  }


</style>

<h2>RAMADDA SeeSV</h2>
<center><a href='#Input'>Input</a> | <a href='#Filter'>Filter</a> | <a href='#Slice and Dice'>Slice and Dice</a> | <a href='#Change'>Change</a> | <a href='#Add Values'>Add Values</a> | <a href='#Dates'>Dates</a> | <a href='#Numeric/Boolean'>Numeric/Boolean</a> | <a href='#Geospatial'>Geospatial</a> | <a href='#Misc.'>Misc.</a> | <a href='#Output'>Output</a><br>The RAMADDA SeeSV package provides 261 commands for manipulating CSV and other types of files</center>


<h2>Introduction</h2>
The RAMADDA SeeSV can be used both interactively from within RAMADDA as well as via the command line. Help with the interactive version can be viewed
<a href="https://ramadda.org/repository/userguide/etl.html">here</a>.
<p>
For brevity, in the below documentation we're assuming  that you are using an alias:
<pre>
alias seesv="sh ~/seesv/seesv.sh"  
</pre>

The examples here show the command line use. If running interactively the commands are the same form except for the seesv calls and the specification of the input file. So, for example, if you are calling the tool from the command line as:
<pre class=example>
seesv -columns column1,column2 -p file.csv > output.csv
</pre>

The corresponding commands interactively would be:
<pre class=example>
-columns column1,column2
</pre>


<h2>Install</h2>
<ul>
<li> Download the seesv.zip file from the RAMADDA <a href=https://geodesystems.com/repository/alias/release>download</a> site
<li> Unzip the file
<li> Consult the README
<li> SeeSV runs using Java 1.8 or higher. Set the JAVA environment variable to point to the java runtime.
<li> Usage:<br>seesv &lt;any number of commands&gt; -p &ltinput file&gt; &gt; output file
</ul>
<p>


<h2>Basic Use</h2>  
The general use of the SeeSV tools is as follows:
<pre class=examples>
seesv &lt;a number of processing commands&gt; &lt;some output command&gt; file.csv &gt; output.csv
#or
seesv &lt;a number of processing commands&gt; &lt;some output command&gt; -o output.csv   file.csv 

#To show help:
seesv -help

#To show help on a topic:
seesv -help:some_topic

#With no processing commands and just printing the header:
seesv -printheader file.csv

#Or a shortcut
seesv -ph file.csv

#With no processing commands and csv output:
seesv -p file.csv &gt; output.csv

#With no processing commands and a record oriented  output:
seesv -record file.csv &gt; output.csv

#With the -columns command printing csv output
seesv -columns column1,column2 -p file.csv > output.csv
</pre>



<h2>Column Identifiers</h2>  
Note: many of these commands use one or more column names from the source file. 
These column names are converted to a canonical identifier format by lower casing, changing spaces to "_" and
removing non alpha numeric characters.
So for example if your source file is:
<pre>
column 1, Column 2, Some "funny" column
 ...
</pre>
Then the column ids are:
<pre>
column_1,column_2,some_funny_column
</pre>

You can always use the <span class=cmd>-ids</span> command to list the ids
<pre class=examples>
seesv -ids -printheader test.csv
</pre>


<h2>Some Examples</h2>  
<pre class=examples>
####  selecting columns
#Subset test.csv and only include column1 and column2
seesv -columns column1,column2 -p test.csv > newtest.csv

#You can also use numeric indices - zero based
seesv -columns 0,1 -p test.csv > newtest.csv

#Specify a range of columns
#either using column names:
seesv -columns column1-columnN -p test.csv > newtest.csv
#or indices:
seesv -columns 1-5,6,7,10-15 -p test.csv > newtest.csv

#or mix and match
seesv -columns 0-1,columnA,columnB,columnF-columnZ -p test.csv > newtest.csv

#Specify a step:
#seesv -columns start-end:step

#e.g. below gives 0,3,6,9,12,15
seesv -columns 0-15:3

#include all columns except column1
seesv -notcolumns column1 -p test.csv > newtest.csv

#subset columns and then change the values 
seesv -columns column1,column2 -change column1,column2 "pattern" "new value" -p test.csv > newtest.csv

#Only include column1 and then only pass through unique values
seesv -columns column1 -unique 0 -p test.csv > newtest.csv

#Only pass throught unique values in the first column and then sort the output
seesv -columns column1 -unique 0 -sort column1 -p test.csv > newtest.csv


</pre>

<hr><a name='Input'></a><b style='font-size:120%;'>Input</b><br>
Specify the input. Default is assumed to be a CSV but can support HTML, JSON, XML, Shapefile, etc<div class=header>Commands: <a href='#-delimiter'>-delimiter</a> <a href='#-tab'>-tab</a> <a href='#-widths'>-widths</a> <a href='#-quotesnotspecial'>-quotesnotspecial</a> <a href='#-cleaninput'>-cleaninput</a> <a href='#-bom'>-bom</a> <a href='#-header'>-header</a> <a href='#-htmltable'>-htmltable</a> <a href='#-htmlpattern'>-htmlpattern</a> <a href='#-harvest'>-harvest</a> <a href='#-json'>-json</a> <a href='#-geojson'>-geojson</a> <a href='#-pdf'>-pdf</a> <a href='#-xml'>-xml</a> <a href='#-shapefile'>-shapefile</a> <a href='#-lines'>-lines</a> <a href='#-text'>-text</a> <a href='#-synthetic'>-synthetic</a> <a href='#-extractpattern'>-extractpattern</a> <a href='#-tokenize'>-tokenize</a> <a href='#-sql'>-sql</a> <a href='#-prune'>-prune</a> <a href='#-deheader'>-deheader</a> <a href='#-headernames'>-headernames</a> <a href='#-headerids'>-headerids</a> <a href='#-ids'>-ids</a> <a href='#-cat'>-cat</a> <a href='#-append'>-append</a> <a href='#-chop'>-chop</a> </div>
<b style='font-size:120%;'>Examples</b>  

<pre class=examples>
#Specify a bar as a delimiter
seesv -delimiter "|" 

#Specify tab as  delimiter
seesv -delimiter tab  

#Specify spaces as  delimiter
seesv -delimiter space  

#Fixed widths
#e.g,, 4 columns with the widths
seesv -widths 10,5,15,30 

#prepend the column names
seesv -header "name1,name2,name3"

#clean up the header names
#This removes extraneous characters and upper cases the first letter of each word
seesv -headernames


</pre>
<a name='-delimiter'></a><div class=command> <i><a href='#-delimiter'>-delimiter</a></i>  &lt;delimiter&gt; </div><div class=command-block>Specify a delimiter<br>
<b>Arguments:</b><br>
<ul>
<i>delimiter</i>
Use 'space' for space, 'tab' for tab<br>
<br>
</ul>
</div><a name='-tab'></a><div class=command> <i><a href='#-tab'>-tab</a></i> </div><div class=command-block>Use tabs<br>
<br>
</ul>
</div><a name='-widths'></a><div class=command> <i><a href='#-widths'>-widths</a></i>  &lt;widths&gt; </div><div class=command-block>Columns are fixed widths<br>
<b>Arguments:</b><br>
<ul>
<i>widths</i>
w1,w2,...,wN<br>
<br>
</ul>
</div><a name='-quotesnotspecial'></a><div class=command> <i><a href='#-quotesnotspecial'>-quotesnotspecial</a></i> </div><div class=command-block>Don't treat quotes as special characters<br>
<br>
</ul>
</div><a name='-cleaninput'></a><div class=command> <i><a href='#-cleaninput'>-cleaninput</a></i> </div><div class=command-block>Input is one text line per row. i.e., no new lines in a data row. Setting this can improve performance on large files<br>
<br>
</ul>
</div><a name='-bom'></a><div class=command> <i><a href='#-bom'>-bom</a></i> </div><div class=command-block>Input has a leading byte order mark (BOM) that should be stripped out<br>
<br>
</ul>
</div><a name='-header'></a><div class=command> <i><a href='#-header'>-header</a></i>  &lt;header&gt; </div><div class=command-block>Raw header<br>
<b>Arguments:</b><br>
<ul>
<i>header</i>
Column names<br>
<br>
</ul>
</div><a name='-htmltable'></a><div class=command> <i><a href='#-htmltable'>-htmltable</a></i>  &lt;skip&gt;  &lt;pattern&gt;  &lt;properties&gt; </div><div class=command-block>Parse the table in the input html file<br>
<b>Arguments:</b><br>
<ul>
<i>skip</i>
Number of tables to skip<br>
<i>pattern</i>
Pattern to skip to<br>
<i>properties</i>
Other attributes -  &nbsp;&nbsp;removeEntity false removePattern pattern exrtractUrls true column1.extractUrls true stripTags false column1.stripTags false<br>
<br>
</ul>
</div><a name='-htmlpattern'></a><div class=command> <i><a href='#-htmlpattern'>-htmlpattern</a></i>  &lt;columns&gt;  &lt;startPattern&gt;  &lt;endPattern&gt;  &lt;pattern&gt; </div><div class=command-block>Parse the input html file<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column names<br>
<i>startPattern</i>
<br>
<i>endPattern</i>
<br>
<i>pattern</i>
Row pattern. Use (...) to match columns<br>
<br>
</ul>
</div><a name='-harvest'></a><div class=command> <i><a href='#-harvest'>-harvest</a></i>  &lt;pattern&gt; </div><div class=command-block>Harvest links in web page. This results in a 2 column dataset with fields: label,url<br>
<b>Arguments:</b><br>
<ul>
<i>pattern</i>
regexp to match<br>
<br>
</ul>
</div><a name='-json'></a><div class=command> <i><a href='#-json'>-json</a></i>  &lt;arrayPath&gt;  &lt;objectPaths&gt; </div><div class=command-block>Parse the input as json<br>
<b>Arguments:</b><br>
<ul>
<i>arrayPath</i>
Path to the array e.g., obj1.arr[2].obj2<br>
<i>objectPaths</i>
One or more paths to the objects e.g. geometry,features<br>
<br>
</ul>
</div><a name='-geojson'></a><div class=command> <i><a href='#-geojson'>-geojson</a></i>  &lt;includePolygon&gt; </div><div class=command-block>Parse the input as geojson<br>
<b>Arguments:</b><br>
<ul>
<i>includePolygon</i>
true|false Include polygon<br>
<br>
</ul>
</div><a name='-pdf'></a><div class=command> <i><a href='#-pdf'>-pdf</a></i> </div><div class=command-block>Read input from a PDF file.<br>
<br>
</ul>



The RAMADDA_TABULA environment variable needs to be set to the tabula.sh file found in this release

<pre>
  export RAMADDA_TABULA=/path/to/tabula.sh
</pre>

<p></div><a name='-xml'></a><div class=command> <i><a href='#-xml'>-xml</a></i>  &lt;path&gt; </div><div class=command-block>Parse the input as xml<br>
<b>Arguments:</b><br>
<ul>
<i>path</i>
Path to the elements<br>
<br>
</ul>
</div><a name='-shapefile'></a><div class=command> <i><a href='#-shapefile'>-shapefile</a></i>  &lt;props&gt; </div><div class=command-block>Parse the input shapefile<br>
<b>Arguments:</b><br>
<ul>
<i>props</i>
"addPoints true addShapes false"<br>
<br>
</ul>
</div><a name='-lines'></a><div class=command> <i><a href='#-lines'>-lines</a></i> </div><div class=command-block>Parse the input as text lines<br>
<br>
</ul>
For each line in the input file this creates a row that contains one column which holds the line.
<p></div><a name='-text'></a><div class=command> <i><a href='#-text'>-text</a></i>  &lt;comma separated header&gt;  &lt;chunk pattern&gt;  &lt;token pattern&gt; </div><div class=command-block>Extract rows from the text<br>
<b>Arguments:</b><br>
<ul>
<i>comma separated header</i>
<br>
<i>chunk pattern</i>
<br>
<i>token pattern</i>
<br>
<br>
</ul>

If you have an unstructured  text file the -text command can extract out a set of rows and columns from it.
The idea is you specify one regular expression (<a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">help</a>) for finding a chunk of text in the file that holds the row values
and another regular expression to extract the column values from the chunk.
<p>
Assume you have a file test.txt
<pre>
  Hello there how are you
Person:  name: Jim age: 42
and some more text  
Person:  name: Joe age: 53
Person:  name: Sally age: 93
and more
</pre>

We are going to extract the names and age with:
<pre>
seesv -text "name,age" "(?m)(?s).*?Person:(.*?$)" "name:(.*?)age: *(\d+)"
#The (?m)(?s) are directives to match multiple lines
#The (.*?$) in the first pattern is the group that is matched 
#The second pattern: name:(.*?)age: *(\d+)  has 2 groups, one  for the name and one for the age
</pre>


<p></div><a name='-synthetic'></a><div class=command> <i><a href='#-synthetic'>-synthetic</a></i>  &lt;header&gt;  &lt;values&gt;  &lt;rows&gt; </div><div class=command-block>Generate an empty file with the given number of rows<br>
<b>Arguments:</b><br>
<ul>
<i>header</i>
comma separated header<br>
<i>values</i>
comma separated values<br>
<i>rows</i>
Row indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
For example using this:
<pre>
-synthetic "name,value" "example name,example value" 5
</pre>
Gives:
<pre>
name,value
example name,example value
example name,example value
example name,example value
example name,example value
example name,example value
</pre>

Note: you don't have to specify all of the example values.
For example, using this:
<pre>
  -synthetic "name,value" "example name,example value" 5
</pre>

Gives:
<pre>
name,value
,
,
,
,
,
</pre>  

<p></div><a name='-extractpattern'></a><div class=command> <i><a href='#-extractpattern'>-extractpattern</a></i>  &lt;comma separated header&gt;  &lt;token pattern&gt; </div><div class=command-block>Extract rows from the text<br>
<b>Arguments:</b><br>
<ul>
<i>comma separated header</i>
<br>
<i>token pattern</i>
<br>
<br>
</ul>
If you have a row oriented but  unstructured  text file the 
-extractpattern command can be used to extract the columns from it.
Specify a comma separated header and a regular expression 
(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">help</a>)
with groups that define the columns.
<p>
Assume you have a file test.txt
<pre>
Person:  name: Joe age: 53
Person:  name: Sally age: 93
</pre>

Extract the data with:
<pre>
seesv -extractpattern "name,age" "name:(.*)age:(.*)" -p file.txt
</pre>



<p></div><a name='-tokenize'></a><div class=command> <i><a href='#-tokenize'>-tokenize</a></i>  &lt;header&gt;  &lt;pattern&gt; </div><div class=command-block>Tokenize the input from the pattern<br>
<b>Arguments:</b><br>
<ul>
<i>header</i>
header1,header2...<br>
<i>pattern</i>
<br>
<br>
</ul>
</div><a name='-sql'></a><div class=command> <i><a href='#-sql'>-sql</a></i>  &lt;db&gt;  &lt;table&gt;  &lt;columns&gt;  &lt;where&gt;  &lt;properties&gt; </div><div class=command-block>Read data from the given database<br>
<b>Arguments:</b><br>
<ul>
<i>db</i>
The database id (defined in the environment) values:property:seesv_dbs <br>
<i>table</i>
Comma separate list of tables to select from<br>
<i>columns</i>
Comma separated list of columns to select<br>
<i>where</i>
column1:expr:value;column2:expr:value;...
e.g.: name:like:joe;age:>:60
Where expr is: =|<|>|<>|like|notlike<br>
<i>properties</i>
name space value properties. e.g., join col1,col2<br>
<br>
</ul>

The -sql command uses a number of RAMADDA properties or environment variables that define the databases that can
be accessed. The command specifies a database as:
<pre>
  -sql &lt;db&gt; ...
e.g.:
  -sql test ...  
</pre>

Where  for the given db  there should be 2 environment variables:
<pre>
export seesv_db_&lt;db&gt;_url=JDBC URL
export seesv_db_&lt;db&gt;_tables=List of tables that can be accessed
</pre>
So for the db "test" in a Derby database:

<pre>
export seesv_db_test_url=jdbc:derby:/Users/home/derby/db1;create=true;
export seesv_db_test_tables=test_table1,test_table2,test_table3
</pre>



<p></div><a name='-prune'></a><div class=command> <i><a href='#-prune'>-prune</a></i>  &lt;bytes&gt; </div><div class=command-block>Prune out the first N bytes<br>
<b>Arguments:</b><br>
<ul>
<i>bytes</i>
Number of leading bytes to remove<br>
<br>
</ul>
</div><a name='-deheader'></a><div class=command> <i><a href='#-deheader'>-deheader</a></i> </div><div class=command-block>Strip off the RAMADDA point header<br>
<br>
</ul>
</div><a name='-headernames'></a><div class=command> <i><a href='#-headernames'>-headernames</a></i> </div><div class=command-block>Make the header proper capitalization<br>
<br>
</ul>
</div><a name='-headerids'></a><div class=command> <i><a href='#-headerids'>-headerids</a></i> </div><div class=command-block>Make the header be ids<br>
<br>
</ul>
</div><a name='-ids'></a><div class=command> <i><a href='#-ids'>-ids</a></i> </div><div class=command-block>Use canonical names<br>
<br>
</ul>
</div><a name='-cat'></a><div class=command> <i><a href='#-cat'>-cat</a></i>  &lt;*.csv&gt; </div><div class=command-block>Concat the columns in one or more csv files<br>
<b>Arguments:</b><br>
<ul>
<i>*.csv</i>
<br>
<br>
</ul>
</div><a name='-append'></a><div class=command> <i><a href='#-append'>-append</a></i>  &lt;skip&gt;  &lt;files&gt; </div><div class=command-block>Append the files, skipping the given rows in the latter files<br>
<b>Arguments:</b><br>
<ul>
<i>skip</i>
Number of rows to skip<br>
<i>files</i>
*.csv<br>
<br>
</ul>
</div><a name='-chop'></a><div class=command> <i><a href='#-chop'>-chop</a></i>  &lt;numlines&gt;  &lt;file&gt; </div><div class=command-block>Write out last N lines. include the header<br>
<b>Arguments:</b><br>
<ul>
<i>numlines</i>
Number of lines to leave<br>
<i>file</i>
*.csv<br>
<br>
</ul>
</div></ul><br><hr><a name='Filter'></a><b style='font-size:120%;'>Filter</b><br>
<div class=header>Commands: <a href='#-skiplines'>-skiplines</a> <a href='#-if'>-if</a> <a href='#-start'>-start</a> <a href='#-stop'>-stop</a> <a href='#-rawlines'>-rawlines</a> <a href='#-inputnotcontains'>-inputnotcontains</a> <a href='#-min'>-min</a> <a href='#-max'>-max</a> <a href='#-numcolumns'>-numcolumns</a> <a href='#-pattern'>-pattern</a> <a href='#-notpattern'>-notpattern</a> <a href='#-fuzzypattern'>-fuzzypattern</a> <a href='#-lengthgreater'>-lengthgreater</a> <a href='#-same'>-same</a> <a href='#-notsame'>-notsame</a> <a href='#-unique'>-unique</a> <a href='#-dups'>-dups</a> <a href='#-sample'>-sample</a> <a href='#-maxvalue'>-maxvalue</a> <a href='#-eq'>-eq</a> <a href='#-ne'>-ne</a> <a href='#-gt'>-gt</a> <a href='#-ge'>-ge</a> <a href='#-lt'>-lt</a> <a href='#-le'>-le</a> <a href='#-between'>-between</a> <a href='#-notbetween'>-notbetween</a> <a href='#-betweenstring'>-betweenstring</a> <a href='#-notbetweenstring'>-notbetweenstring</a> <a href='#-groupfilter'>-groupfilter</a> <a href='#-before'>-before</a> <a href='#-after'>-after</a> <a href='#-latest'>-latest</a> <a href='#-countvalue'>-countvalue</a> <a href='#-decimate'>-decimate</a> <a href='#-ifin'>-ifin</a> <a href='#-ifnotin'>-ifnotin</a> <a href='#-ifmatchesfile'>-ifmatchesfile</a> <a href='#-ifnotmatchesfile'>-ifnotmatchesfile</a> <a href='#-skippattern'>-skippattern</a> <a href='#-skip'>-skip</a> </div><a name='-skiplines'></a><div class=command> <i><a href='#-skiplines'>-skiplines</a></i>  &lt;lines&gt; </div><div class=command-block>Skip number of raw lines.<br>
<b>Arguments:</b><br>
<ul>
<i>lines</i>
How many raw lines to skip<br>
<br>
</ul>
</div><a name='-if'></a><div class=command> <i><a href='#-if'>-if</a></i> </div><div class=command-block>Next N args specify a filter command followed by any change commands followed by an -endif.<br>
<br>
</ul>


For example, the below command would change the value of column2 for all rows
that match the -pattern column1 string command.

<pre>
seesv -if -pattern column1 string -change column2 .* XXX  -endif
</pre>
<p></div><a name='-start'></a><div class=command> <i><a href='#-start'>-start</a></i>  &lt;start pattern&gt; </div><div class=command-block>Start at pattern in source file<br>
<b>Arguments:</b><br>
<ul>
<i>start pattern</i>
<br>
<br>
</ul>
</div><a name='-stop'></a><div class=command> <i><a href='#-stop'>-stop</a></i>  &lt;stop pattern&gt; </div><div class=command-block>End at pattern in source file<br>
<b>Arguments:</b><br>
<ul>
<i>stop pattern</i>
<br>
<br>
</ul>
</div><a name='-rawlines'></a><div class=command> <i><a href='#-rawlines'>-rawlines</a></i>  &lt;lines&gt; </div><div class=command-block><b>Arguments:</b><br>
<ul>
<i>lines</i>
How many lines to pass through unprocesed<br>
<br>
</ul>
</div><a name='-inputnotcontains'></a><div class=command> <i><a href='#-inputnotcontains'>-inputnotcontains</a></i>  &lt;filters&gt; </div><div class=command-block>Filter out input lines that contain any of the strings<br>
<b>Arguments:</b><br>
<ul>
<i>filters</i>
Comma separated list of strings to filter one<br>
<br>
</ul>
</div><a name='-min'></a><div class=command> <i><a href='#-min'>-min</a></i>  &lt;min # columns&gt; </div><div class=command-block>Only pass thorough lines that have at least this number of columns<br>
<b>Arguments:</b><br>
<ul>
<i>min # columns</i>
<br>
<br>
</ul>
</div><a name='-max'></a><div class=command> <i><a href='#-max'>-max</a></i>  &lt;max # columns&gt; </div><div class=command-block>Only pass through lines that have no more than this number of columns<br>
<b>Arguments:</b><br>
<ul>
<i>max # columns</i>
<br>
<br>
</ul>
</div><a name='-numcolumns'></a><div class=command> <i><a href='#-numcolumns'>-numcolumns</a></i>  &lt;number&gt; </div><div class=command-block>Remove or add values so each row has the number of columns<br>
<b>Arguments:</b><br>
<ul>
<i>number</i>
<br>
<br>
</ul>
</div><a name='-pattern'></a><div class=command> <i><a href='#-pattern'>-pattern</a></i>  &lt;columns&gt;  &lt;pattern&gt; </div><div class=command-block>Pass through rows that the columns each match the pattern<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>pattern</i>
regexp or prefix with includes:s1,s2 to do substrings match<br>
<br>
</ul>
</div><a name='-notpattern'></a><div class=command> <i><a href='#-notpattern'>-notpattern</a></i>  &lt;columns&gt;  &lt;pattern&gt; </div><div class=command-block>Pass through rows that don't match the pattern<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>pattern</i>
regexp or prefix with includes:s1,s2 to do substrings match<br>
<br>
</ul>
</div><a name='-fuzzypattern'></a><div class=command> <i><a href='#-fuzzypattern'>-fuzzypattern</a></i>  &lt;threshold&gt;  &lt;columns&gt;  &lt;pattern&gt; </div><div class=command-block>Pass through rows that the columns each fuzzily match the pattern<br>
<b>Arguments:</b><br>
<ul>
<i>threshold</i>
Score threshold 0-100. Default:85. Higher number better match<br>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>pattern</i>
<br>
<br>
</ul>
</div><a name='-lengthgreater'></a><div class=command> <i><a href='#-lengthgreater'>-lengthgreater</a></i>  &lt;columns&gt;  &lt;length&gt; </div><div class=command-block>Pass through rows that the length of the columns is greater than<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>length</i>
<br>
<br>
</ul>
</div><a name='-same'></a><div class=command> <i><a href='#-same'>-same</a></i>  &lt;column1&gt;  &lt;column2&gt; </div><div class=command-block>Pass through where the 2 columns have the same value<br>
<b>Arguments:</b><br>
<ul>
<i>column1</i>
<br>
<i>column2</i>
<br>
<br>
</ul>
</div><a name='-notsame'></a><div class=command> <i><a href='#-notsame'>-notsame</a></i>  &lt;column1&gt;  &lt;column2&gt; </div><div class=command-block>Pass through where the 2 columns don't have the same value<br>
<b>Arguments:</b><br>
<ul>
<i>column1</i>
<br>
<i>column2</i>
<br>
<br>
</ul>
</div><a name='-unique'></a><div class=command> <i><a href='#-unique'>-unique</a></i>  &lt;columns&gt; </div><div class=command-block>Pass through unique values<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-dups'></a><div class=command> <i><a href='#-dups'>-dups</a></i>  &lt;columns&gt; </div><div class=command-block>Pass through duplicate values<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-sample'></a><div class=command> <i><a href='#-sample'>-sample</a></i>  &lt;probablity&gt; </div><div class=command-block>Pass through rows based on probablity<br>
<b>Arguments:</b><br>
<ul>
<i>probablity</i>
0-1 probability of passing through a row<br>
<br>
</ul>
</div><a name='-maxvalue'></a><div class=command> <i><a href='#-maxvalue'>-maxvalue</a></i>  &lt;key column&gt;  &lt;value column&gt; </div><div class=command-block>Pass through the row that has the max value in the group of columns defined by the key column<br>
<b>Arguments:</b><br>
<ul>
<i>key column</i>
<br>
<i>value column</i>
<br>
<br>
</ul>
</div><a name='-eq'></a><div class=command> <i><a href='#-eq'>-eq</a></i>  &lt;column&gt;  &lt;value&gt; </div><div class=command-block>Pass through rows that the column value equals the given value<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-ne'></a><div class=command> <i><a href='#-ne'>-ne</a></i>  &lt;column&gt;  &lt;value&gt; </div><div class=command-block>Pass through rows that the column value does not equal the given value<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-gt'></a><div class=command> <i><a href='#-gt'>-gt</a></i>  &lt;column&gt;  &lt;value&gt; </div><div class=command-block>Pass through rows that the column value is greater than the given value<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-ge'></a><div class=command> <i><a href='#-ge'>-ge</a></i>  &lt;column&gt;  &lt;value&gt; </div><div class=command-block>Pass through rows that the column value is greater than or equals the given value<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-lt'></a><div class=command> <i><a href='#-lt'>-lt</a></i>  &lt;column&gt;  &lt;value&gt; </div><div class=command-block>Pass through rows that the column value is less than the given value<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-le'></a><div class=command> <i><a href='#-le'>-le</a></i>  &lt;column&gt;  &lt;value&gt; </div><div class=command-block>Pass through rows that the column value is less than or equals the given value<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-between'></a><div class=command> <i><a href='#-between'>-between</a></i>  &lt;column&gt;  &lt;min value&gt;  &lt;max value&gt; </div><div class=command-block>Extract rows that are within the range<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>min value</i>
<br>
<i>max value</i>
<br>
<br>
</ul>
</div><a name='-notbetween'></a><div class=command> <i><a href='#-notbetween'>-notbetween</a></i>  &lt;column&gt;  &lt;min value&gt;  &lt;max value&gt; </div><div class=command-block>Extract rows that are not within the range<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>min value</i>
<br>
<i>max value</i>
<br>
<br>
</ul>
</div><a name='-betweenstring'></a><div class=command> <i><a href='#-betweenstring'>-betweenstring</a></i>  &lt;column&gt;  &lt;start string&gt;  &lt;end string&gt; </div><div class=command-block>Extract rows that are between the given strings<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>start string</i>
<br>
<i>end string</i>
<br>
<br>
</ul>
For example, given the following data
<pre>
name,value1,value2
jane,foo,1
jane,bar,2
john,doe,3
bill,doe,4
bill,doe,4
</pre>

Calling:
<pre>
  csv -betweenstring name jane john
</pre>

Will give:
<pre>
name,value1,value2
jane,foo,1
jane,bar,2
john,doe,3
</pre>
<p></div><a name='-notbetweenstring'></a><div class=command> <i><a href='#-notbetweenstring'>-notbetweenstring</a></i>  &lt;column&gt;  &lt;start string&gt;  &lt;end string&gt; </div><div class=command-block>Extract rows that are between the given strings<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>start string</i>
<br>
<i>end string</i>
<br>
<br>
</ul>
For example, given the following data
<pre>
name,value1,value2
jane,foo,1
jane,bar,2
john,doe,3
bill,doe,4
bill,doe,4
</pre>

Calling:
<pre>
  csv -notbetweenstring name jane john
</pre>

Will give:
<pre>
name,value1,value2
bill,doe,4
bill,doe,4
</pre>
<p></div><a name='-groupfilter'></a><div class=command> <i><a href='#-groupfilter'>-groupfilter</a></i>  &lt;column&gt;  &lt;value_column&gt;  &lt;operator&gt;  &lt;value&gt; </div><div class=command-block>One row in each group has to match<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
key column<br>
<i>value_column</i>
Value column<br>
<i>operator</i>
 values:=,!=,~,<,<=,>,>= <br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-before'></a><div class=command> <i><a href='#-before'>-before</a></i>  &lt;column&gt;  &lt;format&gt;  &lt;date&gt;  &lt;format2&gt; </div><div class=command-block>Pass through rows whose date is before the given date<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>format</i>
Date Format, e.g. yyyy-MM-dd<br>
<i>date</i>
<br>
<i>format2</i>
Date Format, e.g. yyyy-MM-dd<br>
<br>
</ul>
</div><a name='-after'></a><div class=command> <i><a href='#-after'>-after</a></i>  &lt;column&gt;  &lt;format&gt;  &lt;date&gt;  &lt;format2&gt; </div><div class=command-block>Pass through rows whose date is after the given date<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>format</i>
Date Format, e.g. yyyy-MM-dd<br>
<i>date</i>
<br>
<i>format2</i>
Date Format, e.g. yyyy-MM-dd<br>
<br>
</ul>
</div><a name='-latest'></a><div class=command> <i><a href='#-latest'>-latest</a></i>  &lt;columns&gt;  &lt;column&gt;  &lt;format&gt; </div><div class=command-block>Pass through rows whose date is the latest in the group of rows defined by the key column<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Key columns<br>
<i>column</i>
Date column<br>
<i>format</i>
Date Format, e.g. yyyy-MM-dd<br>
<br>
</ul>
</div><a name='-countvalue'></a><div class=command> <i><a href='#-countvalue'>-countvalue</a></i>  &lt;column&gt;  &lt;count&gt; </div><div class=command-block>No more than count unique values<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>count</i>
<br>
<br>
</ul>
</div><a name='-decimate'></a><div class=command> <i><a href='#-decimate'>-decimate</a></i>  &lt;rows&gt;  &lt;skip&gt; </div><div class=command-block>only include every <skip factor> row<br>
<b>Arguments:</b><br>
<ul>
<i>rows</i>
# of start rows to include<br>
<i>skip</i>
skip factor<br>
<br>
</ul>
</div><a name='-ifin'></a><div class=command> <i><a href='#-ifin'>-ifin</a></i>  &lt;column&gt;  &lt;file&gt;  &lt;column2&gt; </div><div class=command-block>Pass through rows that the columns with ID is in given file<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
Column in the file<br>
<i>file</i>
The file<br>
<i>column2</i>
Column in main file<br>
<br>
</ul>
The  <span class=cmd>-ifin</span> command takes a file of values and will only pass through the row if the
value in the row matches at least one of the values in the file.

For example, say you have a file  precincts.csv:
<pre>
precinct
p1
p2
p3
</pre>

And a file voters.csv:
<pre>
name,voter precinct
jim,p1
joe,p1
sally,p7
...
</pre>

If you only want voters whose  precinct is in the precints.csv you would do:
<pre>
seesv -ifin precinct precincts.csv voter_precinct -p voters.csv
</pre>

The  <span class=cmd>-ifnotin</span> command does the opposite only passing through rows that are not in the file, e.g.:
<pre>
seesv -ifnotin precinct precincts.csv voter_precinct -p voters.csv
</pre>




<p></div><a name='-ifnotin'></a><div class=command> <i><a href='#-ifnotin'>-ifnotin</a></i>  &lt;column&gt;  &lt;file&gt;  &lt;column2&gt; </div><div class=command-block>Pass through rows that the columns with ID is not in given file<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
Column in the file<br>
<i>file</i>
The file<br>
<i>column2</i>
Column in main file<br>
<br>
</ul>
</div><a name='-ifmatchesfile'></a><div class=command> <i><a href='#-ifmatchesfile'>-ifmatchesfile</a></i>  &lt;pattern&gt;  &lt;column&gt;  &lt;file&gt;  &lt;column2&gt; </div><div class=command-block>Pass through rows that the columns with ID begins with something in the given file<br>
<b>Arguments:</b><br>
<ul>
<i>pattern</i>
Pattern template, e.g. ^${value}<br>
<i>column</i>
Column in the file<br>
<i>file</i>
The file<br>
<i>column2</i>
Column in main file<br>
<br>
</ul>
The  <span class=cmd>-ifmatchesfile</span> command takes a pattern template and a file of strings.
For each line in the file it creates a regular expression pattern using the template
by substituting the line into the pattern with the macro <i>${value}</i>.
<p>
For example, say you have a file of addresses short.csv:
<pre>
address,city,state
123 oak, boulder, co
345 main, denver,co
...
</pre>

And your source data has a set of full addresses full.csv:
<pre>
full address,city,state
123 oak unit #5
789 pine apt 3
345 main
...
</pre>

And you only want to pass through rows in full.csv
address begins with some address in the short.csv file. To do this call:
<pre>
seesv -ifmatchesfile "^${value}.*" address short.csv full_address -p fill.csv
</pre>

What this does is construct regexp patterns as:
<pre>
^123 oak.*
^345 main.*
...
</pre>

And then only passes through the rows in full.csv that match one of these patterns.
<p>
The command  <span class=cmd>-ifnotmatchesfile</span> does the opposite. For a row to pass through none of the patterns
can match.



<p></div><a name='-ifnotmatchesfile'></a><div class=command> <i><a href='#-ifnotmatchesfile'>-ifnotmatchesfile</a></i>  &lt;pattern&gt;  &lt;file&gt;  &lt;column2&gt; </div><div class=command-block>Pass through rows that the columns with ID does not begin with something in the given file<br>
<b>Arguments:</b><br>
<ul>
<i>pattern</i>
Pattern template, e.g. ^${value}<br>
<i>file</i>
The file<br>
<i>column2</i>
Column in main file<br>
<br>
</ul>
</div><a name='-skippattern'></a><div class=command> <i><a href='#-skippattern'>-skippattern</a></i>  &lt;pattern&gt; </div><div class=command-block>Skip any line that matches the pattern<br>
<b>Arguments:</b><br>
<ul>
<i>pattern</i>
<br>
<br>
</ul>
</div><a name='-skip'></a><div class=command> <i><a href='#-skip'>-skip</a></i>  &lt;rows&gt; </div><div class=command-block>Skip number of processed rows.<br>
<b>Arguments:</b><br>
<ul>
<i>rows</i>
How many rows to skip<br>
<br>
</ul>
</div></ul><br><hr><a name='Slice and Dice'></a><b style='font-size:120%;'>Slice and Dice</b><br>
Add/remove columns, rows, restructure, etc<div class=header>Commands: <a href='#-columns'>-columns</a> <a href='#-notcolumns'>-notcolumns</a> <a href='#-firstcolumns'>-firstcolumns</a> <a href='#-columnsbefore'>-columnsbefore</a> <a href='#-columnsafter'>-columnsafter</a> <a href='#-delete'>-delete</a> <a href='#-cut'>-cut</a> <a href='#-include'>-include</a> <a href='#-rows_first'>-rows_first</a> <a href='#-rows_last'>-rows_last</a> <a href='#-copy'>-copy</a> <a href='#-add'>-add</a> <a href='#-insert'>-insert</a> <a href='#-concat'>-concat</a> <a href='#-concatrows'>-concatrows</a> <a href='#-combine'>-combine</a> <a href='#-combineinplace'>-combineinplace</a> <a href='#-merge'>-merge</a> <a href='#-split'>-split</a> <a href='#-splat'>-splat</a> <a href='#-shift'>-shift</a> <a href='#-slice'>-slice</a> <a href='#-addcell'>-addcell</a> <a href='#-deletecell'>-deletecell</a> <a href='#-appendrows'>-appendrows</a> <a href='#-mergerows'>-mergerows</a> <a href='#-rowop'>-rowop</a> <a href='#-rotate'>-rotate</a> <a href='#-flip'>-flip</a> <a href='#-makefields'>-makefields</a> <a href='#-furl'>-furl</a> <a href='#-explode'>-explode</a> <a href='#-join'>-join</a> <a href='#-cross'>-cross</a> <a href='#-fuzzyjoin'>-fuzzyjoin</a> <a href='#-normal'>-normal</a> <a href='#-countunique'>-countunique</a> <a href='#-dissect'>-dissect</a> <a href='#-keyvalue'>-keyvalue</a> <a href='#-firstchars'>-firstchars</a> <a href='#-lastchars'>-lastchars</a> <a href='#-between_indices'>-between_indices</a> <a href='#-fromheading'>-fromheading</a> </div><a name='-columns'></a><div class=command> <i><a href='#-columns'>-columns</a></i>  &lt;columns&gt; </div><div class=command-block>Only include the given columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-notcolumns'></a><div class=command> <i><a href='#-notcolumns'>-notcolumns</a></i>  &lt;columns&gt; </div><div class=command-block>Don't include given columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-firstcolumns'></a><div class=command> <i><a href='#-firstcolumns'>-firstcolumns</a></i>  &lt;columns&gt; </div><div class=command-block>Move columns to beginning<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-columnsbefore'></a><div class=command> <i><a href='#-columnsbefore'>-columnsbefore</a></i>  &lt;column&gt;  &lt;columns&gt; </div><div class=command-block>Move columns before the given column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
Column to move before<br>
<i>columns</i>
Columns to move<br>
<br>
</ul>
</div><a name='-columnsafter'></a><div class=command> <i><a href='#-columnsafter'>-columnsafter</a></i>  &lt;column&gt;  &lt;columns&gt; </div><div class=command-block>Move columns after given column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
Column to move after<br>
<i>columns</i>
Columns to move<br>
<br>
</ul>
</div><a name='-delete'></a><div class=command> <i><a href='#-delete'>-delete</a></i>  &lt;columns&gt; </div><div class=command-block>Remove the columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-cut'></a><div class=command> <i><a href='#-cut'>-cut</a></i>  &lt;rows&gt; </div><div class=command-block>Drop rows<br>
<b>Arguments:</b><br>
<ul>
<i>rows</i>
One or more rows. -1 to the end. e.g., 0-3,5,10,-1<br>
<br>
</ul>
</div><a name='-include'></a><div class=command> <i><a href='#-include'>-include</a></i>  &lt;rows&gt; </div><div class=command-block>Only include specified rows<br>
<b>Arguments:</b><br>
<ul>
<i>rows</i>
one or more rows, -1 to the end<br>
<br>
</ul>
</div><a name='-rows_first'></a><div class=command> <i><a href='#-rows_first'>-rows_first</a></i>  &lt;columns&gt;  &lt;pattern&gt; </div><div class=command-block>Move rows to the top that match the pattern<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
columns to match on<br>
<i>pattern</i>
Pattern<br>
<br>
</ul>
</div><a name='-rows_last'></a><div class=command> <i><a href='#-rows_last'>-rows_last</a></i>  &lt;columns&gt;  &lt;pattern&gt; </div><div class=command-block>Move rows to the end of list that match the pattern<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
columns to match on<br>
<i>pattern</i>
Pattern<br>
<br>
</ul>
</div><a name='-copy'></a><div class=command> <i><a href='#-copy'>-copy</a></i>  &lt;column&gt;  &lt;name&gt; </div><div class=command-block>Copy column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>name</i>
<br>
<br>
</ul>
</div><a name='-add'></a><div class=command> <i><a href='#-add'>-add</a></i>  &lt;names&gt;  &lt;values&gt; </div><div class=command-block>Add new columns<br>
<b>Arguments:</b><br>
<ul>
<i>names</i>
Comma separated list of new column names<br>
<i>values</i>
Comma separated list of new values<br>
<br>
</ul>
</div><a name='-insert'></a><div class=command> <i><a href='#-insert'>-insert</a></i>  &lt;column&gt;  &lt;name&gt;  &lt;values&gt; </div><div class=command-block>Insert new column values<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
Column to insert before<br>
<i>name</i>
Name of new column<br>
<i>values</i>
Single value or comma separated for multiple rows<br>
<br>
</ul>
</div><a name='-concat'></a><div class=command> <i><a href='#-concat'>-concat</a></i>  &lt;columns&gt;  &lt;delimiter&gt;  &lt;name&gt; </div><div class=command-block>Create a new column from the given columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>delimiter</i>
<br>
<i>name</i>
Name of new colums<br>
<br>
</ul>
</div><a name='-concatrows'></a><div class=command> <i><a href='#-concatrows'>-concatrows</a></i>  &lt;num_rows&gt; </div><div class=command-block>Concatenate multiple rows into a single row<br>
<b>Arguments:</b><br>
<ul>
<i>num_rows</i>
Number of rows<br>
<br>
</ul>
For example, if you have this data:
<pre>
name,value
joe,5
jill,2
jack,1
jim,7
</pre>

Running:
<pre>
  csv -concatrows 2
</pre>


Would give:
<pre>
name,value,name,value
joe,5,jill,5
jack,1,jim,7
</pre>
<p></div><a name='-combine'></a><div class=command> <i><a href='#-combine'>-combine</a></i>  &lt;column&gt;  &lt;delimiter&gt;  &lt;new column name&gt; </div><div class=command-block>Combine columns with the delimiter. deleting columns<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>delimiter</i>
<br>
<i>new column name</i>
<br>
<br>
</ul>
</div><a name='-combineinplace'></a><div class=command> <i><a href='#-combineinplace'>-combineinplace</a></i>  &lt;column&gt;  &lt;delimiter&gt;  &lt;new column name&gt; </div><div class=command-block>Combine columns with the delimiter<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>delimiter</i>
<br>
<i>new column name</i>
<br>
<br>
</ul>
</div><a name='-merge'></a><div class=command> <i><a href='#-merge'>-merge</a></i>  &lt;columns&gt;  &lt;name&gt;  &lt;operator&gt; </div><div class=command-block>Apply operators to columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Columns to merge<br>
<i>name</i>
New column(s) name<br>
<i>operator</i>
Operator values:average,min,max,count <br>
<br>
</ul>
</div><a name='-split'></a><div class=command> <i><a href='#-split'>-split</a></i>  &lt;column&gt;  &lt;delimiter&gt;  &lt;names&gt; </div><div class=command-block>Split the column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>delimiter</i>
What to split on<br>
<i>names</i>
Comma separated new column names<br>
<br>
</ul>
</div><a name='-splat'></a><div class=command> <i><a href='#-splat'>-splat</a></i>  &lt;key col&gt;  &lt;column&gt;  &lt;delimiter&gt;  &lt;name&gt; </div><div class=command-block>Create a new column from the values in the given column<br>
<b>Arguments:</b><br>
<ul>
<i>key col</i>
<br>
<i>column</i>
<br>
<i>delimiter</i>
<br>
<i>name</i>
new column name<br>
<br>
</ul>
</div><a name='-shift'></a><div class=command> <i><a href='#-shift'>-shift</a></i>  &lt;rows&gt;  &lt;column&gt;  &lt;count&gt; </div><div class=command-block>Shift columns over by count for given rows<br>
<b>Arguments:</b><br>
<ul>
<i>rows</i>
Rows to apply to<br>
<i>column</i>
Column to start at<br>
<i>count</i>
<br>
<br>
</ul>
</div><a name='-slice'></a><div class=command> <i><a href='#-slice'>-slice</a></i>  &lt;columns&gt;  &lt;dest&gt;  &lt;fill&gt; </div><div class=command-block>Slide columns down and over to append new rows to the bottom<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Columns to move<br>
<i>dest</i>
Desc column to move to<br>
<i>fill</i>
Comma separated list of values to fill out the new row<br>
<br>
</ul>
</div><a name='-addcell'></a><div class=command> <i><a href='#-addcell'>-addcell</a></i>  &lt;row&gt;  &lt;column&gt;  &lt;value&gt; </div><div class=command-block>Add a new cell at row/column<br>
<b>Arguments:</b><br>
<ul>
<i>row</i>
<br>
<i>column</i>
<br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-deletecell'></a><div class=command> <i><a href='#-deletecell'>-deletecell</a></i>  &lt;row&gt;  &lt;column&gt; </div><div class=command-block>Delete cell at row/column<br>
<b>Arguments:</b><br>
<ul>
<i>row</i>
<br>
<i>column</i>
<br>
<br>
</ul>
</div><a name='-appendrows'></a><div class=command> <i><a href='#-appendrows'>-appendrows</a></i>  &lt;skip&gt;  &lt;count&gt;  &lt;delimiter&gt; </div><div class=command-block>Only include specified rows<br>
<b>Arguments:</b><br>
<ul>
<i>skip</i>
How many rows to skip<br>
<i>count</i>
How many rows to merge<br>
<i>delimiter</i>
How many rows to merge<br>
<br>
</ul>
For example, with the below data:
<pre>
category,category,category
fruit,vegetable,meat
1,2,3
4,5,6
</pre>

Running:
<pre>
  csv -appendrows 0 1 " - "
</pre>

Would give:
<pre>
category - fruit,category - vegetable,category - meat
1,2,3
4,5,6
</pre>
<p></div><a name='-mergerows'></a><div class=command> <i><a href='#-mergerows'>-mergerows</a></i>  &lt;rows&gt;  &lt;delimiter&gt;  &lt;close&gt; </div><div class=command-block>Merge rows<br>
<b>Arguments:</b><br>
<ul>
<i>rows</i>
2 or more rows<br>
<i>delimiter</i>
<br>
<i>close</i>
<br>
<br>
</ul>
</div><a name='-rowop'></a><div class=command> <i><a href='#-rowop'>-rowop</a></i>  &lt;keys&gt;  &lt;values&gt;  &lt;operator&gt; </div><div class=command-block>Apply an operator to columns and merge rows<br>
<b>Arguments:</b><br>
<ul>
<i>keys</i>
Key columns<br>
<i>values</i>
Value columns<br>
<i>operator</i>
Operator values:average,min,max,count <br>
<br>
</ul>
</div><a name='-rotate'></a><div class=command> <i><a href='#-rotate'>-rotate</a></i> </div><div class=command-block>Rotate the data<br>
<br>
</ul>
</div><a name='-flip'></a><div class=command> <i><a href='#-flip'>-flip</a></i> </div><div class=command-block>Reverse the order of the rows except the header<br>
<br>
</ul>
</div><a name='-makefields'></a><div class=command> <i><a href='#-makefields'>-makefields</a></i>  &lt;column&gt;  &lt;value columns&gt;  &lt;unique column&gt;  &lt;other columns&gt; </div><div class=command-block>Make new columns from data values<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
column to get new column header#<br>
<i>value columns</i>
Columns to get values from<br>
<i>unique column</i>
The unique value, e.g. date<br>
<i>other columns</i>
Other columns to include<br>
<br>
</ul>
</div><a name='-furl'></a><div class=command> <i><a href='#-furl'>-furl</a></i>  &lt;columns&gt;  &lt;header label&gt;  &lt;value label&gt; </div><div class=command-block>Use values in header to make new row<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>header label</i>
<br>
<i>value label</i>
<br>
<br>
</ul>
</div><a name='-explode'></a><div class=command> <i><a href='#-explode'>-explode</a></i>  &lt;column&gt; </div><div class=command-block>Make separate files based on value of column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<br>
</ul>
</div><a name='-join'></a><div class=command> <i><a href='#-join'>-join</a></i>  &lt;key columns&gt;  &lt;value_columns&gt;  &lt;file&gt;  &lt;source_columns&gt;  &lt;default_value&gt; </div><div class=command-block>Join the 2 files together<br>
<b>Arguments:</b><br>
<ul>
<i>key columns</i>
key columns the file to join with<br>
<i>value_columns</i>
value columns<br>
<i>file</i>
File to join with<br>
<i>source_columns</i>
source key columns<br>
<i>default_value</i>
default value<br>
<br>
</ul>
</div><a name='-cross'></a><div class=command> <i><a href='#-cross'>-cross</a></i>  &lt;file&gt; </div><div class=command-block>Make a cross product of 2 data files<br>
<b>Arguments:</b><br>
<ul>
<i>file</i>
File to cross with<br>
<br>
</ul>
With the following data:

letters.csv:
<pre>
letter
a
b
c
d
</pre>

<pre>
number
1
2
3
</pre>

The command:
<pre>
csv -cross numbers.csv -p letters.csv
</pre>  

Would give:
<pre>
letter,number
a,1
a,2
a,3
b,1
b,2
b,3
c,1
c,2
c,3
d,1
d,2
d,3
</pre>
<p></div><a name='-fuzzyjoin'></a><div class=command> <i><a href='#-fuzzyjoin'>-fuzzyjoin</a></i>  &lt;threshold&gt;  &lt;key columns&gt;  &lt;value_columns&gt;  &lt;file&gt;  &lt;source_columns&gt;  &lt;default_value&gt; </div><div class=command-block>Join the 2 files together using fuzzy matching logic<br>
<b>Arguments:</b><br>
<ul>
<i>threshold</i>
Score threshold 0-100. Default:85. Higher number better match<br>
<i>key columns</i>
Numeric column numbers of the file to join with<br>
<i>value_columns</i>
numeric columns of the values to join<br>
<i>file</i>
File to join with<br>
<i>source_columns</i>
source key columns<br>
<i>default_value</i>
default value<br>
<br>
</ul>
</div><a name='-normal'></a><div class=command> <i><a href='#-normal'>-normal</a></i>  &lt;columns&gt; </div><div class=command-block>Normalize the strings<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Columns<br>
<br>
</ul>
</div><a name='-countunique'></a><div class=command> <i><a href='#-countunique'>-countunique</a></i>  &lt;columns&gt; </div><div class=command-block>Count number of unique values<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-dissect'></a><div class=command> <i><a href='#-dissect'>-dissect</a></i>  &lt;column&gt;  &lt;pattern&gt; </div><div class=command-block>Make fields based on patterns<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>pattern</i>
e.g., "(field1:.*) (field2:.*) ..."<br>
<br>
</ul>
</div><a name='-keyvalue'></a><div class=command> <i><a href='#-keyvalue'>-keyvalue</a></i>  &lt;column&gt; </div><div class=command-block>Make fields from key/value pairs, e.g. name1=value1 name2=value2 ...<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<br>
</ul>
</div><a name='-firstchars'></a><div class=command> <i><a href='#-firstchars'>-firstchars</a></i>  &lt;column&gt;  &lt;name&gt;  &lt;number&gt; </div><div class=command-block>Extract first N characters and create new column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>name</i>
New column name<br>
<i>number</i>
Number of characters<br>
<br>
</ul>
</div><a name='-lastchars'></a><div class=command> <i><a href='#-lastchars'>-lastchars</a></i>  &lt;column&gt;  &lt;name&gt;  &lt;number&gt; </div><div class=command-block>Extract last N characters and create new column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>name</i>
New column name<br>
<i>number</i>
Number of characters<br>
<br>
</ul>
</div><a name='-between_indices'></a><div class=command> <i><a href='#-between_indices'>-between_indices</a></i>  &lt;column&gt;  &lt;name&gt;  &lt;start&gt;  &lt;end&gt; </div><div class=command-block>Extract characters between the 2 indices<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>name</i>
New column name<br>
<i>start</i>
Start index<br>
<i>end</i>
End index<br>
<br>
</ul>
</div><a name='-fromheading'></a><div class=command> <i><a href='#-fromheading'>-fromheading</a></i>  &lt;columns&gt;  &lt;names&gt;  &lt;pattern&gt; </div><div class=command-block>Extract column values from headings<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Columns of headings<br>
<i>names</i>
Comma separated list of new column names<br>
<i>pattern</i>
Regexp to apply to header with () defining column values<br>
<br>
</ul>
</div></ul><br><hr><a name='Change'></a><b style='font-size:120%;'>Change</b><br>
<div class=header>Commands: <a href='#-change'>-change</a> <a href='#-changerow'>-changerow</a> <a href='#-replace'>-replace</a> <a href='#-set'>-set</a> <a href='#-macro'>-macro</a> <a href='#-setcol'>-setcol</a> <a href='#-copyif'>-copyif</a> <a href='#-copycolumns'>-copycolumns</a> <a href='#-filldown'>-filldown</a> <a href='#-unfill'>-unfill</a> <a href='#-priorprefix'>-priorprefix</a> <a href='#-case'>-case</a> <a href='#-padleft'>-padleft</a> <a href='#-padright'>-padright</a> <a href='#-trim'>-trim</a> <a href='#-trimquotes'>-trimquotes</a> <a href='#-width'>-width</a> <a href='#-prepend'>-prepend</a> <a href='#-pad'>-pad</a> <a href='#-prefix'>-prefix</a> <a href='#-suffix'>-suffix</a> <a href='#-ascii'>-ascii</a> <a href='#-ismobile'>-ismobile</a> <a href='#-js'>-js</a> <a href='#-func'>-func</a> <a href='#-endswith'>-endswith</a> <a href='#-truncate'>-truncate</a> <a href='#-extract'>-extract</a> <a href='#-urlarg'>-urlarg</a> <a href='#-urlencode'>-urlencode</a> <a href='#-urldecode'>-urldecode</a> <a href='#-map'>-map</a> <a href='#-format'>-format</a> <a href='#-denormalize'>-denormalize</a> <a href='#-break'>-break</a> <a href='#-makeids'>-makeids</a> <a href='#-faker'>-faker</a> </div><a name='-change'></a><div class=command> <i><a href='#-change'>-change</a></i>  &lt;columns&gt;  &lt;pattern&gt;  &lt;substitution string&gt; </div><div class=command-block>Change columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>pattern</i>
<br>
<i>substitution string</i>
use $1, $2, etc for pattern (...) matches<br>
<br>
</ul>

You can specify a file that holds a number of patterns:
<pre>
  -change columns  file:file.txt ""
</pre>

The file is of the form:
<pre>
pattern::replace_string
e.g.:
(?i).*foo.*::foobar
.*value.*::new value
</pre>



<p></div><a name='-changerow'></a><div class=command> <i><a href='#-changerow'>-changerow</a></i>  &lt;rows&gt;  &lt;columns&gt;  &lt;pattern&gt;  &lt;substitution string&gt; </div><div class=command-block>Change the values in the row/cols<br>
<b>Arguments:</b><br>
<ul>
<i>rows</i>
Row indices. Can include ranges, e.g. 0-5<br>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>pattern</i>
<br>
<i>substitution string</i>
<br>
<br>
</ul>
</div><a name='-replace'></a><div class=command> <i><a href='#-replace'>-replace</a></i>  &lt;columns&gt;  &lt;substitution string&gt; </div><div class=command-block>Replace<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>substitution string</i>
use {value} for value<br>
<br>
</ul>
</div><a name='-set'></a><div class=command> <i><a href='#-set'>-set</a></i>  &lt;columns&gt;  &lt;rows&gt;  &lt;value&gt; </div><div class=command-block>Write the value into the cells<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>rows</i>
Row indices. Can include ranges, e.g. 0-5<br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-macro'></a><div class=command> <i><a href='#-macro'>-macro</a></i>  &lt;pattern&gt;  &lt;template&gt;  &lt;column label&gt; </div><div class=command-block>Look for the pattern in the header and apply the template to make a new column, template: '{1} {2} ...', use 'none' for column name for no header<br>
<b>Arguments:</b><br>
<ul>
<i>pattern</i>
<br>
<i>template</i>
<br>
<i>column label</i>
<br>
<br>
</ul>
</div><a name='-setcol'></a><div class=command> <i><a href='#-setcol'>-setcol</a></i>  &lt;column&gt;  &lt;pattern&gt;  &lt;write column&gt;  &lt;value&gt; </div><div class=command-block>Write the value into the write col for rows that match the pattern<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
match col #<br>
<i>pattern</i>
<br>
<i>write column</i>
<br>
<i>value</i>
<br>
<br>
</ul>
</div><a name='-copyif'></a><div class=command> <i><a href='#-copyif'>-copyif</a></i>  &lt;columns&gt;  &lt;pattern&gt;  &lt;column1&gt;  &lt;column2&gt; </div><div class=command-block>Copy column 2 to column 3 if all of the columns match the pattern<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>pattern</i>
<br>
<i>column1</i>
<br>
<i>column2</i>
<br>
<br>
</ul>
</div><a name='-copycolumns'></a><div class=command> <i><a href='#-copycolumns'>-copycolumns</a></i>  &lt;columns1&gt;  &lt;columns2&gt; </div><div class=command-block>Copy columns 1  to columns 2<br>
<b>Arguments:</b><br>
<ul>
<i>columns1</i>
<br>
<i>columns2</i>
<br>
<br>
</ul>
</div><a name='-filldown'></a><div class=command> <i><a href='#-filldown'>-filldown</a></i>  &lt;columns&gt; </div><div class=command-block>Fill down with last non-null value<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-unfill'></a><div class=command> <i><a href='#-unfill'>-unfill</a></i>  &lt;columns&gt; </div><div class=command-block>Set following cells to blank if the same as previous cell<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
For example, given the following data
<pre>
name,value1,value2
jane,foo,1
jane,bar,2
john,doe,3
bill,doe,4
bill,doe,4
</pre>

Calling:
<pre>
  csv -unfill name,value1
</pre>

Will give:
<pre>
name,value1,value2
jane,foo,1
&lt;blank&gt;,bar,2
john,doe,3
bill,&lt;blank&gt;,4
&lt;blank&gt;,&lt;blank&gt;,4
</pre>
<p></div><a name='-priorprefix'></a><div class=command> <i><a href='#-priorprefix'>-priorprefix</a></i>  &lt;column&gt;  &lt;pattern&gt;  &lt;delimiter&gt; </div><div class=command-block>Append prefix from the previous element to rows that match pattern<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>pattern</i>
<br>
<i>delimiter</i>
<br>
<br>
</ul>
</div><a name='-case'></a><div class=command> <i><a href='#-case'>-case</a></i>  &lt;column&gt;  &lt;type&gt; </div><div class=command-block>Change case of column - type:lower,upper,proper,capitalize<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>type</i>
 values:lower,upper,proper,capitalize <br>
<br>
</ul>
</div><a name='-padleft'></a><div class=command> <i><a href='#-padleft'>-padleft</a></i>  &lt;columns&gt;  &lt;character&gt;  &lt;length&gt; </div><div class=command-block>Pad left with given character<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>character</i>
Character to pad to<br>
<i>length</i>
Length<br>
<br>
</ul>
</div><a name='-padright'></a><div class=command> <i><a href='#-padright'>-padright</a></i>  &lt;columns&gt;  &lt;character&gt;  &lt;length&gt; </div><div class=command-block>Pad right with given character<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>character</i>
Character to pad to<br>
<i>length</i>
Length<br>
<br>
</ul>
</div><a name='-trim'></a><div class=command> <i><a href='#-trim'>-trim</a></i>  &lt;columns&gt; </div><div class=command-block>Trim leading and trailing white space<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-trimquotes'></a><div class=command> <i><a href='#-trimquotes'>-trimquotes</a></i>  &lt;columns&gt; </div><div class=command-block>Trim leading and trailing quotes<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-width'></a><div class=command> <i><a href='#-width'>-width</a></i>  &lt;columns&gt;  &lt;size&gt; </div><div class=command-block>Limit the string size of the columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>size</i>
<br>
<br>
</ul>
</div><a name='-prepend'></a><div class=command> <i><a href='#-prepend'>-prepend</a></i>  &lt;text&gt; </div><div class=command-block>Add the text to the beginning of the file. use _nl_ to insert newlines<br>
<b>Arguments:</b><br>
<ul>
<i>text</i>
<br>
<br>
</ul>
</div><a name='-pad'></a><div class=command> <i><a href='#-pad'>-pad</a></i>  &lt;count&gt;  &lt;pad string&gt; </div><div class=command-block>Add or remove columns to achieve the count<br>
<b>Arguments:</b><br>
<ul>
<i>count</i>
<br>
<i>pad string</i>
<br>
<br>
</ul>
</div><a name='-prefix'></a><div class=command> <i><a href='#-prefix'>-prefix</a></i>  &lt;column&gt;  &lt;prefix&gt; </div><div class=command-block>Add prefix to column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>prefix</i>
<br>
<br>
</ul>
</div><a name='-suffix'></a><div class=command> <i><a href='#-suffix'>-suffix</a></i>  &lt;column&gt;  &lt;suffix&gt; </div><div class=command-block>Add suffix to column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>suffix</i>
<br>
<br>
</ul>
</div><a name='-ascii'></a><div class=command> <i><a href='#-ascii'>-ascii</a></i>  &lt;columns&gt;  &lt;substitution string&gt; </div><div class=command-block>Convert non ascii characters<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>substitution string</i>
<br>
<br>
</ul>
</div><a name='-ismobile'></a><div class=command> <i><a href='#-ismobile'>-ismobile</a></i>  &lt;columns&gt; </div><div class=command-block>Add a true/false if the string is a mobile phone<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-js'></a><div class=command> <i><a href='#-js'>-js</a></i>  &lt;javascript&gt; </div><div class=command-block>Define Javascript (e.g., functions) to use later in the -func call<br>
<b>Arguments:</b><br>
<ul>
<i>javascript</i>
<br>
<br>
</ul>
</div><a name='-func'></a><div class=command> <i><a href='#-func'>-func</a></i>  &lt;names&gt;  &lt;javascript&gt; </div><div class=command-block>Apply the javascript function. Use _colname or _col#<br>
<b>Arguments:</b><br>
<ul>
<i>names</i>
New column names<br>
<i>javascript</i>
javascript expression<br>
<br>
</ul>
</div><a name='-endswith'></a><div class=command> <i><a href='#-endswith'>-endswith</a></i>  &lt;column&gt;  &lt;string&gt; </div><div class=command-block>Ensure that each column ends with the string<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>string</i>
<br>
<br>
</ul>
</div><a name='-truncate'></a><div class=command> <i><a href='#-truncate'>-truncate</a></i>  &lt;column&gt;  &lt;max length&gt;  &lt;suffix&gt; </div><div class=command-block><b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>max length</i>
<br>
<i>suffix</i>
<br>
<br>
</ul>
</div><a name='-extract'></a><div class=command> <i><a href='#-extract'>-extract</a></i>  &lt;column&gt;  &lt;pattern&gt;  &lt;replace with&gt;  &lt;name&gt; </div><div class=command-block>Extract text from column and make a new column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>pattern</i>
<br>
<i>replace with</i>
use 'none' for no replacement<br>
<i>name</i>
new column name<br>
<br>
</ul>
</div><a name='-urlarg'></a><div class=command> <i><a href='#-urlarg'>-urlarg</a></i>  &lt;column&gt;  &lt;argname&gt; </div><div class=command-block>Extract URL argument and make a new column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>argname</i>
URL arg name<br>
<br>
</ul>
</div><a name='-urlencode'></a><div class=command> <i><a href='#-urlencode'>-urlencode</a></i>  &lt;columns&gt; </div><div class=command-block>URL encode the columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-urldecode'></a><div class=command> <i><a href='#-urldecode'>-urldecode</a></i>  &lt;columns&gt; </div><div class=command-block>URL decode the columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-map'></a><div class=command> <i><a href='#-map'>-map</a></i>  &lt;column&gt;  &lt;new columns name&gt;  &lt;value newvalue ...&gt; </div><div class=command-block>Change values in column to new values<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>new columns name</i>
<br>
<i>value newvalue ...</i>
<br>
<br>
</ul>
</div><a name='-format'></a><div class=command> <i><a href='#-format'>-format</a></i>  &lt;columns&gt;  &lt;format&gt; </div><div class=command-block>Apply decimal format to the columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>format</i>
Decimal format  e.g. '##0.00'<br>
<br>
</ul>
</div><a name='-denormalize'></a><div class=command> <i><a href='#-denormalize'>-denormalize</a></i>  &lt;file&gt;  &lt;from id idx&gt;  &lt;from value idx&gt;  &lt;to idx&gt;  &lt;new col name&gt;  &lt;mode replace add&gt; </div><div class=command-block>Read the id,value from file and substitute the value in the dest file col idx<br>
<b>Arguments:</b><br>
<ul>
<i>file</i>
From csv file<br>
<i>from id idx</i>
<br>
<i>from value idx</i>
<br>
<i>to idx</i>
<br>
<i>new col name</i>
<br>
<i>mode replace add</i>
<br>
<br>
</ul>
</div><a name='-break'></a><div class=command> <i><a href='#-break'>-break</a></i>  &lt;label1&gt;  &lt;label2&gt;  &lt;columns&gt; </div><div class=command-block>Break apart column values and make new rows<br>
<b>Arguments:</b><br>
<ul>
<i>label1</i>
<br>
<i>label2</i>
<br>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-makeids'></a><div class=command> <i><a href='#-makeids'>-makeids</a></i> </div><div class=command-block>Turn the header row into IDs (lowercase, no space, a-z0-9_<br>
<br>
</ul>
</div><a name='-faker'></a><div class=command> <i><a href='#-faker'>-faker</a></i>  &lt;what&gt;  &lt;columns&gt; </div><div class=command-block>Fake up data. See the docs at https://ramadda.org/repository/userguide/seesv.html#-faker<br>
<b>Arguments:</b><br>
<ul>
<i>what</i>
firstname|lastname|fullname|etc<br>
<i>columns</i>
Columns to change. Of none given then add the fake value<br>
<br>
</ul>
The -faker command uses the <a href="https://github.com/DiUS/java-faker">Java Faker</a> package
and takes any of the below commands:
<pre style='max-height:400px;overflow-y:auto;'>
firstname
fullname
lastname
name
namewithmiddle
prefix
suffix
title
username
address
city
country
state
stateabbr
streetname
timezone
zipcode
latitude
longitude
countrycode
boolean
asin
ean13
ean8
gtin13
gtin8
imei
isbn10
isbn13
isbngroup
isbngs1
isbnregistrant
color
department
material
price
productname
promotioncode
demonym
educationalattainment
maritalstatus
race
sex
bic
creditcard
iban
ssn
digit
digits:number_of_digits
numberbetween:first:last
randomdigit
randomdigitnotzero
randomDouble:maxNumberOfDecimals:min:max
randomnumber
cellphone
phonenumber
diseasename
hospitalname
medicinename
symptoms
</pre>  
<p></div></ul><br><hr><a name='Add Values'></a><b style='font-size:120%;'>Add Values</b><br>
<div class=header>Commands: <a href='#-subst'>-subst</a> <a href='#-md'>-md</a> <a href='#-tob64'>-tob64</a> <a href='#-fromb64'>-fromb64</a> <a href='#-rot13'>-rot13</a> <a href='#-encrypt'>-encrypt</a> <a href='#-decrypt'>-decrypt</a> <a href='#-uuid'>-uuid</a> <a href='#-number'>-number</a> <a href='#-letter'>-letter</a> <a href='#-soundex'>-soundex</a> <a href='#-wikidesc'>-wikidesc</a> <a href='#-image'>-image</a> <a href='#-embed'>-embed</a> <a href='#-fetch'>-fetch</a> <a href='#-imagefill'>-imagefill</a> <a href='#-download'>-download</a> <a href='#-gender'>-gender</a> </div><a name='-subst'></a><div class=command> <i><a href='#-subst'>-subst</a></i>  &lt;column_name&gt;  &lt;template&gt; </div><div class=command-block>Create a new column with the template<br>
<b>Arguments:</b><br>
<ul>
<i>column_name</i>
New Column Name<br>
<i>template</i>
Template - use ${column_name} ... <br>
<br>
</ul>
</div><a name='-md'></a><div class=command> <i><a href='#-md'>-md</a></i>  &lt;columns&gt;  &lt;type&gt; </div><div class=command-block>Make a message digest of the column values<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>type</i>
 values:MD5,SHA-1,SHA-256,SHA-512,SHA3-256,SHA3-512, <br>
<br>
</ul>
</div><a name='-tob64'></a><div class=command> <i><a href='#-tob64'>-tob64</a></i>  &lt;columns&gt; </div><div class=command-block>Base 64 Decode<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-fromb64'></a><div class=command> <i><a href='#-fromb64'>-fromb64</a></i>  &lt;columns&gt; </div><div class=command-block>Base 64 Decode<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-rot13'></a><div class=command> <i><a href='#-rot13'>-rot13</a></i>  &lt;columns&gt; </div><div class=command-block>Rot 13<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-encrypt'></a><div class=command> <i><a href='#-encrypt'>-encrypt</a></i>  &lt;columns&gt;  &lt;password&gt; </div><div class=command-block>Encrypt using AES with SHA-256 key<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>password</i>
<br>
<br>
</ul>
</div><a name='-decrypt'></a><div class=command> <i><a href='#-decrypt'>-decrypt</a></i>  &lt;columns&gt;  &lt;password&gt; </div><div class=command-block>Encrypt using AES with SHA-256 key<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>password</i>
<br>
<br>
</ul>
</div><a name='-uuid'></a><div class=command> <i><a href='#-uuid'>-uuid</a></i> </div><div class=command-block>Add a UUID field<br>
<br>
</ul>
</div><a name='-number'></a><div class=command> <i><a href='#-number'>-number</a></i> </div><div class=command-block>Add 1,2,3... as column<br>
<br>
</ul>
</div><a name='-letter'></a><div class=command> <i><a href='#-letter'>-letter</a></i> </div><div class=command-block>Add 'A','B', ... as column<br>
<br>
</ul>
</div><a name='-soundex'></a><div class=command> <i><a href='#-soundex'>-soundex</a></i>  &lt;columns&gt; </div><div class=command-block>Generate a soundex code<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-wikidesc'></a><div class=command> <i><a href='#-wikidesc'>-wikidesc</a></i>  &lt;column&gt;  &lt;suffix&gt; </div><div class=command-block>Add a description from wikipedia<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>suffix</i>
<br>
<br>
</ul>


This uses the API at https://en.wikipedia.org/w/api.php to get the description of a wikipedia page that
matches the string provided by the given columns.


<p></div><a name='-image'></a><div class=command> <i><a href='#-image'>-image</a></i>  &lt;column&gt;  &lt;suffix&gt; </div><div class=command-block>Search for an image<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>suffix</i>
<br>
<br>
</ul>
</div><a name='-embed'></a><div class=command> <i><a href='#-embed'>-embed</a></i>  &lt;url column&gt; </div><div class=command-block>Download the URL and embed the image contents<br>
<b>Arguments:</b><br>
<ul>
<i>url column</i>
<br>
<br>
</ul>
</div><a name='-fetch'></a><div class=command> <i><a href='#-fetch'>-fetch</a></i>  &lt;name&gt;  &lt;url&gt; </div><div class=command-block>Fetch the the URL and embed the contents<br>
<b>Arguments:</b><br>
<ul>
<i>name</i>
Name of new column<br>
<i>url</i>
URL template, e.g., https://foo.com/${column_name}<br>
<br>
</ul>
</div><a name='-imagefill'></a><div class=command> <i><a href='#-imagefill'>-imagefill</a></i>  &lt;querycolumn&gt;  &lt;suffix&gt;  &lt;imagecolumn&gt; </div><div class=command-block>Search for an image with the query column text if the given image column is blank. Add the given suffix to the search. <br>
<b>Arguments:</b><br>
<ul>
<i>querycolumn</i>
<br>
<i>suffix</i>
<br>
<i>imagecolumn</i>
<br>
<br>
</ul>
</div><a name='-download'></a><div class=command> <i><a href='#-download'>-download</a></i>  &lt;column&gt;  &lt;suffix&gt; </div><div class=command-block>Download the URL<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>suffix</i>
File suffix<br>
<br>
</ul>
</div><a name='-gender'></a><div class=command> <i><a href='#-gender'>-gender</a></i>  &lt;column&gt; </div><div class=command-block>Figure out the gender of the name in the column<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<br>
</ul>
</div></ul><br><hr><a name='Dates'></a><b style='font-size:120%;'>Dates</b><br>
<div class=header>Commands: <a href='#-indateformat'>-indateformat</a> <a href='#-outdateformat'>-outdateformat</a> <a href='#-convertdate'>-convertdate</a> <a href='#-adddate'>-adddate</a> <a href='#-extractdate'>-extractdate</a> <a href='#-formatdate'>-formatdate</a> <a href='#-elapsed'>-elapsed</a> <a href='#-datediff'>-datediff</a> <a href='#-datecompare'>-datecompare</a> </div><a name='-indateformat'></a><div class=command> <i><a href='#-indateformat'>-indateformat</a></i>  &lt;format&gt;  &lt;timezone&gt; </div><div class=command-block>Specify date format for parsing<br>
<b>Arguments:</b><br>
<ul>
<i>format</i>
e.g. yyyy-MM-dd HH:mm:ss<br>
<i>timezone</i>
<br>
<br>
</ul>
</div><a name='-outdateformat'></a><div class=command> <i><a href='#-outdateformat'>-outdateformat</a></i>  &lt;format&gt;  &lt;timezone&gt; </div><div class=command-block>Specify date format for formatting<br>
<b>Arguments:</b><br>
<ul>
<i>format</i>
e.g. yyyy-MM-dd HH:mm:ss<br>
<i>timezone</i>
<br>
<br>
</ul>
</div><a name='-convertdate'></a><div class=command> <i><a href='#-convertdate'>-convertdate</a></i>  &lt;column&gt; </div><div class=command-block>Convert date<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<br>
</ul>
</div><a name='-adddate'></a><div class=command> <i><a href='#-adddate'>-adddate</a></i>  &lt;date_column&gt;  &lt;value&gt;  &lt;value_type&gt; </div><div class=command-block>Add date<br>
<b>Arguments:</b><br>
<ul>
<i>date_column</i>
Date Column<br>
<i>value</i>
Value Column<br>
<i>value_type</i>
Value type - millisecond,second,minute,hour,hour_of_day,week,month,year<br>
<br>
</ul>
</div><a name='-extractdate'></a><div class=command> <i><a href='#-extractdate'>-extractdate</a></i>  &lt;date column&gt;  &lt;what&gt; </div><div class=command-block>Extract date<br>
<b>Arguments:</b><br>
<ul>
<i>date column</i>
<br>
<i>what</i>
What to extract, e.g., year, month, day_of_week, etc values:era,year,month,day_of_month,day_of_week,week_of_month,
day_of_week_in_month,am_pm,hour,hour_of_day,
minute,second,millisecond <br>
<br>
</ul>
</div><a name='-formatdate'></a><div class=command> <i><a href='#-formatdate'>-formatdate</a></i>  &lt;columns&gt;  &lt;target date format&gt; </div><div class=command-block>Format date<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>target date format</i>
<br>
<br>
</ul>
</div><a name='-elapsed'></a><div class=command> <i><a href='#-elapsed'>-elapsed</a></i>  &lt;column&gt; </div><div class=command-block>Calculate elapsed time (ms) between rows<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<br>
</ul>
</div><a name='-datediff'></a><div class=command> <i><a href='#-datediff'>-datediff</a></i>  &lt;column1&gt;  &lt;column2&gt;  &lt;unit&gt; </div><div class=command-block>Calculate elapsed time between columns column1-column2<br>
<b>Arguments:</b><br>
<ul>
<i>column1</i>
Column 1<br>
<i>column2</i>
Column 2<br>
<i>unit</i>
Unit-milliseconds,seconds,minutes,hours,days values:milliseconds,seconds,minutes,hours,days <br>
<br>
</ul>
</div><a name='-datecompare'></a><div class=command> <i><a href='#-datecompare'>-datecompare</a></i>  &lt;column1&gt;  &lt;column2&gt;  &lt;operator&gt; </div><div class=command-block>add a true/false column comparing the date values<br>
<b>Arguments:</b><br>
<ul>
<i>column1</i>
<br>
<i>column2</i>
<br>
<i>operator</i>
<,<=,=,!=,>=,> values:<,<=,=,!=,>=,> <br>
<br>
</ul>
</div></ul><br><hr><a name='Numeric/Boolean'></a><b style='font-size:120%;'>Numeric/Boolean</b><br>
<div class=header>Commands: <a href='#-scale'>-scale</a> <a href='#-generate'>-generate</a> <a href='#-decimals'>-decimals</a> <a href='#-fuzz'>-fuzz</a> <a href='#-ceil'>-ceil</a> <a href='#-floor'>-floor</a> <a href='#-delta'>-delta</a> <a href='#-operator'>-operator</a> <a href='#-compare'>-compare</a> <a href='#-round'>-round</a> <a href='#-abs'>-abs</a> <a href='#-clip'>-clip</a> <a href='#-rand'>-rand</a> <a href='#-even'>-even</a> <a href='#-sum'>-sum</a> <a href='#-pivot'>-pivot</a> <a href='#-summary'>-summary</a> <a href='#-histogram'>-histogram</a> <a href='#-percent'>-percent</a> <a href='#-increase'>-increase</a> <a href='#-average'>-average</a> <a href='#-ranges'>-ranges</a> <a href='#-bytes'>-bytes</a> <a href='#-column_and'>-column_and</a> <a href='#-colum_nor'>-colum_nor</a> <a href='#-column_not'>-column_not</a> </div><a name='-scale'></a><div class=command> <i><a href='#-scale'>-scale</a></i>  &lt;column&gt;  &lt;delta1&gt;  &lt;scale&gt;  &lt;delta2&gt; </div><div class=command-block>Set value={value+delta1}*scale+delta2<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>delta1</i>
<br>
<i>scale</i>
<br>
<i>delta2</i>
<br>
<br>
</ul>
</div><a name='-generate'></a><div class=command> <i><a href='#-generate'>-generate</a></i>  &lt;label&gt;  &lt;start&gt;  &lt;step&gt; </div><div class=command-block>Add row values<br>
<b>Arguments:</b><br>
<ul>
<i>label</i>
<br>
<i>start</i>
<br>
<i>step</i>
<br>
<br>
</ul>
</div><a name='-decimals'></a><div class=command> <i><a href='#-decimals'>-decimals</a></i>  &lt;column&gt;  &lt;num_decimals&gt; </div><div class=command-block>Round decimals<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>num_decimals</i>
how many decimals to round to<br>
<br>
</ul>
</div><a name='-fuzz'></a><div class=command> <i><a href='#-fuzz'>-fuzz</a></i>  &lt;column&gt;  &lt;num_places&gt;  &lt;num_random_digits&gt; </div><div class=command-block>fuzz the number. if num_places less than zero than that is the # of decimals. else that is the lower digits to fuzz out<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>num_places</i>
how many places to round to. use <=0 for decimals<br>
<i>num_random_digits</i>
how many random digits<br>
<br>
</ul>
The -fuzz command works to anonymize numeric values.
<p>
The num_random_digits is used to generate a number with those random digits.
<p>
If the num_places argument is &lt;= zero then
that is the number of decimal places the number is rounded to.
If there are fewer than num_places decimals than those decimals are converted to "0".
The randomized digits are then appended to the number.
For example with R = random digit:
<pre>
-fuzz -2 3
gives:
12345.6789 -&gt; 12345.67RR
145.678 -&gt; 145.67RR
9.0 -&gt; 9.RR
</pre>

<p>
If num_places &gt; 0 then the number is converted to an integer and
the num_places least significant digits are converted to 0.
If the number of digits is &lt; num_places then the number is converted to 0.
The randomized digits are then addedto the number.
For example with R = random digit:
<pre>
-fuzz 2 3
gives:
12345.678 -&gt; 123RR
145.678 -&gt; 1RR
1.678 -&gt; RR
</pre>

<p></div><a name='-ceil'></a><div class=command> <i><a href='#-ceil'>-ceil</a></i>  &lt;columns&gt;  &lt;value&gt; </div><div class=command-block>Set the max value<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>value</i>
Value<br>
<br>
</ul>
</div><a name='-floor'></a><div class=command> <i><a href='#-floor'>-floor</a></i>  &lt;columns&gt;  &lt;value&gt; </div><div class=command-block>Set the min value<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>value</i>
Value<br>
<br>
</ul>
</div><a name='-delta'></a><div class=command> <i><a href='#-delta'>-delta</a></i>  &lt;key columns&gt;  &lt;columns&gt; </div><div class=command-block>Add column that is the delta from the previous step<br>
<b>Arguments:</b><br>
<ul>
<i>key columns</i>
<br>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-operator'></a><div class=command> <i><a href='#-operator'>-operator</a></i>  &lt;columns&gt;  &lt;new col name&gt;  &lt;operator +,-,*,/,%,average&gt; </div><div class=command-block>Apply the operator to the given columns and create new one<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Columns<br>
<i>new col name</i>
<br>
<i>operator +,-,*,/,%,average</i>
<br>
<br>
</ul>
</div><a name='-compare'></a><div class=command> <i><a href='#-compare'>-compare</a></i>  &lt;column1&gt;  &lt;column2&gt;  &lt;operator&gt; </div><div class=command-block>add a true/false column comparing the values<br>
<b>Arguments:</b><br>
<ul>
<i>column1</i>
<br>
<i>column2</i>
<br>
<i>operator</i>
<,<=,=,!=,>=,> values:<,<=,=,!=,>=,> <br>
<br>
</ul>
</div><a name='-round'></a><div class=command> <i><a href='#-round'>-round</a></i>  &lt;columns&gt; </div><div class=command-block>round the values<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-abs'></a><div class=command> <i><a href='#-abs'>-abs</a></i>  &lt;columns&gt; </div><div class=command-block>make absolute values<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-clip'></a><div class=command> <i><a href='#-clip'>-clip</a></i>  &lt;columns&gt;  &lt;min&gt;  &lt;max&gt; </div><div class=command-block>clip the number to within the range<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>min</i>
<br>
<i>max</i>
<br>
<br>
</ul>
</div><a name='-rand'></a><div class=command> <i><a href='#-rand'>-rand</a></i>  &lt;column name&gt;  &lt;minrange&gt;  &lt;maxrange&gt; </div><div class=command-block>make random value<br>
<b>Arguments:</b><br>
<ul>
<i>column name</i>
<br>
<i>minrange</i>
Minimum range (e.g. 0)<br>
<i>maxrange</i>
Maximum range (e.g. 1)<br>
<br>
</ul>
</div><a name='-even'></a><div class=command> <i><a href='#-even'>-even</a></i>  &lt;columns&gt; </div><div class=command-block>Add true if the column starts with an even number<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-sum'></a><div class=command> <i><a href='#-sum'>-sum</a></i>  &lt;key columns&gt;  &lt;value columns&gt;  &lt;carry over columns&gt; </div><div class=command-block>Sum values keying on key column value. If no value columns specified then do a count<br>
<b>Arguments:</b><br>
<ul>
<i>key columns</i>
<br>
<i>value columns</i>
<br>
<i>carry over columns</i>
<br>
<br>
</ul>
</div><a name='-pivot'></a><div class=command> <i><a href='#-pivot'>-pivot</a></i>  &lt;key columns&gt;  &lt;column columns&gt;  &lt;value column&gt;  &lt;operator&gt; </div><div class=command-block>Make a pivot table<br>
<b>Arguments:</b><br>
<ul>
<i>key columns</i>
Columns to key on<br>
<i>column columns</i>
The columns the values of which are used to make the new columns in the result<br>
<i>value column</i>
The value column<br>
<i>operator</i>
The operator to apply -  count,sum,average,min,max<br>
<br>
</ul>
For example, with the input file:
<pre>
Region,Date,Units,Sales
West,2016,1,11.00
South,2016,8,96.00
West,2016,2,26.00
North,2016,7,84.00
North,2016,8,104.00
South,2016,2,22.00
</pre>

Running:
<pre>
csv -pivot region date sales count  -p input.csv 
</pre>

Gives:
<pre>
Region,2016,2017,2018,2019
West,15.0,51.0,49.0,42.0
South,25.0,23.0,31.0,14.0
North,15.0,27.0,56.0,39.0
East,10.0,24.0,18.0,13.0
</pre>

You can also specify multiple operators:
<pre>
csv -pivot region date sales count,min,max  -p input.csv 
</pre>

Gives:
<pre>
Region,2016 - count,2016 - min,2016 - max,2017 - count,2017 - min,2017 - max,2018 - count,2018 - min,2018 - max,2019 - count,2019 - min,2019 - max
West,15.0,11.0,96.0,51.0,11.0,104.0,49.0,11.0,112.0,42.0,13.0,120.0
South,25.0,12.0,96.0,23.0,11.0,104.0,31.0,11.0,120.0,14.0,12.0,112.0
North,15.0,12.0,104.0,27.0,12.0,96.0,56.0,11.0,120.0,39.0,13.0,120.0
East,10.0,24.0,96.0,24.0,11.0,104.0,18.0,11.0,112.0,13.0,12.0,105.0
</pre>





  
<p></div><a name='-summary'></a><div class=command> <i><a href='#-summary'>-summary</a></i>  &lt;key columns&gt;  &lt;value columns&gt;  &lt;carry over columns&gt;  &lt;ops&gt; </div><div class=command-block>count/sum/average/min/max values keying on key column value. If no value columns specified then do a count<br>
<b>Arguments:</b><br>
<ul>
<i>key columns</i>
Columns to key on<br>
<i>value columns</i>
Columns to apply operators on<br>
<i>carry over columns</i>
Extra columns to include<br>
<i>ops</i>
any of count,sum,average,min,max<br>
<br>
</ul>
For example, with the below data, if you wanted to summarize the total units by region:
<pre>
Region,Color,Units,Sales
West,Red,1,11.00
South,Blue,8,96.00
West,Green,2,26.00
North,Blue,7,84.00
North,Green,8,104.00
South,Red,2,22.00
East,Blue,5,60.00
West,Green,2,26.00
</pre>

You would do:
<pre>
  csv -summary region units ""  sum  -p summary.csv
</pre>
Which gives:
<pre>
Region,Units sum
West,683.0
South,399.0
North,672.0
East,294.0
</pre>


If you wanted to get the sum and average of the sales:
<pre>
csv -summary region sales ""  sum,avg  -p summary.csv 
</pre>
You'd get:
<pre>
Region,Sales sum,Sales avg
West,8873.0,56.51592356687898
South,5044.0,54.236559139784944
North,8709.0,63.56934306569343
East,3730.0,57.38461538461539
</pre>

The carry over column just gets the first value for the key column. So, if you wanted to include the color column do:
<pre>
csv -summary region sales color  sum,avg  -p summary.csv 
</pre>

Which gives:
<pre>
Region,Sales sum,Sales avg,Color
West,8873.0,56.51592356687898,Red
South,5044.0,54.236559139784944,Blue
North,8709.0,63.56934306569343,Blue
East,3730.0,57.38461538461539,Blue
</pre>
<p></div><a name='-histogram'></a><div class=command> <i><a href='#-histogram'>-histogram</a></i>  &lt;column&gt;  &lt;bins&gt;  &lt;value columns&gt;  &lt;ops&gt; </div><div class=command-block>Make a histogram with the given column and bins<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
The column<br>
<i>bins</i>
Comma separated set of bin values<br>
<i>value columns</i>
Extra columns to sum up<br>
<i>ops</i>
ops to apply to extra columns - any of count,sum,average,min,max<br>
<br>
</ul>
The bins value is a comma separated list of the numeric ranges that define how
to bin the data. e.g., for a set of age ranges one can specify:
<pre>
bins="18,30,40,50,60,70"
</pre>
This results in bins of:
<pre>
  0-18
  18-30
  30-40
  40-50
  etc.
</pre>

You can also specify a range with an optional step value.
For example this:
<pre>
bins="18-30" 
</pre>
Will give you the bins:
<pre>
  18-19
  19-20
  20-21
  ...
  29-30
  30-infinity
</pre>

Or you can specify a step
<pre>
bins="18-30:2" 
</pre>
Will give you the bins:
<pre>
  18-20
  20-22
  22-24
  ...
</pre>

<p></div><a name='-percent'></a><div class=command> <i><a href='#-percent'>-percent</a></i>  &lt;columns to add&gt; </div><div class=command-block><b>Arguments:</b><br>
<ul>
<i>columns to add</i>
<br>
<br>
</ul>
</div><a name='-increase'></a><div class=command> <i><a href='#-increase'>-increase</a></i>  &lt;column&gt;  &lt;how far back&gt; </div><div class=command-block>Calculate percent increase<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>how far back</i>
<br>
<br>
</ul>
</div><a name='-average'></a><div class=command> <i><a href='#-average'>-average</a></i>  &lt;columns&gt;  &lt;period&gt;  &lt;label&gt; </div><div class=command-block>Calculate a moving average<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>period</i>
<br>
<i>label</i>
<br>
<br>
</ul>
</div><a name='-ranges'></a><div class=command> <i><a href='#-ranges'>-ranges</a></i>  &lt;column&gt;  &lt;name&gt;  &lt;start&gt;  &lt;size&gt; </div><div class=command-block>Create a new column with the (string) ranges where the value falls in<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<i>name</i>
New column name<br>
<i>start</i>
Numeric start of range<br>
<i>size</i>
Numeric size of range<br>
<br>
</ul>
</div><a name='-bytes'></a><div class=command> <i><a href='#-bytes'>-bytes</a></i>  &lt;unit&gt;  &lt;column&gt; </div><div class=command-block>Convert suffixed values (e.g., 2 MB) into the number<br>
<b>Arguments:</b><br>
<ul>
<i>unit</i>
 values:binary,metric <br>
<i>column</i>
<br>
<br>
</ul>
</div><a name='-column_and'></a><div class=command> <i><a href='#-column_and'>-column_and</a></i>  &lt;name&gt;  &lt;columns&gt; </div><div class=command-block>And values<br>
<b>Arguments:</b><br>
<ul>
<i>name</i>
New column name<br>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-colum_nor'></a><div class=command> <i><a href='#-colum_nor'>-colum_nor</a></i>  &lt;name&gt;  &lt;columns&gt; </div><div class=command-block>Or values<br>
<b>Arguments:</b><br>
<ul>
<i>name</i>
New column name<br>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<br>
</ul>
</div><a name='-column_not'></a><div class=command> <i><a href='#-column_not'>-column_not</a></i>  &lt;name&gt;  &lt;column&gt; </div><div class=command-block>Not value<br>
<b>Arguments:</b><br>
<ul>
<i>name</i>
New column name<br>
<i>column</i>
<br>
<br>
</ul>
</div></ul><br><hr><a name='Geospatial'></a><b style='font-size:120%;'>Geospatial</b><br>
<div class=header>Commands: <a href='#-geocode'>-geocode</a> <a href='#-geocodeifneeded'>-geocodeifneeded</a> <a href='#-geocodeaddressdb'>-geocodeaddressdb</a> <a href='#-geocodejoin'>-geocodejoin</a> <a href='#-bounds'>-bounds</a> <a href='#-decodelatlon'>-decodelatlon</a> <a href='#-getaddress'>-getaddress</a> <a href='#-statename'>-statename</a> <a href='#-geoname'>-geoname</a> <a href='#-geocontains'>-geocontains</a> <a href='#-elevation'>-elevation</a> <a href='#-mercator'>-mercator</a> <a href='#-region'>-region</a> <a href='#-population'>-population</a> <a href='#-neighborhood'>-neighborhood</a> </div><a name='-geocode'></a><div class=command> <i><a href='#-geocode'>-geocode</a></i>  &lt;columns&gt;  &lt;prefix&gt;  &lt;suffix&gt; </div><div class=command-block>Geocode using given columns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Address columns<br>
<i>prefix</i>
optional prefix e.g., state: or county: or country:<br>
<i>suffix</i>
<br>
<br>
</ul>



You can use Google or geocode.io for geocoding by setting the following environment variables.
Else, this defaults to using US Census geocode API.
<p>
To use Google geocoding set the environment variable:
<pre>
GOOGLE_API_KEY=...
</pre>

To use geocod.io set the environment variable:
<pre>
GEOCIDEIO_API_KEY=...
</pre>

For here.com set:
<pre>
HERE_API_KEY=
</pre>


To geocode, e.g.,  with the following file:
<pre class=examples>
city,state
Boulder,CO
Laramie,WY
Buffalo,NY
</pre>

Run:
<pre class=examples>
seesv -geocode city,state "" "" ...
</pre>

This concatenates the city and state field, e.g., "Boulder CO" and calls the API to geolocate.
<p>
To use internal location tables set the prefix argument to one of:
<pre>
seesv -geocode columns "city:" "" ...
seesv -geocode columns "county:" "" ...
seesv -geocode columns "state:" "" ...
seesv -geocode columns "zip:" "" ...  
seesv -geocode columns "country:" "" ...    
</pre>


The suffix gets appended to the query string. For example if you had a file with just cities in a state, e.g.:
<pre class=examples>
city
Boulder
Denver
Grand Junction
Pueblo
</pre>

You can geocode with:
<pre>
seesv -geocode city "" "CO"
</pre>




<p></div><a name='-geocodeifneeded'></a><div class=command> <i><a href='#-geocodeifneeded'>-geocodeifneeded</a></i>  &lt;columns&gt;  &lt;prefix&gt;  &lt;suffix&gt;  &lt;latitude&gt;  &lt;longitude&gt; </div><div class=command-block>Geocode if needed<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Address columns<br>
<i>prefix</i>
optional prefix e.g., state: or county: or country:<br>
<i>suffix</i>
<br>
<i>latitude</i>
latitude column<br>
<i>longitude</i>
longitude column<br>
<br>
</ul>
</div><a name='-geocodeaddressdb'></a><div class=command> <i><a href='#-geocodeaddressdb'>-geocodeaddressdb</a></i>  &lt;columns&gt;  &lt;prefix&gt;  &lt;suffix&gt; </div><div class=command-block>Geocode for import into RAMADDA's DB. The lat/lon is one semi-colon delimited column<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
columns<br>
<i>prefix</i>
<br>
<i>suffix</i>
<br>
<br>
</ul>
</div><a name='-geocodejoin'></a><div class=command> <i><a href='#-geocodejoin'>-geocodejoin</a></i>  &lt;column&gt;  &lt;csv file&gt;  &lt;key idx&gt;  &lt;lat idx&gt;  &lt;lon idx&gt; </div><div class=command-block>Geocode with file<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
key column<br>
<i>csv file</i>
File to get lat/lon from<br>
<i>key idx</i>
<br>
<i>lat idx</i>
<br>
<i>lon idx</i>
<br>
<br>
</ul>

This assumes you have a separate file that contains a key value and latitude/longitude
and the source file has a key value. For example, you might have a list of precincts, e.g.:
<pre>
precinct,latitude,longitude
4171107648,40.197055,-105.100351
2171207308,39.996986,-105.084938
2173307410,40.039912,-105.081393
</pre>

The source file is a list of voters, e.g.:
<pre>
name,precinct
John Doe,4171107648
Jane Doe,4171107648
Jim Smith,2171207308
</pre>  

To add the lat/lon:
<pre>
seesv -geocodejoin precinct precincts.csv precinct latitude longitude
</pre>


<p></div><a name='-bounds'></a><div class=command> <i><a href='#-bounds'>-bounds</a></i>  &lt;north&gt;  &lt;west&gt;  &lt;south&gt;  &lt;east&gt; </div><div class=command-block>Geocode within bounds<br>
<b>Arguments:</b><br>
<ul>
<i>north</i>
<br>
<i>west</i>
<br>
<i>south</i>
<br>
<i>east</i>
<br>
<br>
</ul>
</div><a name='-decodelatlon'></a><div class=command> <i><a href='#-decodelatlon'>-decodelatlon</a></i>  &lt;columns&gt; </div><div class=command-block>Decode latlon<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Lat or Lon column<br>
<br>
</ul>
</div><a name='-getaddress'></a><div class=command> <i><a href='#-getaddress'>-getaddress</a></i>  &lt;latitude&gt;  &lt;latitude&gt; </div><div class=command-block>Get address from lat/lon<br>
<b>Arguments:</b><br>
<ul>
<i>latitude</i>
latitude column<br>
<i>latitude</i>
latitude column<br>
<br>
</ul>



This function takes a latitude and longitude column and does an address lookup using either
geocod.io or here.com apis. See above for the API keys that need to be set. 
<p></div><a name='-statename'></a><div class=command> <i><a href='#-statename'>-statename</a></i>  &lt;column&gt; </div><div class=command-block>Add state name from state ID<br>
<b>Arguments:</b><br>
<ul>
<i>column</i>
<br>
<br>
</ul>
</div><a name='-geoname'></a><div class=command> <i><a href='#-geoname'>-geoname</a></i>  &lt;lookup&gt;  &lt;fields&gt;  &lt;lat&gt;  &lt;lon&gt; </div><div class=command-block>Look up location name<br>
<b>Arguments:</b><br>
<ul>
<i>lookup</i>
('counties' or 'states' or 'countries' or 'timezones')<br>
<i>fields</i>
fields in shapefile<br>
<i>lat</i>
Latitude column<br>
<i>lon</i>
Longitude column<br>
<br>
</ul>

This uses one of the shapefiles provided by RAMADDA and finds the name of the feature that
contains the given lat/lon.


For example if you had the following data file:
<pre>
name,latitude,longitude
City 1,40.197055,-105.100351
City 2,39.996986,-105.084938
City 3,40.039912,-105.081393
</pre>

You can add the country and timezone with:

<pre>
seesv -geoname countries  latitude longitude -geoname timezones  latitude longitude
</pre>



<p></div><a name='-geocontains'></a><div class=command> <i><a href='#-geocontains'>-geocontains</a></i>  &lt;lookup&gt;  &lt;name&gt;  &lt;lat&gt;  &lt;lon&gt; </div><div class=command-block>Check for containment<br>
<b>Arguments:</b><br>
<ul>
<i>lookup</i>
('counties' or 'states' or 'countries' or 'timezones')<br>
<i>name</i>
new column name<br>
<i>lat</i>
Latitude column<br>
<i>lon</i>
Longitude column<br>
<br>
</ul>
</div><a name='-elevation'></a><div class=command> <i><a href='#-elevation'>-elevation</a></i>  &lt;lat&gt;  &lt;lon&gt; </div><div class=command-block>Look up elevation(using 1/3 arc-second DEM)<br>
<b>Arguments:</b><br>
<ul>
<i>lat</i>
Latitude column<br>
<i>lon</i>
Longitude column<br>
<br>
</ul>


This uses the web service at https://nationalmap.gov/epqs/pqs.php to look up the elevation
for the given lat/lon.
For example if you had the following data file:
<pre>
name,latitude,longitude
City 1,40.197055,-105.100351
City 2,39.996986,-105.084938
City 3,40.039912,-105.081393
</pre>

You can add the elevation with:

<pre>
seesv -geoname countries  latitude longitude -geoname timezones  latitude longitude
</pre>



<p></div><a name='-mercator'></a><div class=command> <i><a href='#-mercator'>-mercator</a></i>  &lt;columns&gt; </div><div class=command-block>Convert x/y to lon/lat<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
x and y columns<br>
<br>
</ul>
</div><a name='-region'></a><div class=command> <i><a href='#-region'>-region</a></i>  &lt;columns&gt; </div><div class=command-block>Add the state's region<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Columns with state name or abbrev.<br>
<br>
</ul>

This does a lookup from an internal table of the regions that maps state name (or abbrev) to region:
<pre>
Alaska=West
AK=West
Alabama=South
AL=South
Arkansas=South
...
</pre>

So with the following data:
<pre>
name
Wyoming
California
Colorado
</pre>

The region is added with:

<pre>
seesv -region name
</pre>
<p></div><a name='-population'></a><div class=command> <i><a href='#-population'>-population</a></i>  &lt;columns&gt;  &lt;prefix&gt;  &lt;suffix&gt; </div><div class=command-block>Add in population from address<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>prefix</i>
e.g., state: or county: or city:<br>
<i>suffix</i>
<br>
<br>
</ul>
</div><a name='-neighborhood'></a><div class=command> <i><a href='#-neighborhood'>-neighborhood</a></i>  &lt;lat&gt;  &lt;lon&gt; </div><div class=command-block>Look up neighborhood for a given location<br>
<b>Arguments:</b><br>
<ul>
<i>lat</i>
Latitude column<br>
<i>lon</i>
Longitude column<br>
<br>
</ul>


This command uses the API from <a href="https://www.precisely.com/">https://www.precisely.com/</a>
to look up the neighborhood name from a given lat/lon. To use this get and API key from Precisely
and set the environment variable:
<pre>
PRECISELY_API_KEY=
</pre>

Call:
<pre>
seesv -neighborhood latitude_column longitude_column
</pre>  




<p></div></ul><br><hr><a name='Misc.'></a><b style='font-size:120%;'>Misc.</b><br>
<div class=header>Commands: <a href='#-expand'>-expand</a> <a href='#-sort'>-sort</a> <a href='#-descsort'>-descsort</a> <a href='#-count'>-count</a> <a href='#-alias'>-alias</a> <a href='#-value'>-value</a> <a href='#-filepattern'>-filepattern</a> <a href='#-maxrows'>-maxrows</a> <a href='#-changeline'>-changeline</a> <a href='#-changeraw'>-changeraw</a> <a href='#-crop'>-crop</a> <a href='#-strict'>-strict</a> <a href='#-flag'>-flag</a> <a href='#-verify'>-verify</a> <a href='#-prop'>-prop</a> <a href='#-comment'>-comment</a> <a href='#-verify'>-verify</a> <a href='#-ext'>-ext</a> </div><a name='-expand'></a><div class=command> <i><a href='#-expand'>-expand</a></i>  &lt;columns&gt;  &lt;commands&gt; </div><div class=command-block>The ${column} and ${column_name} macros in the commands are replaced with the column ids and names. Up to -endexpand are<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Columns to expand with<br>
<i>commands</i>
Commands<br>
<br>
</ul>
</div><a name='-sort'></a><div class=command> <i><a href='#-sort'>-sort</a></i>  &lt;columns&gt; </div><div class=command-block><b>Arguments:</b><br>
<ul>
<i>columns</i>
Column to sort on<br>
<br>
</ul>
</div><a name='-descsort'></a><div class=command> <i><a href='#-descsort'>-descsort</a></i>  &lt;column&gt; </div><div class=command-block><b>Arguments:</b><br>
<ul>
<i>column</i>
Column to descending sort on<br>
<br>
</ul>
</div><a name='-count'></a><div class=command> <i><a href='#-count'>-count</a></i> </div><div class=command-block>Show count<br>
<br>
</ul>
</div><a name='-alias'></a><div class=command> <i><a href='#-alias'>-alias</a></i>  &lt;name&gt;  &lt;alias&gt; </div><div class=command-block>Set a field alias<br>
<b>Arguments:</b><br>
<ul>
<i>name</i>
Name<br>
<i>alias</i>
Alias<br>
<br>
</ul>
The alias command can be used to make your commands easier to deal with if you have long field names.
For example, say you have data like:
<pre>
some_really_long_field_name
1
2
</pre>  

You can use the alias command to provide a short name, e.g.:
<pre>
csv -alias  some_really_long_field_name name -columns name ...
</pre>  
<p></div><a name='-value'></a><div class=command> <i><a href='#-value'>-value</a></i>  &lt;name&gt;  &lt;value&gt; </div><div class=command-block>Define a macro value for later use<br>
<b>Arguments:</b><br>
<ul>
<i>name</i>
Name<br>
<i>value</i>
Value<br>
<br>
</ul>
</div><a name='-filepattern'></a><div class=command> <i><a href='#-filepattern'>-filepattern</a></i>  &lt;name&gt;  &lt;pattern&gt; </div><div class=command-block>Extract a macro value from a filename<br>
<b>Arguments:</b><br>
<ul>
<i>name</i>
Macro name<br>
<i>pattern</i>
Pattern<br>
<br>
</ul>
</div><a name='-maxrows'></a><div class=command> <i><a href='#-maxrows'>-maxrows</a></i>  &lt;Max rows to process&gt; </div><div class=command-block><b>Arguments:</b><br>
<ul>
<i>Max rows to process</i>
<br>
<br>
</ul>
</div><a name='-changeline'></a><div class=command> <i><a href='#-changeline'>-changeline</a></i>  &lt;from&gt;  &lt;to&gt; </div><div class=command-block>Change the line<br>
<b>Arguments:</b><br>
<ul>
<i>from</i>
<br>
<i>to</i>
<br>
<br>
</ul>
</div><a name='-changeraw'></a><div class=command> <i><a href='#-changeraw'>-changeraw</a></i>  &lt;from&gt;  &lt;to&gt; </div><div class=command-block>Change input text<br>
<b>Arguments:</b><br>
<ul>
<i>from</i>
From pattern<br>
<i>to</i>
To string<br>
<br>
</ul>
</div><a name='-crop'></a><div class=command> <i><a href='#-crop'>-crop</a></i>  &lt;columns&gt;  &lt;pattern1,pattern2&gt; </div><div class=command-block>Crop last part of string after any of the patterns<br>
<b>Arguments:</b><br>
<ul>
<i>columns</i>
Column indices. Can include ranges, e.g. 0-5<br>
<i>pattern1,pattern2</i>
<br>
<br>
</ul>
</div><a name='-strict'></a><div class=command> <i><a href='#-strict'>-strict</a></i> </div><div class=command-block>Be strict on columns. any rows that are not the size of the other rows are dropped<br>
<br>
</ul>
</div><a name='-flag'></a><div class=command> <i><a href='#-flag'>-flag</a></i> </div><div class=command-block>Be strict on columns. any rows that are not the size of the other rows are shown<br>
<br>
</ul>
</div><a name='-verify'></a><div class=command> <i><a href='#-verify'>-verify</a></i>  &lt;# columns&gt; </div><div class=command-block>Throw error if a row has a different number of columns<br>
<b>Arguments:</b><br>
<ul>
<i># columns</i>
<br>
<br>
</ul>
</div><a name='-prop'></a><div class=command> <i><a href='#-prop'>-prop</a></i>  &lt;property&gt;  &lt;value&gt; </div><div class=command-block>Set a property<br>
<b>Arguments:</b><br>
<ul>
<i>property</i>
 values:position <br>
<i>value</i>
start, end, etc<br>
<br>
</ul>
</div><a name='-comment'></a><div class=command> <i><a href='#-comment'>-comment</a></i>  &lt;string&gt; </div><div class=command-block><b>Arguments:</b><br>
<ul>
<i>string</i>
<br>
<br>
</ul>
</div><a name='-verify'></a><div class=command> <i><a href='#-verify'>-verify</a></i> </div><div class=command-block>Verify that all of the rows have the same # of columns<br>
<br>
</ul>
</div><a name='-ext'></a><div class=command> <i><a href='#-ext'>-ext</a></i>  &lt;program_id&gt; </div><div class=command-block>Execute the external program<br>
<b>Arguments:</b><br>
<ul>
<i>program_id</i>
matches with seesv.ext.&lt;program_id&gt;=/path<br>
<br>
</ul>
The -ext command allows one to integrate external programs into the processing flow.

<pre>
  -ext &lt;id&gt; &lt;arguments&gt;
</pre>

The <i>id</i> is used to look up an environment variable (or RAMADDA runtime property) of the form:
<pre>
seesv_ext_&lt;id&gt;=/path/to/executable
</pre>

Any command line arguments given up to but not including an argument that begins with "-" are
passed in to the executable. The executable is called with the given arguments.
Each row that is processed is converted into a CSV string which is passed to the external command.
A CSV text string is then read from the external command.
This line is then passed on in the processing flow.
If you want to skip a line the return the string "_null_".





<p></div></ul><br><hr><a name='Output'></a><b style='font-size:120%;'>Output</b><br>
<div class=header>Commands: <a href='#-print'>-print</a> <a href='#-printdelim'>-printdelim</a> <a href='#-comment'>-comment</a> <a href='#-printheader'>-printheader</a> <a href='#-raw'>-raw</a> <a href='#-table'>-table</a> <a href='#-cols'>-cols</a> <a href='#-stats'>-stats</a> <a href='#-record'>-record</a> <a href='#-toxml'>-toxml</a> <a href='#-tojson'>-tojson</a> <a href='#-todb'>-todb</a> <a href='#-template'>-template</a> <a href='#-addheader'>-addheader</a> <a href='#-db'>-db</a> <a href='#-dbprops'>-dbprops</a> <a href='#-fields'>-fields</a> <a href='#-run'>-run</a> <a href='#-progress'>-progress</a> <a href='#-debugrows'>-debugrows</a> <a href='#-script'>-script</a> <a href='#-args'>-args</a> <a href='#-pointheader'>-pointheader</a> </div><a name='-print'></a><div class=command> <i><a href='#-print'>-print</a></i> </div><div class=command-block>Delimited output<br>
<br>
</ul>
</div><a name='-printdelim'></a><div class=command> <i><a href='#-printdelim'>-printdelim</a></i>  &lt;delimiter&gt; </div><div class=command-block>Delimited output<br>
<b>Arguments:</b><br>
<ul>
<i>delimiter</i>
Delimiter - ,|^ etc. Use "tab" for tab<br>
<br>
</ul>
</div><a name='-comment'></a><div class=command> <i><a href='#-comment'>-comment</a></i>  &lt;comment&gt; </div><div class=command-block>Add a comment to the output<br>
<b>Arguments:</b><br>
<ul>
<i>comment</i>
The comment<br>
<br>
</ul>
</div><a name='-printheader'></a><div class=command> <i><a href='#-printheader'>-printheader</a></i> </div><div class=command-block>Print header<br>
<br>
</ul>
</div><a name='-raw'></a><div class=command> <i><a href='#-raw'>-raw</a></i> </div><div class=command-block>Print the file raw<br>
<br>
</ul>
</div><a name='-table'></a><div class=command> <i><a href='#-table'>-table</a></i> </div><div class=command-block>Print HTML table and stats<br>
<br>
</ul>
</div><a name='-cols'></a><div class=command> <i><a href='#-cols'>-cols</a></i>  &lt;width&gt; </div><div class=command-block>Print text columns<br>
<b>Arguments:</b><br>
<ul>
<i>width</i>
Column width<br>
<br>
</ul>
</div><a name='-stats'></a><div class=command> <i><a href='#-stats'>-stats</a></i> </div><div class=command-block>Print summary stats<br>
<br>
</ul>
</div><a name='-record'></a><div class=command> <i><a href='#-record'>-record</a></i> </div><div class=command-block>Print records<br>
<br>
</ul>
</div><a name='-toxml'></a><div class=command> <i><a href='#-toxml'>-toxml</a></i>  &lt;outer tag&gt;  &lt;inner tag&gt; </div><div class=command-block>Generate XML<br>
<b>Arguments:</b><br>
<ul>
<i>outer tag</i>
<br>
<i>inner tag</i>
<br>
<br>
</ul>
</div><a name='-tojson'></a><div class=command> <i><a href='#-tojson'>-tojson</a></i> </div><div class=command-block>Generate JSON<br>
<br>
</ul>
</div><a name='-todb'></a><div class=command> <i><a href='#-todb'>-todb</a></i>  &lt;db id&gt;  &lt;table&gt;  &lt;columns&gt;  &lt;properties&gt; </div><div class=command-block>Write to Database<br>
<b>Arguments:</b><br>
<ul>
<i>db id</i>
<br>
<i>table</i>
table name<br>
<i>columns</i>
database columns<br>
<i>properties</i>
name value properties<br>
<br>
</ul>
</div><a name='-template'></a><div class=command> <i><a href='#-template'>-template</a></i>  &lt;prefix&gt;  &lt;template&gt;  &lt;delimiter&gt;  &lt;suffix&gt; </div><div class=command-block>Apply the template to make the output<br>
<b>Arguments:</b><br>
<ul>
<i>prefix</i>
<br>
<i>template</i>
Use ${0},${1}, etc for values<br>
<i>delimiter</i>
Output between rows<br>
<i>suffix</i>
<br>
<br>
</ul>
</div><a name='-addheader'></a><div class=command> <i><a href='#-addheader'>-addheader</a></i>  &lt;properties&gt; </div><div class=command-block>Add the RAMADDA point properties<br>
<b>Arguments:</b><br>
<ul>
<i>properties</i>
name1 value1 ... nameN valueN<br>
<br>
</ul>
The -addheader command adds RAMADDA's point data header to the output file.
The header specifies the canonical field ids and a set of properties for
each field and  is of the form:
<pre>
#fields=field1[prop1=value1 prop2=value2 ...],field2[],...,fieldN[propn=valuen ...]
v1,v2,v3
...
</pre>

The addheader command is run as below passing in one set of name/value arguments. If the value has spaces then group the
text with {...} brackets.
<pre>
  seesv -addheader "arg1 value1 arg2 {value 2} arg3 value3"
</pre>

The args are typically of the form <i>canonical_field_name.some_property</i> where canonical field
name is the column header cleaned up - lowercase, spaces converted to "_", strip off non alphanumeric characters.


<p>
For example, say you have a file like this:
<pre>
some date,year,some field
2018-09-01,2023,10
2019-10-01,2024,20
2020-09-01,2024,30
</pre>

Running this command:
<pre>
seesv -addheader "some_date.type date date.format yyyy-MM-dd year.type date year.format yyyy some_field.id temperature some_field.label {The Temperature} some_field.type celsius" -p testdate.csv
</pre>

will result in an output:
<pre>
#fields=some_date[label="Some Date"  type="date" format="yyyy-MM-dd" ] ,year[label="Year"  type="date" format="yyyy" ] ,temperature[label="Some Field"  type="integer" chartable="true" ] 
2018-09-01,2023,10
2019-10-01,2024,20
</pre>

This specifies:
<ul>
  <li> The type of the field "date" as date with the date format following the <a href="https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html">Java date format</a>  as yyyy-MM-dd. Other types include:
    <ul>
      <li> "enumeration", e.g. field.type enumeration
      <li> "integer", e.g. field.type integer
      <li> "double", e.g. field.type double
    </ul>
  <li> The year field is also a date with format yyyy
  <li> The canonical id of "some field" field is changed to "temperature"
  <li> The label of "some field" is changed to "The Temperature"
  <li> The unit of "some field" is set to be celsius. This can be used when displaying the data.
</ul>

Other field properties include:
<ul>
  <li> group, e.g. field.group {some group} - this is used to group a set of fields and is primarily used for display, e.g., providing a header in a table
  <li> default.format, e.g. default.format {yyyy-MM-dd}  - this is to set the default date format that is applied to all fields
  <li> {some pattern}.{some property} - instead of the field name as the prefix you can specify a regular expression pattern. For example if you had data like:
<pre>
  value1,value2,value3
  10,20,30
</pre>

You can specify the type as "value.*.type integer".
<p>
Adding a grouping to the pattern can be used to pull out text from the field name and use it in the value. For example, below would set the label:
<pre>
-addheader "(value.*).*.label {Some label \$1}" 
</pre>    
</ul>
<p></div><a name='-db'></a><div class=command> <i><a href='#-db'>-db</a></i>  &lt;properties&gt; </div><div class=command-block>Generate the RAMADDA db xml from the header<br>
<b>Arguments:</b><br>
<ul>
<i>properties</i>
Name value pairs:
		table.id <new id> table.name <new name> table.cansearch false table.canlist false table.icon <icon, e.g., /db/database.png>
		<column>.id <new id for column> <column>.label <new label>
		<column>.type <string|enumeration|double|int|date>
		<column>.format <yyyy MM dd HH mm ss format for dates>
		<column>.canlist false <column>.cansearch false
		install <true|false install the new db table>
		nukedb <true|false careful! this deletes any prior created dbs<br>
<br>
</ul>
</div><a name='-dbprops'></a><div class=command> <i><a href='#-dbprops'>-dbprops</a></i>  &lt;id pattern&gt;  &lt;suffix pattern&gt; </div><div class=command-block>Print to stdout props for db generation<br>
<b>Arguments:</b><br>
<ul>
<i>id pattern</i>
<br>
<i>suffix pattern</i>
<br>
<br>
</ul>
</div><a name='-fields'></a><div class=command> <i><a href='#-fields'>-fields</a></i> </div><div class=command-block>Print the fields<br>
<br>
</ul>
</div><a name='-run'></a><div class=command> <i><a href='#-run'>-run</a></i>  &lt;Name of process directory&gt; </div><div class=command-block><b>Arguments:</b><br>
<ul>
<i>Name of process directory</i>
<br>
<br>
</ul>
</div><a name='-progress'></a><div class=command> <i><a href='#-progress'>-progress</a></i>  &lt;rows&gt; </div><div class=command-block>Show progress<br>
<b>Arguments:</b><br>
<ul>
<i>rows</i>
How often to print<br>
<br>
</ul>
</div><a name='-debugrows'></a><div class=command> <i><a href='#-debugrows'>-debugrows</a></i>  &lt;rows&gt; </div><div class=command-block>Debug # rows<br>
<b>Arguments:</b><br>
<ul>
<i>rows</i>
# of rows<br>
<br>
</ul>
</div><a name='-script'></a><div class=command> <i><a href='#-script'>-script</a></i> </div><div class=command-block>Generate the script to call<br>
<br>
</ul>
</div><a name='-args'></a><div class=command> <i><a href='#-args'>-args</a></i> </div><div class=command-block>Generate the CSV file commands<br>
<br>
</ul>
</div><a name='-pointheader'></a><div class=command> <i><a href='#-pointheader'>-pointheader</a></i> </div><div class=command-block>Generate the RAMADDA point properties<br>
<br>
</ul>
</div></ul>
