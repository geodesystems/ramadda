function NasaRepository(){var b="http://data.nasa.gov/api/get_search_results";var a="data.nasa.gov";RamaddaUtil.inherit(this,new Repository(a));RamaddaUtil.defineMembers(this,{getName:function(){return a},getIconUrl:function(c){return"http://data.nasa.gov/favicon.ico"},getSearchUrl:function(e,c){var d=b;var f="data";if(e.text!=null&&e.text.length>0){f=e.text}d+="?search="+encodeURIComponent(f);console.log(d);d=GuiUtils.getProxyUrl(d);return d},createEntriesFromJson:function(g){var c=new Array();if(g.posts==null){console.log("No 'posts' results");return c}for(var e=0;e<g.posts.length;e++){var d=g.posts[e];var f={repositoryId:this.getId(),id:"nasa-result-"+e,name:d.title,url:d.url,description:d.excerpt,type:"nasa-"+d.type};c.push(new Entry(f))}return c}})}function DuckDuckGoRepository(){var b="http://api.duckduckgo.com/?format=json";var a="DuckDuckGo";RamaddaUtil.inherit(this,new Repository(a));RamaddaUtil.defineMembers(this,{getName:function(){return a},getIconUrl:function(c){return"https://duckduckgo.com/favicon.ico"},getSearchUrl:function(e,c){var d=b;var f="data";if(e.text!=null&&e.text.length>0){f=e.text}d+="&q="+encodeURIComponent(f);console.log(d);return GuiUtils.getProxyUrl(d)},createEntriesFromJson:function(g){var c=new Array();if(!g.RelatedTopics){console.log("no related topics");return c}for(var e=0;e<g.RelatedTopics.length;e++){var d=g.RelatedTopics[e];var f={repositoryId:this.getId(),id:"duckduckgo-result-"+e,name:d.Text,url:d.FirstURL,description:d.Result,type:"duckduckgo-link"};c.push(new Entry(f))}return c}})}function GoogleRepository(){var b="http://ajax.googleapis.com/ajax/services/search/web?v=1.0";var a="Google";RamaddaUtil.inherit(this,new Repository(a));RamaddaUtil.defineMembers(this,{getName:function(){return a},getIconUrl:function(c){return"http://www.google.com/favicon.ico"},getSearchUrl:function(e,c){var d=b;var f="data";if(e.text!=null&&e.text.length>0){f=e.text}d+="&q="+encodeURIComponent(f);console.log("URL"+d);return GuiUtils.getProxyUrl(d)},createEntriesFromJson:function(g){var d=new Array();if(!g.responseData){console.log("no responseData");return d}for(var e=0;e<g.responseData.results.length;e++){var c=g.responseData.results[e];var f={repositoryId:this.getId(),id:this.getId()+"-result-"+e,type:this.getId()+"-link",name:c.title,url:c.unescapedUrl,description:c.content};d.push(new Entry(f))}return d}})}function OpenSearchRepository(a,b){if(a==null){a=b}https:console.log("OpenSearch:"+b);RamaddaUtil.inherit(this,new Repository(a));RamaddaUtil.defineMembers(this,{getName:function(){return a},getSearchUrl:function(e,c){var d=b;var f="data";if(e.text!=null&&e.text.length>0){f=e.text}d=d.replace("{searchTerms?}",encodeURIComponent(f));d=d.replace("{geo:box?}","-180,-90,180,90");d=d.replace("{geo:polygon?}","");d=d.replace("{time:start?}","1900-01-01");d=d.replace("{time:end?}","2020-01-01");d=GuiUtils.getProxyUrl(d);d=d+"&xmltojson=true";return d},createEntriesFromJson:function(h){var c=new Array();if(h.children==null){console.log("No 'children' in results");return c}for(var f=0;f<h.children.length;f++){var k=h.children[f];if(k.xml_tag!="entry"){continue}var g={repositoryId:this.getId(),id:"opensearch-result-"+f,type:"opensearch-link",name:""};for(var d=0;d<k.children.length;d++){var e=k.children[d];if(e.xml_tag=="title"){g.name=e.xml_text}else{if(e.xml_tag=="id"){}else{if(e.xml_tag=="link"){if(g.url==null){g.url=e.href}}else{if(e.xml_tag=="summary"){g.description=e.xml_text}else{if(e.xml_tag=="geo:box"){}else{if(e.xml_tag=="time:Start"){}else{if(e.xml_tag=="time:End"){}else{}}}}}}}}c.push(new Entry(g))}return c}})}function GsacRepository(b,c){if(c==null){c="http://facility.unavco.org/gsacws"}var a="/gsacapi/site/search/siteops.xml?output=siteops.xml&max=5";if(b==null){b=c}console.log("GSAC:"+c);RamaddaUtil.inherit(this,new Repository(b));RamaddaUtil.defineMembers(this,{getName:function(){return b},getSearchUrl:function(f,d){var e=c+a;var g="";if(f.text!=null&&f.text.length>0){g=f.text}e=GuiUtils.getProxyUrl(e);e=e+"&xmltojson=true";return e},createEntriesFromJson:function(k){var d=new Array();if(k.children==null){console.log("No 'children' in results");return d}for(var g=0;g<k.children.length;g++){var l=k.children[g];if(l.xml_tag!="entry"){continue}var h={repositoryId:this.getId(),id:"gsac-result-"+g};for(var f=0;f<l.children.length;f++){var e=l.children[f];h.name=e.siteIdentification.Name;h.type=e.siteIdentification.Type.xml_text}d.push(new Entry(h))}return d}})};