function NasaRepository(){var e="data.nasa.gov";RamaddaUtil.inherit(this,new Repository(e)),RamaddaUtil.defineMembers(this,{getName:function(){return e},getIconUrl:function(e){return"http://data.nasa.gov/favicon.ico"},getSearchUrl:function(e,t){var r="http://data.nasa.gov/api/get_search_results",n="data";return null!=e.text&&e.text.length>0&&(n=e.text),r+="?search="+encodeURIComponent(n),r=GuiUtils.getProxyUrl(r)},createEntriesFromJson:function(e){var t=new Array;if(null==e.posts)return console.log("No 'posts' results"),t;for(var r=0;r<e.posts.length;r++){var n=e.posts[r],o={repositoryId:this.getId(),id:"nasa-result-"+r,name:n.title,url:n.url,description:n.excerpt,type:"nasa-"+n.type};t.push(new Entry(o))}return t}})}function DuckDuckGoRepository(){var e="DuckDuckGo";RamaddaUtil.inherit(this,new Repository(e)),RamaddaUtil.defineMembers(this,{getName:function(){return e},getIconUrl:function(e){return"https://duckduckgo.com/favicon.ico"},getSearchUrl:function(e,t){var r="http://api.duckduckgo.com/?format=json",n="data";return null!=e.text&&e.text.length>0&&(n=e.text),r+="&q="+encodeURIComponent(n),GuiUtils.getProxyUrl(r)},createEntriesFromJson:function(e){var t=new Array;if(!e.RelatedTopics)return console.log("no related topics"),t;for(var r=0;r<e.RelatedTopics.length;r++){var n=e.RelatedTopics[r],o={repositoryId:this.getId(),id:"duckduckgo-result-"+r,name:n.Text,url:n.FirstURL,description:n.Result,type:"duckduckgo-link"};t.push(new Entry(o))}return t}})}function GoogleRepository(){var e="Google";RamaddaUtil.inherit(this,new Repository(e)),RamaddaUtil.defineMembers(this,{getName:function(){return e},getIconUrl:function(e){return"http://www.google.com/favicon.ico"},getSearchUrl:function(e,t){var r="http://ajax.googleapis.com/ajax/services/search/web?v=1.0",n="data";return null!=e.text&&e.text.length>0&&(n=e.text),r+="&q="+encodeURIComponent(n),console.log("URL"+r),GuiUtils.getProxyUrl(r)},createEntriesFromJson:function(e){var t=new Array;if(!e.responseData)return console.log("no responseData"),t;for(var r=0;r<e.responseData.results.length;r++){var n=e.responseData.results[r],o={repositoryId:this.getId(),id:this.getId()+"-result-"+r,type:this.getId()+"-link",name:n.title,url:n.unescapedUrl,description:n.content};t.push(new Entry(o))}return t}})}function OpenSearchRepository(e,t){null==e&&(e=t),console.log("OpenSearch:"+t),RamaddaUtil.inherit(this,new Repository(e)),RamaddaUtil.defineMembers(this,{getName:function(){return e},getSearchUrl:function(e,r){var n=t,o="data";return null!=e.text&&e.text.length>0&&(o=e.text),n=(n=(n=(n=(n=n.replace("{searchTerms?}",encodeURIComponent(o))).replace("{geo:box?}","-180,-90,180,90")).replace("{geo:polygon?}","")).replace("{time:start?}","1900-01-01")).replace("{time:end?}","2020-01-01"),n=GuiUtils.getProxyUrl(n),n+="&xmltojson=true"},createEntriesFromJson:function(e){var t=new Array;if(null==e.children)return console.log("No 'children' in results"),t;for(var r=0;r<e.children.length;r++){var n=e.children[r];if("entry"==n.xml_tag){for(var o={repositoryId:this.getId(),id:"opensearch-result-"+r,type:"opensearch-link",name:""},a=0;a<n.children.length;a++){var i=n.children[a];"title"==i.xml_tag?o.name=i.xml_text:"id"==i.xml_tag||("link"==i.xml_tag?null==o.url&&(o.url=i.href):"summary"==i.xml_tag?o.description=i.xml_text:"geo:box"==i.xml_tag||"time:Start"==i.xml_tag||i.xml_tag)}t.push(new Entry(o))}}return t}})}
