var build_date="RAMADDA build date: Sun Nov 28 21:55:11 MST 2021",root=ramaddaBaseUrl,urlroot=ramaddaBaseUrl,icon_close="fas fa-window-close",icon_pin="fas fa-thumbtack",icon_help="fas fa-question-circle",icon_rightarrow=ramaddaCdn+"/icons/grayrightarrow.gif",icon_downdart=ramaddaCdn+"/icons/downdart.gif",icon_rightdart=ramaddaCdn+"/icons/rightdart.gif",icon_progress=ramaddaCdn+"/icons/progress.gif",icon_wait=ramaddaCdn+"/icons/wait.gif",icon_information=ramaddaCdn+"/icons/information.png",icon_folderclosed=ramaddaCdn+"/icons/folderclosed.png",icon_folderopen=ramaddaCdn+"/icons/togglearrowdown.gif",icon_folderclosed="fas fa-caret-right",icon_folderopen="fas fa-caret-down",icon_tree_open=ramaddaCdn+"/icons/togglearrowdown.gif",icon_tree_closed=ramaddaCdn+"/icons/togglearrowright.gif",icon_zoom=ramaddaCdn+"/icons/magnifier.png",icon_zoom_in=ramaddaCdn+"/icons/magnifier_zoom_in.png",icon_zoom_out=ramaddaCdn+"/icons/magnifier_zoom_out.png",icon_menuarrow=ramaddaCdn+"/icons/downdart.gif",icon_blank16=ramaddaCdn+"/icons/blank16.png",icon_blank=ramaddaCdn+"/icons/blank.gif",icon_menu=ramaddaCdn+"/icons/menu.png";function noop(){}function addHandler(t,e){return null==window.globalHandlers&&(window.globalHandlers={}),e||(e=HtmlUtils.getUniqueId()),window.globalHandlers[e]=t,e}function getHandler(t){return t&&null!=window.globalHandlers?window.globalHandlers[t]:null}var Utils={me:"Utils",pageLoaded:!1,loadFunctions:[],mouseMoveCnt:0,mouseIsDown:!1,entryGroups:new Array,groupList:new Array,tooltipObject:null,entryDragInfo:null,globalEntryRows:{},addLoadFunction:function(t){Utils.loadFunctions.push(t)},getLocalStorage:function(t,e){try{let r=localStorage.getItem(ramaddaBaseEntry+"."+t);return null!==r&&e?JSON.parse(r):r}catch(e){return console.log("Error getting local storage. key="+t),null}},setLocalStorage:function(t,e,r){e&&r&&(e=JSON.stringify(e)),localStorage.setItem(ramaddaBaseEntry+"."+t,e),console.log("writing"+e)},isPost:function(){let t=$("#request-method");return 0!=t.length&&"POST"==t.attr("content")},max:function(t,e){return isNaN(t)?e:isNaN(e)?t:Math.max(t,e)},min:function(t,e){return isNaN(t)?e:isNaN(e)?t:Math.min(t,e)},toRadians:function(t){return t*Math.PI/180},toDegrees:function(t){return 180*t/Math.PI},getBearing:function(t,e){let r=Utils.toRadians(t.lat),i=Utils.toRadians(t.lon),n=Utils.toRadians(e.lat),g=Utils.toRadians(e.lon),a=Math.cos(n)*Math.sin(g-i),o=Math.cos(r)*Math.sin(n)-Math.sin(r)*Math.cos(n)*Math.cos(g-i),s=Math.atan2(a,o);return s=Utils.toDegrees(s),s=(s+360)%360,s},isReturnKey:function(t){return 13==(t.keyCode||t.which)},getBounds:function(t){if(!t)return null;let e=null,r=null,i=null,n=null;return t.forEach((t=>{e=null===e?t[0]:Math.min(e,t[0]),r=null===r?t[0]:Math.max(r,t[0]),i=null===i?t[1]:Math.min(i,t[1]),n=null===n?t[1]:Math.max(n,t[1])})),{getWidth:function(){return this.maxx-this.minx},getHeight:function(){return this.maxy-this.miny},getCenter:function(){return{x:this.minx+(this.maxx-this.minx)/2,y:this.miny+(this.maxy-this.miny)/2}},minx:e,maxx:r,miny:i,maxy:n}},mergeBounds(t,e){if(null==t)return e;if(null==e)return t;let r={};return r=$.extend(r,t),$.extend(r,{minx:Math.min(t.minx,e.minx),maxx:Math.max(t.maxx,e.maxx),miny:Math.min(t.miny,e.miny),maxy:Math.max(t.maxy,e.maxy)}),r},copyToClipboard:function(t){var e=$("<textarea></textarea>");$("body").append(e),e.val(t).select(),document.execCommand("copy"),e.remove()},isAnonymous:function(){return"anonymous"==ramaddaUser},getIcon:function(t){return ramaddaCdn+"/icons/"+t},imports:{},get:function(t,e,r){return t&&e<t.length?t[e]:r},rotate:function(t,e,r,i,n,g){if(0==n)return{x:parseFloat(r),y:parseFloat(i)};if(g)var a=Math.PI/180*n;else a=Math.PI/-180*n;var o=Math.cos(a),s=Math.sin(a);return{x:o*(r-t)+s*(i-e)+t,y:o*(i-e)-s*(r-t)+e}},split:function(t,e,r,i){if(!t)return null;let n=[];return t.split(e||",").forEach((t=>{t=t.replace(/_comma_/g,","),r&&(t=t.trim()),i&&""==t||n.push(t)})),n},sortNumbers:function(t){return t.sort(((t,e)=>+t-+e)),t},sortDates:function(t){return t.sort(((t,e)=>t.getTime()-e.getTime())),t},decodeText:function(t){return t?(t=String(t)).replace(/_leftbracket_/g,"[").replace(/_rightbracket_/g,"]").replace(/_dq_/g,'""').replace(/&quote;/gi,'"').replace(/_quote_/gi,'"').replace(/_qt_/gi,'"').replace(/_newline_/gi,"\n").replace(/newline/gi,"\n").replace(/_nl_/g,"\n"):null},handleActionResults:function(t,e){setTimeout((()=>{$.getJSON(e,(r=>{let i="Status:"+r.status;r.message&&(i+="<br>"+r.message.replace(/\n/g,"<br>")),$("#"+t).html(i),"running"==r.status&&Utils.handleActionResults(t,e)})).fail((e=>{$("#"+t).html("Error:"+e)}))}),1e3)},sumList:function(t){let e=0;return t.forEach((t=>{isNaN(t)||(e+=t)})),e},mergeLists:function(t,e,r,i,n){let g=[];return t&&t.map((t=>g.push(t))),e&&e.map((t=>g.push(t))),r&&r.map((t=>g.push(t))),i&&i.map((t=>g.push(t))),n&&n.map((t=>g.push(t))),g},getNameValue:function(t,e){if(!t)return null;for(var r={},i=t.split(","),n=0;n<i.length;n++){var g=i[n].split(":"),a=g[1].trim();e&&""==a||(a=a.replace(/_colon_/g,":"),r[g[0].trim()]=a)}return r},translatePoint:function(t,e,r,i,n,g){let a={x:t=+t,y:e=+e};if("nw"==n)a.x=t,a.y=e;else if("w"==n)a.x=t,a.y=e-i/2;else if("sw"==n)a.x=t,a.y=e-i;else if("s"==n)a.x=t-r/2,a.y=e-i;else if("se"==n)a.x=t-r,a.y=e-i;else if("e"==n)a.x=t-r,a.y=e-i/2;else if("ne"==n)a.x=t-r,a.y=e;else if("n"==n)a.x=t-r/2,a.y=e;else{if("c"!=n)throw new Error("Unknown point"+n);a.x=t-r/2,a.y=e-i/2}return null!=g&&(a.x+=+g.dx,a.y+=+g.dy),a},displayTimes:function(t,e,r,i){let n="",g=r?" ":"\n",a=r?" ":"\t";n+=t+g;for(var o=0;o<e.length-1;o++){let t=null;i&&o<i.length&&(t=i[o]),t||(t="time"+(o+1)),n+=a+t+": "+(e[o+1].getTime()-e[o].getTime())/1e3+g}console.log(n)},cloneList:function(t){return t.slice(0)},removeElement:function(t,e){t||(t=[]);let r=t.indexOf(e);return r>=0&&t.splice(r,1),t},addUnique:function(t,e){return null==t&&(t=[]),t.includes(e)||t.push(e),t},replaceAll:function(t,e,r){let i=t.indexOf(e);return i<0?t:t.substring(0,i)+r+t.substring(i+e.length)},parseAttributes:function(t){let e,r={};for(;null!=(e=t.match(/([^ ]+) *= *"([^"]*)"/));)r[e[1].trim()]=e[2].trim(),t=Utils.replaceAll(t,e[0],"");for(;null!=(e=t.match(/([^ ]+) *= *'([^']*)'/));)r[e[1].trim()]=e[2].trim(),t=Utils.replaceAll(t,e[0],"");for(;null!=(e=t.match(/([^ ]+) *= *([^ ]*)( |$)/));)r[e[1].trim()]=e[2].trim(),t=Utils.replaceAll(t,e[0],"");for(;null!=(e=t.match(/([^ ]+)( |$)/));)r[e[1].trim()]="true",t=Utils.replaceAll(t,e[0],"");return r},parseAttributesAsList:function(t){let e=[],r=!1,i=!1,n="";for(let g=0;g<t.length;g++){let a=t[g],o='"'==a;i?(n+=a,i=!1):"\\"!=a?i?(n+=a,i=!1):o?r?(r=!1,e.push(n),n=""):r=!0:r||" "!=a&&"\n"!=a?n+=a:n.length>0&&(e.push(n),n=""):i?(n+=a,i=!1):i=!0}""!=n&&e.push(n);let g=[];return e.forEach((t=>{let e=t.indexOf("="),r=t,i="";e>=0&&(r=t.substring(0,e),i=t.substring(e+1)),g.push(r),g.push(i)})),g},hideMore:function(t){var e=GuiUtils.getDomObject("morelink_"+t);hideObject(GuiUtils.getDomObject("morediv_"+t)),showObject(e)},showMore:function(t){var e=GuiUtils.getDomObject("morelink_"+t),r=GuiUtils.getDomObject("morediv_"+t);hideObject(e),showObject(r)},ramaddaUpdateMaps:function(){if("undefined"!=typeof ramaddaMaps)for(i=0;i<ramaddaMaps.length;i++){var t=ramaddaMaps[i];t.map&&t.map.updateSize()}},formDialogId:"",submitEntryForm:function(t){return Utils.popupFormLoadingDialog(t),!0},closeFormLoadingDialog:function(){$(Utils.formDialogId).dialog("close")},popupFormLoadingDialog:function(t){Utils.formDialogId=t,$(t).dialog({resizable:!1,height:100,modal:!0})},replaceRoot:function(t){var e=new RegExp("\\${root}");return t=t.replace(e,ramaddaBaseUrl)},importJS:async function(t,e,r,i){t=this.replaceRoot(t);let n=this;var g="js:"+t;if(!i&&this.imports[g])return Utils.call(e);try{await $.ajax({url:t,dataType:"script",cache:!0,success:function(t){n.imports[g]=!0,Utils.call(e)}}).fail(((e,r,i)=>{console.log("initial importJS failed: "+t),console.log("error:"+i)}))}catch(i){try{await $.ajax({url:t,dataType:"text",success:function(r){console.log("got script as text -  "+t);var i=document.createElement("script");i.innerHTML=r,document.body.appendChild(i),Utils.call(e),n.imports[g]=!0}}).fail(((e,i,n)=>{r?r(e,i,n):console.log("importJS failed:"+t)}))}catch(t){}}},waitOn:async function(t,e){window[t]},importCSS:async function(t,e,r,i){var n="css:"+(t=this.replaceRoot(t));if(!i&&this.imports[n])return Utils.call(e);try{await $.ajax({url:t,dataType:"text",success:t=>{i||(this.imports[n]=!0),$('<style type="text/css">\n'+t+"</style>").appendTo("head"),Utils.call(e)}}).fail(r)}catch(t){}},doFetch:async function(t,e,r,i){t=this.replaceRoot(t);let n=!1;try{let g={url:t,success:function(t){Utils.call(e,t)}};i||(i="text/plain",g.beforeSend=function(t){t.overrideMimeType("text/plain; charset=x-user-defined")}),g.xhrFields={responseType:i},await $.ajax(g).fail(((t,e,i)=>{n=!0,r&&r(t,e,i)}))}catch(t){n||Utils.call(r,t)}},formatXml:function(t,e){e&&$.extend({},e);let r,i=(new DOMParser).parseFromString(t,"text/xml"),n="";return r=function(t,e,i){let g="";for(let t=0;t<i;t++)g+="  ";if(i>5)n+=g+"...\n";else{if("#text"==t.nodeName){let e=t.nodeValue||"";return e=e.trim(),void(Utils.stringDefined(e)&&(n+=g+"text:"+e+"\n"))}if("#cdata-section"==t.nodeName)return n+=g+t.wholeText,void(n+="\n");""!=e&&(e+="."),e+=t.nodeName,n+=g+"&lt;"+HU.span(["data-path",e,TITLE,"Add path selector",STYLE,HU.css("cursor","pointer","text-decoration","underline"),CLASS,"ramadda-xmlnode"],t.nodeName)+"&gt;\n",t.childNodes.forEach((t=>{r(t,e,i+1)})),n+=g+"&lt;/"+t.nodeName+"&gt;\n"}},i.childNodes.forEach((t=>{if("parsererror"==t.nodeName)throw new Error("Parse error:"+t)})),i.childNodes.forEach((t=>{r(t,"",0)})),n},formatJson:function(t,e){var r=this.formatJsonInner(t,0,e);return this.formatJsonBlob(r,null,0,e)},formatJsonClick:function(t,e){var r=$("#"+e),i=$("#"+t);r.is(":visible")?(r.hide(),i.attr("src",icon_tree_closed)):(r.show(),i.attr("src",icon_tree_open))},formatJsonBlob:function(t,e,r,i){var n="";if(null!=e&&(n=e+": "),n+=t.value,t.inner){var g=HtmlUtils.getUniqueId(),a=HtmlUtils.image(icon_tree_closed,["id",g]),o=HtmlUtils.getUniqueId(),s="Utils.formatJsonClick('"+g+"','"+o+"')";n=HtmlUtils.div(["onclick",s,"class","json-label"],a+" "+n);var l=r<i?"block":"none";n+=HtmlUtils.div(["style","display:"+l+";","class","json-inner","id",o],t.inner)}return n},formatJsonInner:function(t,e,r){if(null==t)return{value:"null"};var i=typeof t;if("string"==i){var n="json-string";return t.match("^http")&&(n="json-url",t=HtmlUtils.href(t,t,["class",n])),{value:HtmlUtils.span(["class",n],'"'+t+'"')}}if("number"==i||"boolean"==i)return{value:HtmlUtils.span(["class","json-"+i],t)};if(t.toISOString)return{value:HtmlUtils.span(["class","json-date"],'"'+t.toISOString()+'"')};if("function"==i){var g=(t+"").replace(/[/][/].*$/gm,"").replace(/\s+/g,"");return g=(g=g.replace(/[/][*][^\/*]*[*][/]/g,"")).split("){",1)[0].replace(/^[^\(]*[\(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean),{value:HtmlUtils.span(["class","json-function"],t.name+"("+g+") {...}")}}var a=Array.isArray(t),o=a?HtmlUtils.span(["class","json-number"],"["+t.length+"]"):"",s=HtmlUtils.openTag("div"),l=[],b=[];if(a){for(var c=0;c<t.length;c++)l.push(c),b.push(c);0==b.length&&(s+=this.formatJsonBlob({value:HtmlUtils.span(["class","json-none"],"[]")},null,e+1,r))}else{for(var d in t)l.push(d),b.push(d);0==b.length&&(s+=this.formatJsonBlob({value:HtmlUtils.span(["class","json-none"],"No properties")},null,e+1,r))}for(c=0;c<b.length;c++){s+="<div>";var u=Utils.formatJsonInner(t[b[c]],e+1,r);s+=this.formatJsonBlob(u,l[c],e+1,r),s+="</div>"}return{value:o,inner:s+="</div>"}},padLeft:function(t,e,r){for(t=""+t,r||(r=" ");t.length<e;)t=r+t;return t},reverseArray:function(t){for(var e=[],r=t.length-1;r>=0;r--)e.push(t[r]);return e},makeArray:function(t){return Array.isArray(t)?t:[t]},getUniqueId:function(t){return HtmlUtils.getUniqueId(t)},splitList:function(t,e){let r=[];if(t.length<e)r.push(t);else{let i=Math.ceil(t.length/e),n=Math.ceil(t.length/i),g=[];r.push(g),t.forEach((t=>{g.length>=n&&(g=[],r.push(g)),g.push(t)}))}return r},join:function(t,e,r){void 0===r&&(r=0);for(var i="",n=r;n<t.length;n++)n>r&&(i+=e),i+=t[n];return i},wrap:function(t,e,r){let i="";return t.forEach((t=>{i+=e+t+r})),i},parseMap:function(t){if(null==t)return null;for(var e=t.split(","),r={},i=0;i<e.length;i++){var n=e[i].split(":");n.length>1&&(r[n[0].trim()]=n[1].trim())}return r},getUniqueValues:function(t){for(var e=[],r={},i=0;i<t.length;i++){var n=t[i];this.isDefined(r[n])||(r[n]=!0,e.push(n))}return e},getMacro:function(t){return"${states}"==t?"Alabama,Alaska,Arizona,Arkansas,California,Colorado,Connecticut,Delaware,District of Columbia,Florida,Georgia,Hawaii,Idaho,Illinois,Indiana,Iowa,Kansas,Kentucky,Louisiana,Maine,Maryland,Massachusetts,Michigan,Minnesota,Mississippi,Missouri,Montana,Nebraska,Nevada,New Hampshire,New Jersey,New Mexico,New York,North Carolina,North Dakota,Ohio,Oklahoma,Oregon,Origin State,Pennsylvania,Rhode Island,South Carolina,South Dakota,Tennessee,Texas,Utah,Vermont,Virginia,Washington,West Virginia,Wisconsin,Wyoming":t},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesShortShort:["S","M","T","W","Th","F","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],createDate:function(t,e){let r=Utils.createDateInner(t);return r&&e&&(r=new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours()-e,r.getUTCMinutes(),r.getUTCSeconds()))),r},createDateInner:function(t){if(!t)return t;if(t.getTime)return t;t=t.trim();let e=new RegExp("^(\\+|-)?([0-9]+) *(minute|hour|day|week|month|year)$"),r=t.match(e);if(r){let t=parseFloat(r[1]+r[2]),e=r[3],i=(new Date).getTime();return"minute"==e?new Date(i+1e3*t*60):"hour"==e?new Date(i+1e3*t*60*60):"day"==e?new Date(i+1e3*t*60*60*24):"week"==e?new Date(i+1e3*t*60*60*24*7):"month"==e?new Date(i+1e3*t*60*60*24*7*31):new Date(i+1e3*t*60*60*24*365)}if(t.match(/^[0-9,-]+$/)){let e=t.split(","),i=t.split("-");r=i.length>e.length?i:e;let n=0,g=t=>t>=r.length?null:1==t?+r[t]-1:+r[t];return new Date(Date.UTC(g(n++),g(n++),g(n++),g(n++),g(n++),g(n++)))}return new Date(t)},minutesSince:function(t){return Math.round(this.toMinutes((new Date).getTime()-t))},toMinutes:function(t){return t/1e3/60},formatHour:function(t,e){let r=e?"":"&nbsp;";return 0==t?"12"+r+"AM":12==t?"12"+r+"PM":t>12?t-12+r+"PM":t+r+"AM"},formatDateMonthDayYear:function(t,e,r){if(isNaN(t.getUTCMonth()))return"Unknown date";var i=this.monthNames[t.getUTCMonth()],n=t.getUTCDate();return n<10&&(n="0"+n),i+" "+n+", "+t.getUTCFullYear()},formatDateYearMonth:function(t,e,r){return isNaN(t.getUTCMonth())?"Unknown date":this.monthNames[t.getUTCMonth()]+", "+t.getUTCFullYear()},formatDateMonthDay:function(t,e,r){if(isNaN(t.getUTCMonth()))return"Unknown date";var i=this.monthNames[t.getUTCMonth()],n=t.getUTCDate();return n<10&&(n="0"+n),i+" "+n},formatDateMonDay:function(t,e,r){if(isNaN(t.getUTCMonth()))return"NA";var i=this.monthNamesShort[t.getUTCMonth()],n=t.getUTCDate();return n<10&&(n="0"+n),i+"-"+n},formatDateMDY:function(t,e,r){if(isNaN(t.getUTCMonth()))return"Unknown date:"+t;var i=this.monthNamesShort[t.getUTCMonth()],n=t.getUTCDate();return n<10&&(n="0"+n),i+" "+n+", "+t.getUTCFullYear()},formatDateYYYYMMDD:function(t,e,r){if(isNaN(t.getUTCMonth()))return"Unknown date:"+t;var i=t.getUTCMonth()+1;i<10&&(i="0"+i);var n=t.getUTCDate();return n<10&&(n="0"+n),t.getUTCFullYear()+"-"+i+"-"+n},formatDateYYYYMMDDHHMM:function(t,e,r){if(isNaN(t.getUTCMonth()))return"Unknown date:"+t;var i=t.getUTCMonth()+1;i<10&&(i="0"+i);var n=t.getUTCDate();n<10&&(n="0"+n);var g=t.getHours()+1;g<10&&(g="0"+g);var a=t.getMinutes();a<10&&(a="0"+a);let o=g+":"+a;return t.getUTCFullYear()+"-"+i+"-"+n+" "+o},formatDateYYYYMMDDHH:function(t,e,r){if(isNaN(t.getUTCMonth()))return"Unknown date:"+t;var i=t.getUTCMonth()+1;i<10&&(i="0"+i);var n=t.getUTCDate();n<10&&(n="0"+n);var g=Utils.formatHour(t.getUTCHours(),!0);return t.getUTCFullYear()+"-"+i+"-"+n+" "+g},formatDateYYYYMM:function(t,e,r){if(isNaN(t.getUTCMonth()))return"Unknown date:"+t;var i=t.getUTCMonth()+1;return i<10&&(i="0"+i),t.getUTCFullYear()+"-"+i},formatDateMMDD:function(t,e){if(isNaN(t.getUTCMonth()))return"Unknown date:"+t;var r=t.getUTCMonth()+1;r<10&&(r="0"+r);var i=t.getUTCDate();return i<10&&(i="0"+i),r+(e||"-")+i},formatDateHHMM:function(t,e){var r=t.getHours()+1;r<10&&(r="0"+r);var i=t.getMinutes();return i<10&&(i="0"+i),r+":"+i},formatDateYYYY:function(t,e,r){return t.getUTCFullYear()},formatDateYYYYWeek:function(t,e,r){return t.getUTCFullYear()+" week:"+this.formatDateWeek(t)},formatDateWeek:function(t){var e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-e)/864e5+1)/7)},formatDateWithFormat(t,e,r){if(null==e){if(r)return null;e="yyyymmdd"}let i=e.toLowerCase();return"yyyymmdd"==i?Utils.formatDateYYYYMMDD(t):"yyyymmddhh"==i?Utils.formatDateYYYYMMDDHH(t):"yyyymmddhhmm"==i?Utils.formatDateYYYYMMDDHHMM(t):"yyyymm"==i?Utils.formatDateYYYYMM(t):"yearmonth"==i?Utils.formatDateYearMonth(t):"monthdayyear"==i?Utils.formatDateMonthDayYear(t):"monthday"==i?Utils.formatDateMonthDay(t):"mon_day"==i?Utils.formatDateMonDay(t):"mdy"==i?Utils.formatDateMDY(t):"hhmm"==i?Utils.formatDateHHMM(t):String(t.format(e,"UTC:",!0))},dateOptions:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},formatDate:function(t,e,r){return this.formatDateWithFormat(t,"yyyy-mm-dd HH:MM")},incrementYear:function(t,e){return null==e&&(e=1),t.setUTCFullYear(t.getUTCFullYear()+e),t},incrementMonth:function(t,e){for(null==e&&(e=1);e>0;)11==t.getUTCMonth()?(t.setUTCFullYear(t.getUTCFullYear()+1),t.setUTCMonth(0)):t.setUTCMonth(t.getUTCMonth()+1),e--;return t},incrementDay:function(t,e){return null==e&&(e=1),t.setTime(t.getTime()+1e3*e*3600*24),t},getDayInYear:function(t){return(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())-Date.UTC(t.getUTCFullYear(),0,0))/24/60/60/1e3},monthShortNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthLongNames:["January","February","March","April","May","June","July","August","September","October","November","December"],getMonthShortNames:function(){return this.monthShortNames},xparseDate:function(t){return t=t.replaceAll(/\+0000$/,""),new Date(t)},dateRegex:new RegExp("(rel|now|today)(\\+|-)(.*)","i"),parseDate:function(t,e,r){if(null==t)return null;if("number"==typeof t)return new Date(t);if(""==(t=t.trim()))return null;var i=t.match(this.dateRegex),n=0;null!=i&&(n=parseFloat(i[3]),"-"==i[2]&&(n=-n),t=i[1]);var g=null;if("now"==t);else if("rel"==t){if(null==r)return null;g=new Date(r.getTime())}else{if("today"!=t){let e=Date.parse(t);if(isNaN(e)){let e=t.split(/[^0-9]/).map((t=>parseInt(t,10)));return new Date(e[0],e[1]-1||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0)}return new Date(e)}(g=new Date(Date.now())).setMilliseconds(0),g.setSeconds(0),g.setMinutes(0),e&&g.setHours(24)}return 0!=n&&g.setDate(g.getDate()+n),g},makeDownloadFile:function(t,e){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},later:function(t){t&&setTimeout(t,1)},call:function(t,e,r,i,n){if(t){var g=[];Utils.isDefined(e)&&g.push(e),Utils.isDefined(r)&&g.push(r),Utils.isDefined(i)&&g.push(i),Utils.isDefined(n)&&g.push(n),t.apply(this,g)}return e},isDefined:function(t){let e=!0;Array.from(arguments).every((t=>(null==t&&(e=!1),e)));return e},makeLabel:function(t){return t=(t=String(t)).trim(),this.camelCase(t.replace(/_/g," "))},makeId:function(t){return t=(t=(t=(t=(t=String(t)).replace(/[^\x00-\x7F]/g,"_")).replace(/&/g,"_")).replace(/\./g,"_")).trim().toLowerCase().replace(/ /g,"_")},camelCase:function(t,e){if(!t)return t;let r="",i=t.split(" ");for(let t=0;t<i.length;t++){let n=i[t],g=n.substring(0,1);(t>>0||!e)&&(g=g.toUpperCase()),n.length>1&&(g+=n.substring(1).toLowerCase()),""!=r&&(r+=" "),r+=g}return r},stripTags:function(t){return t.replace(/(<([^>]+)>)/gi," ")},articles:"that,this,they,those,with,them,their,have,than,there,when,more,much,many,will,were".split(","),stopWords:["not","no","will","must","just","a","about","above","after","again","against","all","am","an","and","any","are","as","at","be","because","been","before","being","below","between","both","but","by","could","did","do","does","doing","down","during","each","few","for","from","further","had","has","have","having","he","he'd","he'll","he's","her","here","here's","hers","herself","him","himself","his","how","how's","i","i'd","i'll","i'm","i've","if","in","into","is","it","it's","its","itself","let's","me","more","most","my","myself","nor","of","on","once","only","or","other","ought","our","ours","ourselves","out","over","own","same","she","she'd","she'll","she's","should","so","some","such","than","that","that's","the","their","theirs","them","themselves","then","there","there's","these","they","they'd","they'll","they're","they've","this","those","through","to","too","under","until","up","very","was","we","we'd","we'll","we're","we've","were","what","what's","when","when's","where","where's","which","while","who","who's","whom","why","why's","with","would","you","you'd","you'll","you're","you've","your","yours","yourself","yourselves"],tokenizeWords:function(t,e,r,i){e||(e=this.stopWords);for(var n=[],g=(t=t.replace(/https?:\/\/[^ ]+/g," ")).split(/[ ,\(\)\.:\;\n\?\-!\*]/),a=0;a<g.length;a++){var o=g[a].trim();if(""!=o){var s=o.toLowerCase();e.includes(s)||r&&r.includes(s)||i&&this.articles.includes(s)||o.match(/^[0-9]+$/)||n.push(o)}}return n},stringDefined:function(t){return!!Utils.isDefined(t)&&(null!=t&&""!=t)},tokenizeMacros:function(s,args){let opts={};args&&$.extend(opts,args);let hook=opts.hook,tokens=[],tokenMap={},cnt=0;for(;s.length>0;){let t=s.indexOf("${");if(t<0)break;let e=s.substring(0,t);""!=e&&tokens.push({type:"string",s:e}),s=s.substring(t);let r="",i=0,n=!1;for(;i<s.length;){let t=s.charAt(i++);if('"'!=t&&"'"!=t){if("}"==t&&!n)break;r+=t}else n=!n,r+=t}if(i>s.length)break;s=s.substring(i);let g=r.substring(2),a={};t=g.indexOf(" ");let o="";if(t<0)o=g;else{o=g.substring(0,t).trim();let e=g.substring(t).trim();a=Utils.parseAttributes(e)}let l={id:String(cnt++),attrs:a,tag:o,macro:g};tokens.push(l),tokenMap[o]=l}return""!=s&&tokens.push({type:"string",s:s}),{tokens:tokens,tokenMap:tokenMap,getAttributes:function(t){let e=this.tokenMap[t];return e?e.attrs:null},apply:function(source,debug,handler){let cnt=0,tokenFunc=t=>{let value=source[t.tag],s="";if("func"==t.tag){let f=t.attrs.f;if(!f)return"&lt;no function defined&gt;";let code="function macroFunc() {\n";for(a in source){if("default"==a)continue;let t=source[a];"number"!=typeof t&&(t='"'+t+'"'),code+=a+"="+t+";\n"}code+="return "+f+";\n}\n",code+="macroFunc()";try{value=eval(code)}catch(t){return console.log("Error applying macro function:"+code+"\n"+t),"&lt;Error:"+t+"&gt;"}}if(t.attrs.nonblank&&0==String(value).length)return"";if(!Utils.isDefined(value))return"${"+t.macro+"}";if(value.getTime)return Utils.formatDateWithFormat(value,t.attrs.format||opts.dateFormat);if(t.attrs.display&&handler){let e=handler(t,value);if(!1!==e)return e}if(t.attrs.missing&&(""==value||isNaN(value)))return t.attrs.missing;if(t.attrs.bar){let e=t.attrs.min||0,r=t.attrs.max;if(""==value||isNaN(value))return t.attrs.missing||value;if(Utils.isDefined(e,r)){let i=t.attrs.color||"#4E79A7",n=t.attrs.width||"100%",g=parseFloat(t.attrs.height||12),a=100-100*(value-e)/(r-e)+"%",o=t.attrs.border||"1px solid #ccc",s=t.attrs.includeValue||!0,l=HU.div([TITLE,value+"/"+r,STYLE,HU.css("display","inline-block","position","relative","height",g+2+"px","width",n,"border",o,"border-left","none")],HU.div([STYLE,HU.css("position","absolute","left","0px","right",a,"height",g+"px","background",i)]));return s?HU.row([["width","1%"],value],l):l}}if(t.attrs.stars){if(""==value||isNaN(value))return t.attrs.missing||value;let e=t.attrs.count||5,r=t.attrs.min||0,i=t.attrs.max;if(Utils.isDefined(r,i)){let n=t.attrs.color||"#F9CF03",g="",a="";for(let t=0;t<e;t++)g+=HU.getIconImage("far fa-star",null,[STYLE,HU.css("font-size","10pt","color","#000")]),a+=HU.getIconImage("fas fa-star",null,[STYLE,HU.css("font-size","10pt","color",n)]);let o=100-100*(value-r)/(i-r)+"%",s=t.attrs.includeValue||!0,l=HU.div([TITLE,value+"/"+i,STYLE,HU.css("display","inline-block","position","relative")],g+HU.div([STYLE,HU.css("white-space","nowrap","overflow-x","hidden","position","absolute","left","0px","right",o,"top","0px","bottom","0px")],a));return s?HU.row([["width","1%"],value],l):l}}if((t.attrs.positiveTemplate||t.attrs.negativeTemplate)&&(value=+value,value>=0?t.attrs.negativeTemplate&&(value=t.attrs.positiveTemplate.replace("${value}",value)):t.attrs.negativeTemplate&&(t.attrs.doAbsolute&&(value=-value),value=t.attrs.negativeTemplate.replace("${value}",value))),t.attrs.youtube){if(0==value.trim().length)return null;let e=value.match(/.*watch\?v=(.*)$/);if(e&&2==e.length){let r=e[1],i=t.attrs.autoplay||"false",n="video_1",g="//www.youtube.com/embed/"+r+"?enablejsapi=1&autoplay="+("true"==i?"1":"0")+"&playerapiid="+n;s+=HU.href(value,"Link")+"<br>",s+=HU.tag("iframe",[ID,"ytplayer","allow","autoplay; fullscreen","type","text/html","frameborder","0",WIDTH,t.attrs.width||400,HEIGHT,t.attrs.height||400,SRC,g])}else s+=HU.href(value,value);return s}if(t.attrs.list)return value=String(value),s+="<ul>",value.split("\n").forEach((t=>{""!=(t=t.trim())&&(s+="<li> "+t)})),s+="</ul>",s;if(t.attrs.pre)return value=String(value),""!=value.trim()&&(value="<pre class=thin_pre>"+value.trim()+"</pre>"),value;if(t.attrs.urlField){let e=source[t.attrs.urlField];Utils.stringDefined(e)&&(value=HU.href(e,value))}if(t.attrs.offset1&&(value+=parseFloat(t.attrs.offset1)),t.attrs.scale&&(value*=parseFloat(t.attrs.scale)),t.attrs.offset2&&(value+=parseFloat(t.attrs.offset2)),t.attrs.decimals){value=parseFloat(value);let e=Math.pow(10,t.attrs.decimals);value=Math.floor(value*e)/e}if(t.attrs.format){let e=t.attrs.format;"comma"==e&&(isNaN(value)?value=0:0!=value&&(value=Utils.formatNumberComma(value)))}if(t.attrs.lowercase&&(value=String(value).toLowerCase()),t.attrs.uppercase&&(value=String(value).toUpperCase()),t.attrs.camelcase&&(value=Utils.camelCase(String(value),!0)),t.attrs.suffix&&(value+=t.attrs.suffix),t.attrs.prefix&&(value=t.attrs.prefix+value),t.attrs.toggle,t.attrs.image&&""!=value){let e="";if(t.attrs.title)for(a in e=t.attrs.title,source)e=e.replace("{"+a+"}",source[a]);let r=["title",e];t.attrs.height?(r.push("height"),r.push(t.attrs.height)):(r.push("width"),r.push(t.attrs.width||"100%")),r.push("loading"),r.push("lazy"),value=HtmlUtils.image(value,r)}if(t.attrs.images&&""!=value){let e;value=value.trim(),e=value.startsWith("[")?JSON.parse(value):t.attrs.delimiter?value.split(t.attrs.delimiter):value.split(";");let r="";if(t.attrs.title)for(a in r=t.attrs.title,source)r=r.replace("{"+a+"}",source[a]);let i=["title",r];t.attrs.height?(i.push("height"),i.push(t.attrs.height)):(i.push("width"),i.push(t.attrs.width||"100%")),console.log("VALUE:"+value),value="",e.forEach((t=>{value+=HtmlUtils.image(t,i)})),console.log(value)}if(t.attrs.template&&(value=t.attrs.template.replace("{value}",value)),t.attrs.templateif){let e=t.attrs.templateif.split(":"),r=e[0],i=e.slice(1).join(":");value=String(value),value.match(r)&&(value=i.replace("{value}",value))}if(t.attrs.maxwidth){let e=t.attrs.maxwidth;value=HU.div([STYLE,HU.css("display","inline-block","white-space","nowrap","max-width",HU.getDimension(e),"overflow-x","auto")],value)}return s+=value,s},s="";return this.tokens.forEach((t=>{if("string"==t.type)s+=t.s;else{let e=null;if(hook&&(e=hook(t,source[t.tag])),e||(e=tokenFunc(t)),!e)return;e.trim().length>0&&t.attrs.toggle&&(e=HU.toggleBlock(t.attrs.label||"More",e)),s+=e}})),s},getText:function(){let t=0,e="";return this.tokens.map((r=>{"string"==r.type?e+=r.s:(e+="${macro"+t+"}",t++)})),e}}},formatNumberComma:function(t){if(!Utils.isDefined(t))return"NA";let e=Math.floor(t),r=t-e,i=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(0==r)return i;{let e=Math.abs(t),r=0;return r=e>=9999?0:e>=999?1:e>=99?2:e>=9?3:4,number_format(t,r)}},numberToString:null,roundDecimals:function(t,e,r){null==this.numberToString&&(this.numberToString=new Intl.NumberFormat("fullwide",{useGrouping:!1}));let i=this.numberToString.format(t),n=Number(Math.round(i+"e"+e)+"e-"+e);return r&&console.log("decimals:"+i+" "+Math.round(i+"e"+e)),n},formatNumber:function(t,e,r){let i=this.formatNumberInner(t,r);return e?parseFloat(i):i},formatNumberInner:function(t,e){var r=Math.abs(t);if(r==Math.floor(r))return String(t);if(r>1e3)return number_format(t,0);if(r>100)return number_format(t,1);if(r>10)return number_format(t,2);if(r>1)return number_format(t,3);{let r=""+(t-Math.floor(t));return number_format(t,Math.min(r.length-2,5),e)}},isRealNumber:function(t){return!(t==Number.POSITIVE_INFINITY||isNaN(t)||!Utils.isNumber(t)||!Utils.isDefined(t)||null==t)},isNumber:function(t){return null!=t&&("number"==typeof t||!isNaN(t-0))},isType:function(t,e){return!(!t||typeof t!=e)},getDefined:function(t,e){return Utils.isDefined(t)?t:e},cleanId:function(t){return t=(t=t.replace(/:/g,"_").replace(/\./g,"_").replace(/=/g,"_").replace(/\//g,"_").replace(/[\(\)]/g,"_")).replace(/[^a-zA-Z0-9_]/g,"_")},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isFalse:function(t){return void 0!==t&&0==t},toFloat:function(t,e){return null==t||""==t.trim()?void 0!==e?e:NaN:parseFloat(t)},getUrlArgs:function(t){t=t.split("+").join(" ");for(var e,r={},i=/[?&]?([^=]+)=([^&]*)/g;e=i.exec(t);)r[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return r},checkTabs:function(t){for(;;){var e=new RegExp('id="(tabId[^"]+)"').exec(t);if(!e)break;var r=e[1];r.indexOf("-")<0&&jQuery((function(){jQuery("#"+r).tabs()}));var i=t.indexOf('id="tabId');if(i<0)break;t=t.substring(i+20)}},initRangeSelect:function(){let t=$(".ramadda-range-select"),e=function(){let t=$(this).attr("to-id");"between"==$(this).val()?$("#"+t).show():$("#"+t).hide()};t.each(e),t.change(e)},initPageReload:function(t,e,r){let i=$("#"+e),n=$("#"+e+"_label");i.length>0&&i.change((()=>{let g="Reload"+HtmlUtils.span([STYLE,"color:transparent"]," in 00  seconds");n.html(g),i.is(":checked")&&Utils.checkPageReload(t,e,r)})),(0==i.length||i.is(":checked"))&&Utils.checkPageReload(t,e,r)},checkPageReloadPending:!1,checkPageReload:function(t,e,r){let i=$("#"+e),n=$("#"+e+"_label");if(!(i.length>0)||i.is(":checked"))if(t<=0)location.reload();else{if(r){let e="Reload in "+t+" seconds";n.html(e)}t<=5?n.css("background","#eee"):n.css("background","transparent"),Utils.checkPageReloadPending||(Utils.checkPageReloadPending=!0,setTimeout((()=>{Utils.checkPageReloadPending=!1,Utils.checkPageReload(t-1,e,r)}),1e3))}},areDisplaysReady:function(){if(!Utils.getPageLoaded())return 0;if(0==Utils.displaysList.length)return 1;let t=!0;return Utils.displaysList.forEach((e=>{e.isDisplayFinished&&(e.isDisplayFinished()||(t=!1))})),t?1:0},checkForResize:function(){$(window).resize((()=>{this.pendingResizeTimeout&&(clearTimeout(this.pendingResizeTimeout),this.pendingResizeTimeout=null);this.pendingResizeTimeout=setTimeout((()=>{for(let t=0;t<Utils.displaysList.length;t++){let e=Utils.displaysList[t];e.displayData&&e.displayData()}this.pendingResizeTimeout=null}),1e3)}))},displaysList:[],displaysMap:[],addDisplay:function(t){this.displaysList.push(t),t.getId&&(this.displaysMap[t.getId()]=t),t.displayId&&(this.displaysMap[t.displayId]=t)},removeDisplay:function(t){let e=this.displaysList.indexOf(t);e>=0&&this.displaysList.splice(e,1),t.getId&&delete this.displaysMap[t.getId()],t.displayId&&delete this.displaysMap[t.displayId]},initDisplays:function(){this.displaysList.forEach((t=>{if(t.pageHasLoaded){new Date;t.pageHasLoaded();new Date}}))},getPageLoaded:function(){return this.pageLoaded},initContent:function(t){t?t+=" ":t="";try{HtmlUtils.formatTable(t+".ramadda-table")}catch(t){console.log("Error formatting table:"+t),console.log(t.stack)}$(t+".ramadda-snippet-hover").each((function(){let t=$(this);t.parent().hover((function(){var e=$(this),r=e.height();r>e.parent().height()&&(r=e.parent().height());let i=HtmlUtils.getTooltip();i.html(HtmlUtils.div(["class","ramadda-popup-inner ramadda-snippet-popup"],t.html())),i.show(),i.position({of:e,my:"left top",at:"left top+"+(r+1),collision:"fit fit"})}),(function(){HtmlUtils.getTooltip().hide()}))}));let e=$(t+".ramadda-page-title"),r=$(t+".ramadda-header-center");e.length&&r.length&&(e=e.first(),r=r.first(),$(window).scroll((()=>{e.offset().top<r.offset().top+r.height()-10?this.showingHeaderCenter||(this.showingHeaderCenter=!0,r.html(e.html()),e.html("&nbsp;")):this.showingHeaderCenter&&(this.showingHeaderCenter=!1,e.html(r.html()),r.html("&nbsp;"))}))),$(t+":submit").button().click((function(t){})),$(t+".ramadda-button").button().click((function(t){}));let i=$(t+".ramadda-linkable");i.mouseenter((function(){let t=$(this).attr("id");t&&($("#"+t+"-hover").html(HtmlUtils.getIconImage("fa-link",null,[STYLE,"font-size:10pt;"])),$("#"+t+"-hover").show())})),i.click((function(){let t=$(this).attr("id");t&&HU.scrollToAnchor(t,-50)})),i.mouseleave((function(){let t=$(this).attr("id");t&&$("#"+t+"-hover").hide()})),$(t+".ramadda-pulldown-with-icons").iconselectmenu().iconselectmenu("menuWidget").addClass("ui-menu-icons ramadda-select-icon")},searchLastInput:"",searchAscending:!1,searchCnt:0,searchSuggestInit:function(t,e,r,i,n){let g=$("#"+t),a=$("#"+e);Utils.isDefined(i)||(i=!0);let o=!1;if(!n){o=!0,n=HU.getUniqueId();let t=g.width(),e=HU.div([ID,n,STYLE,HU.css("border","0px","width",t+"px","position","absolute"),CLASS,"ramadda-popup ramadda-search-popup"],"");g.parent().append(e)}let s=$("#"+n),l=()=>{s.slideUp(250)},b=()=>{let t=g.val()||"";this.searchCnt++,this.pendingSearch&&(clearTimeout(this.pendingSearch),this.pendingSearch=null),0!=t.length?this.pendingSearch=setTimeout((()=>{this.pendingSearch=null,Utils.doSearchSuggest(this.searchCnt,g,a,s,r,o)}),200):l()};a.length&&a.change(b),Utils.searchLastInput=g.val(),g.keyup((t=>{let e=t.keyCode||t.which;27!=e&&13!=e?(t.stopPropagation(),b()):l()}))},doSearchSuggest:function(t,e,r,i,n,g){let a=this,o=e.val()||"";Utils.searchLastInput=o;let s=ramaddaBaseUrl+"/search/suggest?text="+encodeURIComponent(o);n&&(s+="&type="+n),r.length>0&&r.is(":checked")&&ramaddaThisEntry&&(s+="&ancestor="+ramaddaThisEntry),s+="&ascending="+Utils.searchAscending;$.getJSON(s,(function(r){if(t!=a.searchCnt)return;let n=()=>{i.slideDown(400)};if(0==r.values.length)return i.html(HtmlUtils.div([CLASS,"ramadda-search-suggestion "],"No results")),void n();let o="",s=!0;if(r.values.forEach(((t,e)=>{let r,i=t.name,n=t.id,a=i.replace(/\"/g,"_quote_"),l=HU.href(ramaddaBaseUrl+"/entry/show?entryid="+n,HU.getIconImage(t.icon||icon_blank16)+SPACE+i,[TITLE,"View entry",STYLE,HU.css("display","inline-block","width","100%"),CLASS,"ramadda-highlightable"]);r=g?HU.span([CLASS,"ramadda-highlightable ramadda-search-input","index",e,TITLE,"Search for"],HtmlUtils.getIconImage("fa-search")):HU.href(ramaddaBaseUrl+"/search/do?text="+encodeURIComponent(a),HtmlUtils.getIconImage("fa-search"),[TITLE,"Search for"]);let b=r+SPACE+l;o+=HtmlUtils.div([CLASS,"ramadda-search-suggestion "],b),o+="\n",s=!s})),i.html(o),g){let t=i.find(".ramadda-search-input");t.css("cursor","pointer"),t.click((function(t){t.stopPropagation();let i=r.values[$(this).attr("index")].name;e.val(i),e.closest("form").submit()}))}n()})).fail((function(t,e,r){console.log("fail:"+e)}))},searchLink:function(){let t=$("#popup_search_input").val().trim(),e=$(this).attr("url");""!=t&&(e+="?text="+encodeURIComponent(t)),window.location=e},searchPopup:function(t,e){e=t;let r=Utils.searchLastInput||"",i="<form action='"+ramaddaBaseUrl+"/search/do'>";i+=HU.open("input",["value",r,"placeholder","Search text","autocomplete","off","autofocus","true","id","popup_search_input","class","ramadda-search-input",STYLE,HU.css("margin-left","4px","padding","2px","width","250px","border","0px"),"name","text"]),ramaddaThisEntry&&(i+=HU.checkbox("popup_search_here",["name","ancestor","value",ramaddaThisEntry,TITLE,"Search under this entry"],!1)+HU.tag("label",[CLASS,"ramadda-clickable","for","popup_search_here"]," here"+SPACE)),i+="</form>";let n=HU.getUniqueId(),g=HU.div(["id",n,STYLE,"text-align:right"],HU.link(ramaddaBaseUrl+"/search/form","Advanced",[TITLE,"Go to form",STYLE,HU.css("color","#888","font-size","13px")])),a=HU.getUniqueId("searchresults"),o=HU.div([ID,a,CLASS,"ramadda-search-popup-results"]),s=HU.div([CLASS,"ramadda-search-popup"],i+o);$("#"+t);this.dialog=HU.makeDialog({content:s,my:"right top",at:"right bottom",title:g,anchor:e,draggable:!0,header:!0,inPlace:!1}),$("#"+n).find(".ramadda-link").click(Utils.searchLink);var l=$("#popup_search_input");l.mousedown((function(t){t.stopPropagation()})),Utils.searchSuggestInit("popup_search_input","popup_search_here",null,!0,a),l.focus()},handleKeyPress:function(t){HtmlUtils.getTooltip().hide()},handleMouseDown:function(t){return(HtmlUtils.hasPopupObject()||Utils.tooltipObject)&&setTimeout((()=>{if(Utils.tooltipObject&&(Utils.tooltipObject.hide(),Utils.tooltipObject=null),HtmlUtils.hasPopupObject()){let t=HtmlUtils.getPopupObject().attr("id");HtmlUtils.checkToHidePopup()&&t==HtmlUtils.getPopupObject().attr("id")&&HtmlUtils.hidePopupObject()}}),250),Utils.mouseIsDown=!0,Utils.mouseMoveCnt=0,!0},handleMouseUp:function(t){t=GuiUtils.getEvent(t),Utils.mouseIsDown=!1,GuiUtils.setCursor("default");let e=$("#ramadda-floatdiv");if(e.length){let t=Utils.entryDragInfo?GuiUtils.getDomObject(Utils.entryDragInfo.dragSource):null;if(t){let r=GuiUtils.getLeft(t.obj),i=GuiUtils.getTop(t.obj),n=parseInt(e.css("left")),g=parseInt(e.css("top")),a=10,o=(r-n)/a,s=(i-g)/a;Utils.flyBackAndHide("ramadda-floatdiv",0,a,n,g,o,s)}else e.hide();Utils.entryDragInfo=null}return!0},flyBackAndHide:function(t,e,r,i,n,g,a){var o=GuiUtils.getDomObject(t);if(o){e+=1,o.style.left=i+g*e+"px",o.style.top=n+a*e+"px";if(e<r){setTimeout((()=>{Utils.flyBackAndHide(t,e,r,i,n,g,a)}),30)}else setTimeout((()=>{Utils.finalHide(t)}),150)}},handleMouseMove:function(t){if(t=GuiUtils.getEvent(t),Utils.entryDragInfo&&Utils.mouseIsDown){Utils.mouseMoveCnt++;var e=$("#ramadda-floatdiv");6==Utils.mouseMoveCnt&&GuiUtils.setCursor("move"),Utils.mouseMoveCnt>=6&&e.length&&Utils.moveFloatDiv(GuiUtils.getEventX(t),GuiUtils.getEventY(t))}return!0},finalHide:function(t){var e=GuiUtils.getDomObject(t);e&&(hideObject(e),e.style.filter="alpha(opacity=80)",e.style.opacity="0.8")},moveFloatDiv:function(t,e){var r=$("#ramadda-floatdiv");if(r.length){if(!("none"!=r.css("display"))){r.show();let t="";Utils.entryDragInfo&&(t=Utils.entryDragInfo.getHtml()),r.html(t+"<br>Drag to a group to copy/move/associate")}r.css("top",e).css("left",t+10)}},treeViewClick:function(t,e,r,i){var n="<a href='"+e+"'> <img src=\""+ramaddaCdn+'/icons/link.png" border=0> '+r+"</a>";$("#treeview_header").html(n),i&&(e=e+"&template="+i),$("#treeview_view").attr("src",e)},initPage:function(){this.initContent(),this.pageLoaded=!0,this.initDisplays(),document.onmousemove=Utils.handleMouseMove,document.onmousedown=Utils.handleMouseDown,document.onmouseup=Utils.handleMouseUp,document.onkeypress=Utils.handleKeyPress,$(document).delegate("textarea","keydown",(function(t){if(9==(t.keyCode||t.which)){t.preventDefault();var e=this.selectionStart,r=this.selectionEnd;$(this).val($(this).val().substring(0,e)+"\t"+$(this).val().substring(r)),this.selectionStart=this.selectionEnd=e+1}})),Utils.loadFunctions.forEach((t=>{t()}))},copyText:function(t){const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},foregroundColors:{purple:"white"},getContrastYIQ:function(t){return t=t.replace("#",""),(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3>=128?"black":"white"},getForegroundColor:function(t){return t?(t.match("rgb")&&(t=Utils.rgbToHex(t)),t?!this.foregroundColors[t]&&t.startsWith("#")?this.getContrastYIQ(t):this.foregroundColors[t]||"#000":"#000"):null},darkerColor:function(t,e){return t?this.pSBC(e||-.5,t):t},brighterColor:function(t,e){return t?this.pSBC(e||.5,t):t},pSBC:function(t,e,r,i){e=this.colorToRgb[e]||e,r=this.colorToRgb[r]||r;let n,g,a,o,s,l,b,c=parseInt,d=Math.round,u="string"==typeof r;return"number"!=typeof t||t<-1||t>1||"string"!=typeof e||"r"!=e[0]&&"#"!=e[0]||r&&!u?null:(this.pSBCr||(this.pSBCr=t=>{let e=t.length,r={};if(e>9){if([n,g,a,u]=t=t.split(","),e=t.length,e<3||e>4)return null;r.r=c("a"==n[3]?n.slice(5):n.slice(4)),r.g=c(g),r.b=c(a),r.a=u?parseFloat(u):-1}else{if(8==e||6==e||e<4)return null;e<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(e>4?t[4]+t[4]:"")),t=c(t.slice(1),16),9==e||5==e?(r.r=t>>24&255,r.g=t>>16&255,r.b=t>>8&255,r.a=d((255&t)/.255)/1e3):(r.r=t>>16,r.g=t>>8&255,r.b=255&t,r.a=-1)}return r}),b=e.length>9,b=u?r.length>9||"c"==r&&!b:b,s=this.pSBCr(e),o=t<0,l=r&&"c"!=r?this.pSBCr(r):o?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},o=1-(t=o?-1*t:t),s&&l?(i?(n=d(o*s.r+t*l.r),g=d(o*s.g+t*l.g),a=d(o*s.b+t*l.b)):(n=d((o*s.r**2+t*l.r**2)**.5),g=d((o*s.g**2+t*l.g**2)**.5),a=d((o*s.b**2+t*l.b**2)**.5)),u=s.a,l=l.a,s=u>=0||l>=0,u=s?u<0?l:l<0?u:u*o+l*t:0,b?"rgb"+(s?"a(":"(")+n+","+g+","+a+(s?","+d(1e3*u)/1e3:"")+")":"#"+(4294967296+16777216*n+65536*g+256*a+(s?d(255*u):0)).toString(16).slice(1,s?void 0:-2)):null)},colorToRgb:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},addAlphaToColor:function(t,e){if(e||(e="0.5"),0==(t=this.colorToRgb[t]||t).indexOf("#")){var r=Utils.hexToRgb(t);return r&&(t="rgba("+r.r+","+r.g+","+r.b+","+e+")"),t}return t=(t=t.replace(/rgb *\((.*),(.*),(.*)\)/,"rgba($1,$2,$3,_alpha_)")).replace("_alpha_",e)},enumTypeCount:-1,enumColorPalette:["rgb(141, 211, 199)","rgb(255, 255, 179)","rgb(190, 186, 218)","rgb(251, 128, 114)","rgb(128, 177, 211)","rgb(253, 180, 98)","rgb(179, 222, 105)","rgb(252, 205, 229)","rgb(217, 217, 217)","rgb(188, 128, 189)","rgb(204, 235, 197)","rgb(255, 237, 111)"],enumColors:{},getEnumColor:function(t){return t.color?t.color:(this.enumColors[t]||(this.enumTypeCount++,this.enumTypeCount>=this.enumColorPalette.length&&(this.enumTypeCount=0),this.enumColors[t]=this.enumColorPalette[this.enumTypeCount]),this.enumColors[t])},smoothColorTable:function(t,e){e||(e=100);let r=1/e,i=[];for(let e=0;e<=1;e+=r){getColor(t,e);i.push(i)}return i},interpColors:function(t,e){for(let r=0;r<t.length-1;r++){let i=t[r],n=t[r+1];if(e>=i[0]&&e<=n[0]){let g=t[r][1],a=t[r+1][1],o=(e-i[0])/(n[0]-i[0]),s=g.match(/rgb\((.*) *, *(.*) *, *(.*)\)/),l=a.match(/rgb\((.*) *, *(.*) *, *(.*)\)/);if(s&&l){return"rgb("+Math.round(+s[1]+o*(+l[1]-+s[1]))+","+Math.round(+s[2]+o*(+l[2]-+s[2]))+","+Math.round(+s[3]+o*(+l[3]-+s[3]))+")"}s=g.match(/#(..)(..)(..)/),l=a.match(/#(..)(..)(..)/);let b=t=>1==t.length?"0"+t:t;if(s&&l){s=s.map((t=>parseInt(t,16))),l=l.map((t=>parseInt(t,16)));let t=Math.round(+s[1]+o*(+l[1]-+s[1])),e=Math.round(+s[2]+o*(+l[2]-+s[2])),r=Math.round(+s[3]+o*(+l[3]-+s[3]));return"#"+b(t.toString(16))+b(e.toString(16))+b(r.toString(16))}return null}}},getColorTable:function(t,e){var r=this.ColorTables[t];return r&&e?r.colors:r},displayAllColorTables:function(t){var e=0,r="<table width=50% >";for(a in this.ColorTables)if(this.ColorTables[a].label)r+=HU.tr([],HU.td(["width","10%"],"<br>"+HU.h3(this.ColorTables[a].label)));else{'new ColorTable("'+a+'","'+a+'", new String[]{\n';for(var i=0;i<this.ColorTables[a].colors.length;i++)'"'+this.ColorTables[a].colors[i]+'",';"});\n",r+=HU.tr([],HU.td(["width","10%"],HtmlUtils.b(a))+HU.td([],HtmlUtils.div(["id",t+"_"+e,"style","width:100%;"],""))),e++}for(a in r+="</table>",$("#"+t).html(r),e=0,this.ColorTables)this.ColorTables[a].label||(this.displayColorTable(this.ColorTables[a],t+"_"+e,0,1,{showRange:!1,height:"20px"}),e++)},getColorTablePopup:function(t,e){let r,i="<div class=wiki-editor-popup-items>",n=[];for(a in Utils.ColorTables)if(Utils.ColorTables[a].label)r=HU.div(["style","text-decoration: underline;font-weight:bold"],Utils.ColorTables[a].label),i+=r,n.push(r);else{var g=Utils.getColorTableDisplay(Utils.ColorTables[a],0,1,{showRange:!1,height:"20px"});if(g=HtmlUtils.div([STYLE,HU.css("width","150px"),TITLE,a,CLASS,"ramadda-colortable-select","colortable",a],g),t){var o="insertText("+HtmlUtils.squote(t.getId())+","+HtmlUtils.squote("colorTable="+a)+")";r=HtmlUtils.onClick(o,g),i+=r,n.push(r)}else i+=g}return i+="</div>",i=HU.toggleBlock(HU.div([CLASS,"wiki-editor-popup-header"],"Color Table"),i),e?n:i},displayColorTable:function(t,e,r,i,n){if(t){var g=this.getColorTableDisplay(t,r,i,n);$("#"+e).html(g)}},getColorTableDisplay:function(t,e,r,i){if(!t)return null;t.colors&&(t=t.colors),t.length&&Array.isArray(t[0])&&(t=t[t.length-1]);var n={height:"15px",showRange:!0,showColorTableDots:!1,decimals:-1,horizontal:!0,colorWidth:"20px",stride:1};i&&$.extend(n,i);let g=null;if(n.stringValues&&n.stringValues.length){n.showRange=!1,g={},t=[];let e={};n.stringValues.forEach((r=>{let i="";e[r.color]?i=HU.css("border-top","1px solid #ccc"):(e[r.color]=!0,t.push(r.color),g[r.color]="");let n=r.value;""==n&&(n="&lt;blank&gt;"),g[r.color]+=HtmlUtils.div(["title",r.value,STYLE,i],n)}))}e=parseFloat(e),r=parseFloat(r);let a=[CLASS," display-colortable "+(n.showColorTableDots?"display-colortable-dots":"")];isNaN(n.width)||(a.push(STYLE),a.push(HU.css(WIDTH,HU.getDimension(n.width))));let o=HtmlUtils.open(DIV,a);n.showColorTableDots||(o+=HU.open("table",["cellpadding",0,"cellspacing",0,"width","100%","border",0]),o+="<tr>");let s=t=>n.decimals>=0?number_format(t,n.decimals):this.formatNumberComma(t);n.showRange&&(n.showColorTableDots||(n.horizontal?o+="<td width=1%>"+s(e)+"&nbsp;</td>":o+=s(e)+"<br>"));var l=(r-e)/t.length;let b=[];if(!n.showColorTableDots||n.horizontal)for(var c=0;c<t.length;c+=n.stride)b.push(c);else for(c=t.length-1;c>=0;c-=n.stride)b.push(c);if(b.forEach(((r,i)=>{let g=e+l*r;var a=[];if(n.showColorTableDots){let i=e+l*(r+1),a=s(g)+"-"+s(i),b=SPACE;n.horizontal||(b="<br>"),o+=HtmlUtils.span([CLASS,"display-colortable-dot-item",TITLE,a],HtmlUtils.div(["data-value",g,"class","display-colortable-dot","style",HU.css("background",t[r])])+b+a),n.horizontal||(o+="<br>")}else{n.showRange&&(a.push(TITLE),a.push(s(g))),a.push(STYLE),a.push(HU.css("text-align","center","background",t[r],WIDTH,"100%","min-height",n.height,"min-width","1px"));let e=n.labels?n.labels[i]:"";n.labelStyle&&(e=HU.div([STYLE,n.labelStyle],e));let l=Utils.getForegroundColor(t[r]);n.horizontal?o+=HtmlUtils.td(["data-value",g,"class","display-colortable-slice","style",HU.css("background",t[r],"color",l),WIDTH,"1"],HtmlUtils.div(a,e||"")):o+=HU.div(["data-value",g,"class","display-colortable-slice",STYLE,HU.css("background",t[r],"color",l,WIDTH,n.colorWidth)],HtmlUtils.div(a,e||""))}})),n.showColorTableDots||(n.showRange&&(n.horizontal?o+=HU.td([WIDTH,"1%"],s(r)+SPACE):o+=s(r)+"<br>"),n.horizontal&&(o+="</tr></table>")),o+=HtmlUtils.close(DIV),o+=HtmlUtils.open(DIV,[CLASS,"display-colortable-extra"]),null!=g){let e=100/t.length+"%";o+="<div style='width:100%;vertical-align:top;text-align:center;'>";t.forEach((t=>{let r=HtmlUtils.div(["style","padding:2px;vertical-align:top;display:inline-block;width:"+e+";max-width:"+e+";overflow-x:auto;"],g[t]);o+=r})),o+="</div>"}return o+=HtmlUtils.close(DIV),o},hexToRgb:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},componentToHex:function(t){"string"==typeof t&&(t=+t);var e=t.toString(16);return 1==e.length?"0"+e:e},rgbToHex:function(t,e,r){if(null==e){var i=/^rgb *([0-9]+) *, *([0-9]+) *, *([0-9]+)(,|\)).*/i.exec(t);if(!(i=/^rgb *\( *([0-9]+) *,([0-9]+) *, *([0-9]+).*/i.exec(t)))return null;t=i[1],e=i[2],r=i[3]}return t&&e&&r?"#"+Utils.componentToHex(t)+Utils.componentToHex(e)+Utils.componentToHex(r):null},ColorTables:{ramps:{label:"Ramps"},grayscale:{colors:["rgb(0,0,0)","rgb(1,1,1)","rgb(2,2,2)","rgb(3,3,3)","rgb(4,4,4)","rgb(5,5,5)","rgb(6,6,6)","rgb(7,7,7)","rgb(8,8,8)","rgb(9,9,9)","rgb(10,10,10)","rgb(11,11,11)","rgb(12,12,12)","rgb(13,13,13)","rgb(14,14,14)","rgb(15,15,15)","rgb(16,16,16)","rgb(17,17,17)","rgb(18,18,18)","rgb(19,19,19)","rgb(20,20,20)","rgb(21,21,21)","rgb(22,22,22)","rgb(23,23,23)","rgb(24,24,24)","rgb(25,25,25)","rgb(26,26,26)","rgb(27,27,27)","rgb(28,28,28)","rgb(29,29,29)","rgb(30,30,30)","rgb(31,31,31)","rgb(32,32,32)","rgb(33,33,33)","rgb(34,34,34)","rgb(35,35,35)","rgb(36,36,36)","rgb(37,37,37)","rgb(38,38,38)","rgb(39,39,39)","rgb(40,40,40)","rgb(41,41,41)","rgb(42,42,42)","rgb(43,43,43)","rgb(44,44,44)","rgb(45,45,45)","rgb(46,46,46)","rgb(47,47,47)","rgb(48,48,48)","rgb(49,49,49)","rgb(50,50,50)","rgb(51,51,51)","rgb(52,52,52)","rgb(53,53,53)","rgb(54,54,54)","rgb(55,55,55)","rgb(56,56,56)","rgb(57,57,57)","rgb(58,58,58)","rgb(59,59,59)","rgb(60,60,60)","rgb(61,61,61)","rgb(62,62,62)","rgb(63,63,63)","rgb(64,64,64)","rgb(65,65,65)","rgb(66,66,66)","rgb(67,67,67)","rgb(68,68,68)","rgb(69,69,69)","rgb(70,70,70)","rgb(71,71,71)","rgb(72,72,72)","rgb(73,73,73)","rgb(74,74,74)","rgb(75,75,75)","rgb(76,76,76)","rgb(77,77,77)","rgb(78,78,78)","rgb(79,79,79)","rgb(80,80,80)","rgb(81,81,81)","rgb(82,82,82)","rgb(83,83,83)","rgb(84,84,84)","rgb(85,85,85)","rgb(86,86,86)","rgb(87,87,87)","rgb(88,88,88)","rgb(89,89,89)","rgb(90,90,90)","rgb(91,91,91)","rgb(92,92,92)","rgb(93,93,93)","rgb(94,94,94)","rgb(95,95,95)","rgb(96,96,96)","rgb(97,97,97)","rgb(98,98,98)","rgb(99,99,99)","rgb(100,100,100)","rgb(101,101,101)","rgb(102,102,102)","rgb(103,103,103)","rgb(104,104,104)","rgb(105,105,105)","rgb(106,106,106)","rgb(107,107,107)","rgb(108,108,108)","rgb(109,109,109)","rgb(110,110,110)","rgb(111,111,111)","rgb(112,112,112)","rgb(113,113,113)","rgb(114,114,114)","rgb(115,115,115)","rgb(116,116,116)","rgb(117,117,117)","rgb(118,118,118)","rgb(119,119,119)","rgb(120,120,120)","rgb(121,121,121)","rgb(122,122,122)","rgb(123,123,123)","rgb(124,124,124)","rgb(125,125,125)","rgb(126,126,126)","rgb(127,127,127)","rgb(128,128,128)","rgb(129,129,129)","rgb(130,130,130)","rgb(131,131,131)","rgb(132,132,132)","rgb(133,133,133)","rgb(134,134,134)","rgb(135,135,135)","rgb(136,136,136)","rgb(137,137,137)","rgb(138,138,138)","rgb(139,139,139)","rgb(140,140,140)","rgb(141,141,141)","rgb(142,142,142)","rgb(143,143,143)","rgb(144,144,144)","rgb(145,145,145)","rgb(146,146,146)","rgb(147,147,147)","rgb(148,148,148)","rgb(149,149,149)","rgb(150,150,150)","rgb(151,151,151)","rgb(152,152,152)","rgb(153,153,153)","rgb(154,154,154)","rgb(155,155,155)","rgb(156,156,156)","rgb(157,157,157)","rgb(158,158,158)","rgb(159,159,159)","rgb(160,160,160)","rgb(161,161,161)","rgb(162,162,162)","rgb(163,163,163)","rgb(164,164,164)","rgb(165,165,165)","rgb(166,166,166)","rgb(167,167,167)","rgb(168,168,168)","rgb(169,169,169)","rgb(170,170,170)","rgb(171,171,171)","rgb(172,172,172)","rgb(173,173,173)","rgb(174,174,174)","rgb(175,175,175)","rgb(176,176,176)","rgb(177,177,177)","rgb(178,178,178)","rgb(179,179,179)","rgb(180,180,180)","rgb(181,181,181)","rgb(182,182,182)","rgb(183,183,183)","rgb(184,184,184)","rgb(185,185,185)","rgb(186,186,186)","rgb(187,187,187)","rgb(188,188,188)","rgb(189,189,189)","rgb(190,190,190)","rgb(191,191,191)","rgb(192,192,192)","rgb(193,193,193)","rgb(194,194,194)","rgb(195,195,195)","rgb(196,196,196)","rgb(197,197,197)","rgb(198,198,198)","rgb(199,199,199)","rgb(200,200,200)","rgb(201,201,201)","rgb(202,202,202)","rgb(203,203,203)","rgb(204,204,204)","rgb(205,205,205)","rgb(206,206,206)","rgb(207,207,207)","rgb(208,208,208)","rgb(209,209,209)","rgb(210,210,210)","rgb(211,211,211)","rgb(212,212,212)","rgb(213,213,213)","rgb(214,214,214)","rgb(215,215,215)","rgb(216,216,216)","rgb(217,217,217)","rgb(218,218,218)","rgb(219,219,219)","rgb(220,220,220)","rgb(221,221,221)","rgb(222,222,222)","rgb(223,223,223)","rgb(224,224,224)","rgb(225,225,225)","rgb(226,226,226)","rgb(227,227,227)","rgb(228,228,228)","rgb(229,229,229)","rgb(230,230,230)","rgb(231,231,231)","rgb(232,232,232)","rgb(233,233,233)","rgb(234,234,234)","rgb(235,235,235)","rgb(236,236,236)","rgb(237,237,237)","rgb(238,238,238)","rgb(239,239,239)","rgb(240,240,240)","rgb(241,241,241)","rgb(242,242,242)","rgb(243,243,243)","rgb(244,244,244)","rgb(245,245,245)","rgb(246,246,246)","rgb(247,247,247)","rgb(248,248,248)","rgb(249,249,249)","rgb(250,250,250)","rgb(251,251,251)","rgb(252,252,252)","rgb(253,253,253)","rgb(254,254,254)","rgb(255,255,255)"]},inversegrayscale:{colors:["rgb(255,255,255)","rgb(255,255,255)","rgb(254,254,254)","rgb(253,253,253)","rgb(252,252,252)","rgb(251,251,251)","rgb(250,250,250)","rgb(249,249,249)","rgb(248,248,248)","rgb(247,247,247)","rgb(246,246,246)","rgb(245,245,245)","rgb(244,244,244)","rgb(243,243,243)","rgb(242,242,242)","rgb(241,241,241)","rgb(240,240,240)","rgb(239,239,239)","rgb(238,238,238)","rgb(237,237,237)","rgb(236,236,236)","rgb(235,235,235)","rgb(234,234,234)","rgb(233,233,233)","rgb(232,232,232)","rgb(231,231,231)","rgb(230,230,230)","rgb(229,229,229)","rgb(228,228,228)","rgb(227,227,227)","rgb(226,226,226)","rgb(225,225,225)","rgb(224,224,224)","rgb(223,223,223)","rgb(222,222,222)","rgb(221,221,221)","rgb(220,220,220)","rgb(219,219,219)","rgb(218,218,218)","rgb(217,217,217)","rgb(216,216,216)","rgb(215,215,215)","rgb(214,214,214)","rgb(213,213,213)","rgb(212,212,212)","rgb(211,211,211)","rgb(210,210,210)","rgb(209,209,209)","rgb(208,208,208)","rgb(207,207,207)","rgb(206,206,206)","rgb(205,205,205)","rgb(204,204,204)","rgb(203,203,203)","rgb(202,202,202)","rgb(201,201,201)","rgb(200,200,200)","rgb(199,199,199)","rgb(198,198,198)","rgb(197,197,197)","rgb(196,196,196)","rgb(195,195,195)","rgb(194,194,194)","rgb(193,193,193)","rgb(192,192,192)","rgb(191,191,191)","rgb(190,190,190)","rgb(189,189,189)","rgb(188,188,188)","rgb(187,187,187)","rgb(186,186,186)","rgb(185,185,185)","rgb(184,184,184)","rgb(183,183,183)","rgb(182,182,182)","rgb(181,181,181)","rgb(180,180,180)","rgb(179,179,179)","rgb(178,178,178)","rgb(177,177,177)","rgb(176,176,176)","rgb(175,175,175)","rgb(174,174,174)","rgb(173,173,173)","rgb(172,172,172)","rgb(171,171,171)","rgb(170,170,170)","rgb(169,169,169)","rgb(168,168,168)","rgb(167,167,167)","rgb(166,166,166)","rgb(165,165,165)","rgb(164,164,164)","rgb(163,163,163)","rgb(162,162,162)","rgb(161,161,161)","rgb(160,160,160)","rgb(159,159,159)","rgb(158,158,158)","rgb(157,157,157)","rgb(156,156,156)","rgb(155,155,155)","rgb(154,154,154)","rgb(153,153,153)","rgb(152,152,152)","rgb(151,151,151)","rgb(150,150,150)","rgb(149,149,149)","rgb(148,148,148)","rgb(147,147,147)","rgb(146,146,146)","rgb(145,145,145)","rgb(144,144,144)","rgb(143,143,143)","rgb(142,142,142)","rgb(141,141,141)","rgb(140,140,140)","rgb(139,139,139)","rgb(138,138,138)","rgb(137,137,137)","rgb(136,136,136)","rgb(135,135,135)","rgb(134,134,134)","rgb(133,133,133)","rgb(132,132,132)","rgb(131,131,131)","rgb(130,130,130)","rgb(129,129,129)","rgb(128,128,128)","rgb(127,127,127)","rgb(126,126,126)","rgb(125,125,125)","rgb(124,124,124)","rgb(123,123,123)","rgb(122,122,122)","rgb(121,121,121)","rgb(120,120,120)","rgb(119,119,119)","rgb(118,118,118)","rgb(117,117,117)","rgb(116,116,116)","rgb(115,115,115)","rgb(114,114,114)","rgb(113,113,113)","rgb(112,112,112)","rgb(111,111,111)","rgb(110,110,110)","rgb(109,109,109)","rgb(108,108,108)","rgb(107,107,107)","rgb(106,106,106)","rgb(105,105,105)","rgb(104,104,104)","rgb(103,103,103)","rgb(102,102,102)","rgb(101,101,101)","rgb(100,100,100)","rgb(99,99,99)","rgb(98,98,98)","rgb(97,97,97)","rgb(96,96,96)","rgb(95,95,95)","rgb(94,94,94)","rgb(93,93,93)","rgb(92,92,92)","rgb(91,91,91)","rgb(90,90,90)","rgb(89,89,89)","rgb(88,88,88)","rgb(87,87,87)","rgb(86,86,86)","rgb(85,85,85)","rgb(84,84,84)","rgb(83,83,83)","rgb(82,82,82)","rgb(81,81,81)","rgb(80,80,80)","rgb(79,79,79)","rgb(78,78,78)","rgb(77,77,77)","rgb(76,76,76)","rgb(75,75,75)","rgb(74,74,74)","rgb(73,73,73)","rgb(72,72,72)","rgb(71,71,71)","rgb(70,70,70)","rgb(69,69,69)","rgb(68,68,68)","rgb(67,67,67)","rgb(66,66,66)","rgb(65,65,65)","rgb(64,64,64)","rgb(63,63,63)","rgb(62,62,62)","rgb(61,61,61)","rgb(60,60,60)","rgb(59,59,59)","rgb(58,58,58)","rgb(57,57,57)","rgb(56,56,56)","rgb(55,55,55)","rgb(54,54,54)","rgb(53,53,53)","rgb(52,52,52)","rgb(51,51,51)","rgb(50,50,50)","rgb(49,49,49)","rgb(48,48,48)","rgb(47,47,47)","rgb(46,46,46)","rgb(45,45,45)","rgb(44,44,44)","rgb(43,43,43)","rgb(42,42,42)","rgb(41,41,41)","rgb(40,40,40)","rgb(39,39,39)","rgb(38,38,38)","rgb(37,37,37)","rgb(36,36,36)","rgb(35,35,35)","rgb(34,34,34)","rgb(33,33,33)","rgb(32,32,32)","rgb(31,31,31)","rgb(30,30,30)","rgb(29,29,29)","rgb(28,28,28)","rgb(27,27,27)","rgb(26,26,26)","rgb(25,25,25)","rgb(24,24,24)","rgb(23,23,23)","rgb(22,22,22)","rgb(21,21,21)","rgb(20,20,20)","rgb(19,19,19)","rgb(18,18,18)","rgb(17,17,17)","rgb(16,16,16)","rgb(15,15,15)","rgb(14,14,14)","rgb(13,13,13)","rgb(12,12,12)","rgb(11,11,11)","rgb(10,10,10)","rgb(9,9,9)","rgb(8,8,8)","rgb(7,7,7)","rgb(6,6,6)","rgb(5,5,5)","rgb(4,4,4)","rgb(3,3,3)","rgb(2,2,2)","rgb(1,1,1)"]},lightgrayscale:{colors:["rgb(62,62,62)","rgb(69,69,69)","rgb(75,75,75)","rgb(82,82,82)","rgb(88,88,88)","rgb(95,95,95)","rgb(102,102,102)","rgb(108,108,108)","rgb(115,115,115)","rgb(121,121,121)","rgb(128,128,128)","rgb(135,135,135)","rgb(141,141,141)","rgb(148,148,148)","rgb(155,155,155)","rgb(161,161,161)","rgb(168,168,168)","rgb(174,174,174)","rgb(181,181,181)","rgb(188,188,188)","rgb(194,194,194)","rgb(201,201,201)","rgb(207,207,207)","rgb(214,214,214)","rgb(221,221,221)","rgb(227,227,227)","rgb(234,234,234)","rgb(240,240,240)","rgb(247,247,247)","rgb(254,254,254)"]},blues:{colors:["rgb(255,255,255)","rgb(246,246,255)","rgb(237,237,255)","rgb(228,228,255)","rgb(219,219,255)","rgb(211,211,255)","rgb(202,202,255)","rgb(193,193,255)","rgb(184,184,255)","rgb(175,175,255)","rgb(167,167,255)","rgb(158,158,255)","rgb(149,149,255)","rgb(140,140,255)","rgb(131,131,255)","rgb(123,123,255)","rgb(114,114,255)","rgb(105,105,255)","rgb(96,96,255)","rgb(87,87,255)","rgb(79,79,255)","rgb(70,70,255)","rgb(61,61,255)","rgb(52,52,255)","rgb(43,43,255)","rgb(35,35,255)","rgb(26,26,255)","rgb(17,17,255)","rgb(8,8,255)","rgb(0,0,255)"]},plotly_blues:{colors:["rgb(5,10,172)","rgb(6,11,173)","rgb(7,13,173)","rgb(8,14,174)","rgb(9,16,174)","rgb(10,17,175)","rgb(11,19,175)","rgb(12,20,176)","rgb(13,21,176)","rgb(14,23,177)","rgb(15,24,177)","rgb(16,26,178)","rgb(17,27,178)","rgb(18,29,179)","rgb(19,30,179)","rgb(20,31,180)","rgb(21,33,180)","rgb(22,34,181)","rgb(23,36,181)","rgb(24,37,182)","rgb(25,39,182)","rgb(26,40,183)","rgb(27,41,183)","rgb(28,43,184)","rgb(29,44,184)","rgb(30,46,185)","rgb(31,47,185)","rgb(32,49,186)","rgb(33,50,186)","rgb(34,51,187)","rgb(35,53,187)","rgb(36,54,188)","rgb(37,56,188)","rgb(38,57,189)","rgb(39,59,189)","rgb(40,60,190)","rgb(42,63,194)","rgb(44,65,197)","rgb(46,68,201)","rgb(48,71,205)","rgb(50,73,208)","rgb(52,76,212)","rgb(54,79,216)","rgb(56,81,219)","rgb(58,84,223)","rgb(60,87,227)","rgb(62,89,230)","rgb(64,92,234)","rgb(66,95,238)","rgb(68,97,241)","rgb(70,100,245)","rgb(72,102,245)","rgb(74,104,245)","rgb(76,106,245)","rgb(78,108,245)","rgb(80,110,245)","rgb(82,112,245)","rgb(84,114,245)","rgb(86,116,245)","rgb(88,118,245)","rgb(90,120,245)","rgb(92,122,245)","rgb(93,123,245)","rgb(95,125,246)","rgb(96,127,246)","rgb(98,129,246)","rgb(100,130,246)","rgb(101,132,246)","rgb(103,134,247)","rgb(104,135,247)","rgb(106,137,247)","rgb(110,140,246)","rgb(114,143,245)","rgb(117,145,244)","rgb(121,148,243)","rgb(125,151,242)","rgb(129,154,242)","rgb(133,156,241)","rgb(136,159,240)","rgb(140,162,239)","rgb(144,165,238)","rgb(148,167,237)","rgb(152,170,236)","rgb(155,173,235)","rgb(159,176,234)","rgb(163,179,233)","rgb(167,181,233)","rgb(171,184,232)","rgb(174,187,231)","rgb(178,190,230)","rgb(182,192,229)","rgb(186,195,228)","rgb(190,198,227)","rgb(193,201,226)","rgb(197,203,225)","rgb(201,206,224)","rgb(205,209,224)","rgb(209,212,223)","rgb(212,214,222)","rgb(216,217,221)"]},plotly_greens:{colors:["rgb(0,68,27)","rgb(0,71,28)","rgb(0,75,30)","rgb(0,78,31)","rgb(0,81,32)","rgb(0,84,34)","rgb(0,88,35)","rgb(0,91,37)","rgb(0,94,38)","rgb(0,98,39)","rgb(0,101,41)","rgb(0,104,42)","rgb(0,107,43)","rgb(1,110,45)","rgb(4,113,47)","rgb(7,115,49)","rgb(10,117,51)","rgb(13,120,53)","rgb(15,122,55)","rgb(18,125,57)","rgb(21,127,59)","rgb(24,129,61)","rgb(27,132,63)","rgb(29,134,65)","rgb(32,137,67)","rgb(35,139,69)","rgb(37,142,71)","rgb(40,144,73)","rgb(42,147,75)","rgb(45,149,77)","rgb(47,152,79)","rgb(49,154,81)","rgb(52,157,82)","rgb(54,159,84)","rgb(57,162,86)","rgb(59,165,88)","rgb(61,167,90)","rgb(64,170,92)","rgb(67,172,94)","rgb(71,174,96)","rgb(75,176,98)","rgb(79,178,100)","rgb(83,180,102)","rgb(87,182,104)","rgb(92,184,106)","rgb(96,186,108)","rgb(100,188,110)","rgb(104,190,112)","rgb(108,192,114)","rgb(112,194,116)","rgb(116,196,118)","rgb(120,198,121)","rgb(123,199,124)","rgb(127,201,127)","rgb(130,203,130)","rgb(134,204,133)","rgb(138,206,136)","rgb(141,208,139)","rgb(145,209,142)","rgb(148,211,145)","rgb(152,213,148)","rgb(156,214,151)","rgb(159,216,154)","rgb(163,218,156)","rgb(166,219,159)","rgb(169,220,162)","rgb(172,221,165)","rgb(175,223,168)","rgb(178,224,171)","rgb(181,225,174)","rgb(184,227,177)","rgb(187,228,180)","rgb(190,229,183)","rgb(193,230,186)","rgb(196,232,189)","rgb(199,233,192)","rgb(201,234,195)","rgb(204,235,197)","rgb(206,236,200)","rgb(209,237,202)","rgb(211,238,205)","rgb(213,239,207)","rgb(216,240,210)","rgb(218,241,212)","rgb(221,242,215)","rgb(223,243,218)","rgb(225,244,220)","rgb(228,245,223)","rgb(230,245,225)","rgb(231,246,227)","rgb(233,246,228)","rgb(234,247,230)","rgb(235,248,232)","rgb(237,248,233)","rgb(238,249,235)","rgb(240,249,237)","rgb(241,250,238)","rgb(243,250,240)","rgb(244,251,242)","rgb(246,251,243)"]},plotly_ylorrd:{colors:["rgb(128,0,38)","rgb(133,0,38)","rgb(138,0,38)","rgb(143,0,38)","rgb(148,0,38)","rgb(152,0,38)","rgb(157,0,38)","rgb(162,0,38)","rgb(167,0,38)","rgb(172,0,38)","rgb(177,0,38)","rgb(182,0,38)","rgb(187,0,38)","rgb(191,1,38)","rgb(194,3,37)","rgb(197,5,36)","rgb(200,7,35)","rgb(203,9,34)","rgb(206,11,34)","rgb(209,14,33)","rgb(212,16,32)","rgb(215,18,31)","rgb(218,20,30)","rgb(221,22,30)","rgb(224,24,29)","rgb(227,26,28)","rgb(229,30,29)","rgb(231,34,30)","rgb(233,38,31)","rgb(235,43,32)","rgb(237,47,34)","rgb(239,51,35)","rgb(241,55,36)","rgb(243,59,37)","rgb(245,63,38)","rgb(247,68,39)","rgb(249,72,40)","rgb(251,76,41)","rgb(252,81,43)","rgb(252,86,44)","rgb(252,91,46)","rgb(252,96,47)","rgb(252,101,48)","rgb(252,106,50)","rgb(253,111,51)","rgb(253,116,53)","rgb(253,121,54)","rgb(253,126,56)","rgb(253,131,57)","rgb(253,136,59)","rgb(253,141,60)","rgb(253,144,61)","rgb(253,147,63)","rgb(253,150,64)","rgb(253,153,65)","rgb(253,156,66)","rgb(253,159,68)","rgb(254,162,69)","rgb(254,165,70)","rgb(254,168,72)","rgb(254,171,73)","rgb(254,174,74)","rgb(254,177,75)","rgb(254,180,78)","rgb(254,183,81)","rgb(254,186,84)","rgb(254,189,88)","rgb(254,192,91)","rgb(254,195,94)","rgb(254,198,98)","rgb(254,201,101)","rgb(254,205,105)","rgb(254,208,108)","rgb(254,211,111)","rgb(254,214,115)","rgb(254,217,118)","rgb(254,219,121)","rgb(254,220,125)","rgb(254,222,128)","rgb(254,223,131)","rgb(254,225,135)","rgb(254,227,138)","rgb(255,228,142)","rgb(255,230,145)","rgb(255,231,148)","rgb(255,233,152)","rgb(255,235,155)","rgb(255,236,158)","rgb(255,238,162)","rgb(255,239,165)","rgb(255,241,169)","rgb(255,242,172)","rgb(255,243,176)","rgb(255,245,179)","rgb(255,246,183)","rgb(255,248,186)","rgb(255,249,190)","rgb(255,251,193)","rgb(255,252,197)","rgb(255,254,200)"]},plotly_reds:{colors:["rgb(220,220,220)","rgb(221,219,217)","rgb(223,218,214)","rgb(224,216,211)","rgb(225,215,207)","rgb(226,214,204)","rgb(228,213,201)","rgb(229,211,198)","rgb(230,210,195)","rgb(231,209,192)","rgb(233,208,189)","rgb(234,206,185)","rgb(235,205,182)","rgb(236,204,179)","rgb(238,203,176)","rgb(239,201,173)","rgb(240,200,170)","rgb(241,199,166)","rgb(243,198,163)","rgb(244,196,160)","rgb(245,195,157)","rgb(245,193,154)","rgb(245,192,152)","rgb(245,190,149)","rgb(245,188,147)","rgb(245,186,144)","rgb(245,185,141)","rgb(245,183,139)","rgb(245,181,136)","rgb(245,179,134)","rgb(245,178,131)","rgb(245,176,128)","rgb(245,174,126)","rgb(245,172,123)","rgb(245,170,121)","rgb(245,169,118)","rgb(245,167,115)","rgb(245,165,113)","rgb(245,163,110)","rgb(245,162,108)","rgb(245,160,105)","rgb(244,157,104)","rgb(243,155,102)","rgb(242,152,101)","rgb(241,150,100)","rgb(239,147,99)","rgb(238,145,97)","rgb(237,142,96)","rgb(236,140,95)","rgb(235,137,93)","rgb(234,135,92)","rgb(233,132,91)","rgb(232,130,90)","rgb(230,127,88)","rgb(229,125,87)","rgb(228,122,86)","rgb(227,120,84)","rgb(226,117,83)","rgb(225,115,82)","rgb(224,112,81)","rgb(223,110,79)","rgb(222,107,78)","rgb(220,105,77)","rgb(219,102,75)","rgb(218,100,74)","rgb(217,97,73)","rgb(216,95,72)","rgb(215,92,70)","rgb(214,90,69)","rgb(213,87,68)","rgb(211,85,66)","rgb(210,82,65)","rgb(209,80,64)","rgb(208,77,63)","rgb(207,75,61)","rgb(206,72,60)","rgb(205,70,59)","rgb(204,67,58)","rgb(203,65,56)","rgb(201,62,55)","rgb(200,60,54)","rgb(199,57,52)","rgb(198,55,51)","rgb(197,52,50)","rgb(196,50,49)","rgb(195,47,47)","rgb(194,45,46)","rgb(193,42,45)","rgb(191,40,43)","rgb(190,37,42)","rgb(189,35,41)","rgb(188,32,40)","rgb(187,30,38)","rgb(186,27,37)","rgb(185,25,36)","rgb(184,22,34)","rgb(182,20,33)","rgb(181,17,32)","rgb(180,15,31)","rgb(179,12,29)"]},plotly_bluered:{colors:["rgb(0,0,255)","rgb(3,0,252)","rgb(5,0,250)","rgb(8,0,247)","rgb(10,0,245)","rgb(13,0,242)","rgb(15,0,240)","rgb(18,0,237)","rgb(20,0,235)","rgb(23,0,232)","rgb(25,0,230)","rgb(28,0,227)","rgb(31,0,224)","rgb(33,0,222)","rgb(36,0,219)","rgb(38,0,217)","rgb(41,0,214)","rgb(43,0,212)","rgb(46,0,209)","rgb(48,0,207)","rgb(51,0,204)","rgb(54,0,201)","rgb(56,0,199)","rgb(59,0,196)","rgb(61,0,194)","rgb(64,0,191)","rgb(66,0,189)","rgb(69,0,186)","rgb(71,0,184)","rgb(74,0,181)","rgb(77,0,178)","rgb(79,0,176)","rgb(82,0,173)","rgb(84,0,171)","rgb(87,0,168)","rgb(89,0,166)","rgb(92,0,163)","rgb(94,0,161)","rgb(97,0,158)","rgb(99,0,156)","rgb(102,0,153)","rgb(105,0,150)","rgb(107,0,148)","rgb(110,0,145)","rgb(112,0,143)","rgb(115,0,140)","rgb(117,0,138)","rgb(120,0,135)","rgb(122,0,133)","rgb(125,0,130)","rgb(128,0,127)","rgb(130,0,125)","rgb(133,0,122)","rgb(135,0,120)","rgb(138,0,117)","rgb(140,0,115)","rgb(143,0,112)","rgb(145,0,110)","rgb(148,0,107)","rgb(150,0,105)","rgb(153,0,102)","rgb(156,0,99)","rgb(158,0,97)","rgb(161,0,94)","rgb(163,0,92)","rgb(166,0,89)","rgb(168,0,87)","rgb(171,0,84)","rgb(173,0,82)","rgb(176,0,79)","rgb(179,0,76)","rgb(181,0,74)","rgb(184,0,71)","rgb(186,0,69)","rgb(189,0,66)","rgb(191,0,64)","rgb(194,0,61)","rgb(196,0,59)","rgb(199,0,56)","rgb(201,0,54)","rgb(204,0,51)","rgb(207,0,48)","rgb(209,0,46)","rgb(212,0,43)","rgb(214,0,41)","rgb(217,0,38)","rgb(219,0,36)","rgb(222,0,33)","rgb(224,0,31)","rgb(227,0,28)","rgb(230,0,25)","rgb(232,0,23)","rgb(235,0,20)","rgb(237,0,18)","rgb(240,0,15)","rgb(242,0,13)","rgb(245,0,10)","rgb(247,0,8)","rgb(250,0,5)","rgb(252,0,3)"]},plotly_ylgnbu:{colors:["rgb(8,29,88)","rgb(10,31,93)","rgb(13,33,98)","rgb(15,35,102)","rgb(17,36,107)","rgb(20,38,112)","rgb(22,40,117)","rgb(24,42,122)","rgb(27,44,126)","rgb(29,46,131)","rgb(31,47,136)","rgb(34,49,141)","rgb(36,51,146)","rgb(37,54,149)","rgb(37,57,150)","rgb(36,60,152)","rgb(36,64,154)","rgb(36,67,155)","rgb(36,70,157)","rgb(35,74,158)","rgb(35,77,160)","rgb(35,81,162)","rgb(35,84,163)","rgb(34,87,165)","rgb(34,91,166)","rgb(34,94,168)","rgb(34,98,170)","rgb(33,102,172)","rgb(33,106,174)","rgb(32,110,176)","rgb(32,114,178)","rgb(32,118,180)","rgb(31,123,181)","rgb(31,127,183)","rgb(30,131,185)","rgb(30,135,187)","rgb(30,139,189)","rgb(29,143,191)","rgb(30,146,192)","rgb(33,149,192)","rgb(36,152,193)","rgb(39,155,193)","rgb(42,158,193)","rgb(45,161,194)","rgb(48,164,194)","rgb(51,167,194)","rgb(53,170,195)","rgb(56,173,195)","rgb(59,176,195)","rgb(62,179,196)","rgb(65,182,196)","rgb(70,184,195)","rgb(75,186,195)","rgb(80,188,194)","rgb(85,189,193)","rgb(90,191,192)","rgb(95,193,192)","rgb(100,195,191)","rgb(105,197,190)","rgb(110,199,190)","rgb(115,200,189)","rgb(120,202,188)","rgb(125,204,187)","rgb(130,206,187)","rgb(136,208,186)","rgb(141,211,186)","rgb(147,213,185)","rgb(153,215,184)","rgb(159,217,184)","rgb(164,220,183)","rgb(170,222,183)","rgb(176,224,182)","rgb(182,226,182)","rgb(187,229,181)","rgb(193,231,181)","rgb(199,233,180)","rgb(202,234,183)","rgb(205,235,186)","rgb(208,237,189)","rgb(211,238,192)","rgb(214,239,195)","rgb(217,240,198)","rgb(220,241,201)","rgb(223,243,204)","rgb(226,244,207)","rgb(229,245,210)","rgb(232,246,213)","rgb(235,247,216)","rgb(238,248,217)","rgb(239,249,217)","rgb(241,249,217)","rgb(242,250,217)","rgb(243,251,217)","rgb(245,251,217)","rgb(246,252,217)","rgb(248,252,217)","rgb(249,253,217)","rgb(251,253,217)","rgb(252,254,217)","rgb(254,254,217)"]},plotly_electric:{colors:["rgb(0,0,0)","rgb(2,0,7)","rgb(4,0,13)","rgb(6,0,20)","rgb(8,0,27)","rgb(10,0,33)","rgb(12,0,40)","rgb(14,0,47)","rgb(16,0,53)","rgb(18,0,60)","rgb(20,0,67)","rgb(22,0,73)","rgb(24,0,80)","rgb(26,0,87)","rgb(28,0,93)","rgb(30,0,100)","rgb(34,0,100)","rgb(37,0,100)","rgb(41,0,100)","rgb(44,0,100)","rgb(48,0,100)","rgb(52,0,100)","rgb(55,0,100)","rgb(59,0,100)","rgb(62,0,100)","rgb(66,0,100)","rgb(70,0,100)","rgb(73,0,100)","rgb(77,0,100)","rgb(80,0,100)","rgb(84,0,100)","rgb(88,0,100)","rgb(91,0,100)","rgb(95,0,100)","rgb(98,0,100)","rgb(102,0,100)","rgb(106,0,100)","rgb(109,0,100)","rgb(113,0,100)","rgb(116,0,100)","rgb(120,0,100)","rgb(122,5,95)","rgb(124,9,90)","rgb(126,14,85)","rgb(128,18,80)","rgb(130,23,75)","rgb(132,27,70)","rgb(134,32,65)","rgb(136,36,60)","rgb(138,41,55)","rgb(140,45,50)","rgb(142,50,45)","rgb(144,54,40)","rgb(146,59,35)","rgb(148,63,30)","rgb(150,68,25)","rgb(152,72,20)","rgb(154,77,15)","rgb(156,81,10)","rgb(158,86,5)","rgb(160,90,0)","rgb(164,96,0)","rgb(167,101,0)","rgb(171,107,0)","rgb(174,112,0)","rgb(178,118,0)","rgb(181,123,0)","rgb(185,129,0)","rgb(188,134,0)","rgb(192,140,0)","rgb(195,145,0)","rgb(199,151,0)","rgb(202,156,0)","rgb(206,162,0)","rgb(209,167,0)","rgb(213,173,0)","rgb(216,178,0)","rgb(220,184,0)","rgb(223,189,0)","rgb(227,195,0)","rgb(230,200,0)","rgb(231,203,11)","rgb(233,205,22)","rgb(234,208,33)","rgb(235,210,44)","rgb(236,213,55)","rgb(238,215,66)","rgb(239,218,77)","rgb(240,220,88)","rgb(241,223,99)","rgb(243,225,110)","rgb(244,228,121)","rgb(245,230,132)","rgb(246,233,143)","rgb(248,235,154)","rgb(249,238,165)","rgb(250,240,176)","rgb(251,243,187)","rgb(253,245,198)","rgb(254,248,209)"]},plotly_viridis:{colors:["#440154","#450558","#45085b","#460c5f","#471062","#471366","#481769","#481a6c","#481e6f","#482171","#472474","#472877","#472b7a","#472e7c","#46317e","#45347f","#443781","#433a83","#433e85","#424186","#414387","#404688","#3e4989","#3d4c89","#3c4f8a","#3b528b","#3a548b","#39578c","#375a8c","#365d8c","#355f8d","#33628d","#32658d","#31678d","#30698d","#2f6c8e","#2e6e8e","#2d708e","#2c738e","#2b758e","#2a788e","#297b8e","#287d8e","#27808e","#26828e","#25858e","#24878d","#24898d","#238c8d","#228e8c","#21918c","#21938b","#20958b","#20988a","#209a8a","#1f9c89","#1f9f88","#20a187","#21a386","#23a685","#24a883","#25aa82","#27ac81","#29af7f","#2db17d","#30b37b","#34b579","#38b777","#3bba75","#3fbc73","#44be70","#49c06e","#4ec26b","#53c468","#58c666","#5dc863","#62ca5f","#68cc5c","#6ece58","#74cf54","#7bd151","#81d34d","#87d549","#8dd645","#94d741","#9ad83c","#a1da38","#a7db34","#aedc2f","#b5dd2c","#bcde28","#c3df24","#c9e021","#d0e11d","#d7e219","#dee31b","#e4e41d","#eae41f","#f0e521","#f7e623"]},plotly_cividis:{colors:["rgb(0,32,76)","rgb(0,34,80)","rgb(0,35,85)","rgb(0,37,89)","rgb(0,39,94)","rgb(0,40,98)","rgb(0,42,102)","rgb(0,44,104)","rgb(0,46,105)","rgb(0,47,106)","rgb(0,49,108)","rgb(0,51,109)","rgb(2,52,110)","rgb(8,54,110)","rgb(15,56,109)","rgb(21,58,109)","rgb(28,60,109)","rgb(35,62,108)","rgb(40,64,108)","rgb(44,66,108)","rgb(47,67,108)","rgb(51,69,107)","rgb(55,71,107)","rgb(58,73,107)","rgb(61,75,107)","rgb(64,77,107)","rgb(67,79,107)","rgb(69,80,107)","rgb(72,82,107)","rgb(75,84,107)","rgb(77,86,107)","rgb(80,88,108)","rgb(83,89,108)","rgb(85,91,108)","rgb(88,93,109)","rgb(90,95,109)","rgb(93,96,109)","rgb(95,98,110)","rgb(97,100,110)","rgb(99,102,111)","rgb(101,104,111)","rgb(104,106,112)","rgb(106,108,113)","rgb(108,109,114)","rgb(110,111,114)","rgb(112,113,115)","rgb(115,115,116)","rgb(117,117,117)","rgb(119,119,117)","rgb(122,121,118)","rgb(124,123,119)","rgb(126,125,119)","rgb(129,127,120)","rgb(131,129,120)","rgb(134,131,120)","rgb(136,133,120)","rgb(139,135,120)","rgb(141,137,120)","rgb(144,138,120)","rgb(146,140,120)","rgb(149,142,120)","rgb(152,144,119)","rgb(154,146,119)","rgb(157,149,119)","rgb(159,151,118)","rgb(162,153,118)","rgb(164,155,117)","rgb(167,157,116)","rgb(169,159,116)","rgb(172,161,115)","rgb(175,164,114)","rgb(177,166,114)","rgb(180,168,113)","rgb(183,170,112)","rgb(185,172,111)","rgb(188,174,110)","rgb(191,176,109)","rgb(194,178,108)","rgb(196,181,107)","rgb(199,183,106)","rgb(202,185,105)","rgb(205,188,104)","rgb(208,190,102)","rgb(211,192,101)","rgb(213,195,99)","rgb(216,197,97)","rgb(219,199,96)","rgb(222,201,94)","rgb(224,203,92)","rgb(227,206,90)","rgb(230,209,88)","rgb(233,211,86)","rgb(237,214,84)","rgb(240,216,81)","rgb(243,219,79)","rgb(245,221,77)","rgb(247,223,76)","rgb(249,226,74)","rgb(251,228,72)","rgb(253,231,71)"]},blues:{colors:["rgb(255,255,255)","rgb(246,246,255)","rgb(237,237,255)","rgb(228,228,255)","rgb(219,219,255)","rgb(211,211,255)","rgb(202,202,255)","rgb(193,193,255)","rgb(184,184,255)","rgb(175,175,255)","rgb(167,167,255)","rgb(158,158,255)","rgb(149,149,255)","rgb(140,140,255)","rgb(131,131,255)","rgb(123,123,255)","rgb(114,114,255)","rgb(105,105,255)","rgb(96,96,255)","rgb(87,87,255)","rgb(79,79,255)","rgb(70,70,255)","rgb(61,61,255)","rgb(52,52,255)","rgb(43,43,255)","rgb(35,35,255)","rgb(26,26,255)","rgb(17,17,255)","rgb(8,8,255)","rgb(0,0,255)"]},mapramps:{label:"Map Ramps"},white_blue:{colors:["rgb(244,252,254)","rgb(101,239,255)","rgb(50,227,255)","rgb(0,169,204)","rgb(0,122,153)"]},blue_green:{colors:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},blue_purple:{colors:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},green_blue:{colors:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},orange_red:{colors:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},purple_blue:{colors:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},purple_blue_green:{colors:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},purple_red:{colors:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},red_purple:{colors:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},yellow_green:{colors:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},yellow_green_blue:{colors:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},yellow_orange_brown:{colors:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},yellow_orange_red:{colors:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},oranges:{colors:["#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},purples:{colors:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},reds:{colors:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},greens:{colors:["#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},map_grays:{colors:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},d3_schemeBuGn:{colors:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},d3_schemeBuPu:{colors:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},d3_schemeGnBu:{colors:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},d3_schemeGreens:{colors:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},d3_schemeGreys:{colors:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},d3_schemeOrRd:{colors:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},d3_schemeOranges:{colors:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},d3_schemePuBu:{colors:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},d3_schemePuBuGn:{colors:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},d3_schemePuRd:{colors:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},d3_schemePurples:{colors:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},d3_schemeReds:{colors:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},d3_schemeYlGn:{colors:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},d3_schemeYlGnBu:{colors:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},d3_schemeRdPu:{colors:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},divergent:{label:"Divergent"},red_blue:{colors:["rgb(234,12,48)","rgb(234,12,48)","rgb(234,12,48)","rgb(26,12,234)","rgb(26,12,234)","rgb(26,12,234)"]},blue_red:{colors:["rgb(26,12,234)","rgb(26,12,234)","rgb(26,12,234)","rgb(234,12,48)","rgb(234,12,48)","rgb(234,12,48)"]},blue_white_red:{colors:["rgb(0,0,255)","rgb(2,2,255)","rgb(4,4,255)","rgb(6,6,255)","rgb(8,8,255)","rgb(10,10,255)","rgb(12,12,255)","rgb(14,14,255)","rgb(16,16,255)","rgb(18,18,255)","rgb(20,20,255)","rgb(22,22,255)","rgb(24,24,255)","rgb(26,26,255)","rgb(28,28,255)","rgb(30,30,255)","rgb(32,32,255)","rgb(34,34,255)","rgb(36,36,255)","rgb(38,38,255)","rgb(40,40,255)","rgb(42,42,255)","rgb(44,44,255)","rgb(46,46,255)","rgb(48,48,255)","rgb(50,50,255)","rgb(52,52,255)","rgb(54,54,255)","rgb(56,56,255)","rgb(58,58,255)","rgb(60,60,255)","rgb(62,62,255)","rgb(64,64,255)","rgb(66,66,255)","rgb(68,68,255)","rgb(70,70,255)","rgb(72,72,255)","rgb(74,74,255)","rgb(76,76,255)","rgb(78,78,255)","rgb(80,80,255)","rgb(82,82,255)","rgb(84,84,255)","rgb(86,86,255)","rgb(88,88,255)","rgb(90,90,255)","rgb(92,92,255)","rgb(94,94,255)","rgb(96,96,255)","rgb(98,98,255)","rgb(100,100,255)","rgb(102,102,255)","rgb(104,104,255)","rgb(106,106,255)","rgb(108,108,255)","rgb(110,110,255)","rgb(112,112,255)","rgb(114,114,255)","rgb(116,116,255)","rgb(118,118,255)","rgb(120,120,255)","rgb(122,122,255)","rgb(124,124,255)","rgb(126,126,255)","rgb(128,128,255)","rgb(130,130,255)","rgb(132,132,255)","rgb(134,134,255)","rgb(136,136,255)","rgb(138,138,255)","rgb(140,140,255)","rgb(142,142,255)","rgb(144,144,255)","rgb(146,146,255)","rgb(148,148,255)","rgb(150,150,255)","rgb(152,152,255)","rgb(154,154,255)","rgb(156,156,255)","rgb(158,158,255)","rgb(160,160,255)","rgb(162,162,255)","rgb(164,164,255)","rgb(166,166,255)","rgb(168,168,255)","rgb(170,170,255)","rgb(172,172,255)","rgb(174,174,255)","rgb(176,176,255)","rgb(178,178,255)","rgb(180,180,255)","rgb(182,182,255)","rgb(184,184,255)","rgb(186,186,255)","rgb(188,188,255)","rgb(190,190,255)","rgb(192,192,255)","rgb(194,194,255)","rgb(196,196,255)","rgb(198,198,255)","rgb(200,200,255)","rgb(202,202,255)","rgb(204,204,255)","rgb(206,206,255)","rgb(208,208,255)","rgb(210,210,255)","rgb(212,212,255)","rgb(214,214,255)","rgb(216,216,255)","rgb(218,218,255)","rgb(220,220,255)","rgb(222,222,255)","rgb(224,224,255)","rgb(226,226,255)","rgb(228,228,255)","rgb(230,230,255)","rgb(232,232,255)","rgb(234,234,255)","rgb(236,236,255)","rgb(238,238,255)","rgb(240,240,255)","rgb(242,242,255)","rgb(244,244,255)","rgb(246,246,255)","rgb(248,248,255)","rgb(250,250,255)","rgb(252,252,255)","rgb(252,251,254)","rgb(252,249,252)","rgb(252,247,250)","rgb(252,245,248)","rgb(252,243,246)","rgb(252,241,244)","rgb(252,239,242)","rgb(252,237,240)","rgb(252,235,238)","rgb(252,233,236)","rgb(252,231,234)","rgb(252,229,232)","rgb(252,227,230)","rgb(252,225,228)","rgb(252,223,226)","rgb(252,221,224)","rgb(252,219,222)","rgb(252,217,220)","rgb(252,215,218)","rgb(252,213,216)","rgb(252,211,214)","rgb(252,209,212)","rgb(252,207,210)","rgb(252,205,208)","rgb(252,203,206)","rgb(252,202,204)","rgb(252,200,202)","rgb(252,198,200)","rgb(252,196,198)","rgb(252,194,196)","rgb(252,192,194)","rgb(252,190,192)","rgb(252,188,190)","rgb(252,186,188)","rgb(252,184,186)","rgb(252,182,184)","rgb(252,180,182)","rgb(252,178,180)","rgb(252,176,178)","rgb(252,174,176)","rgb(252,172,174)","rgb(253,170,172)","rgb(253,168,170)","rgb(253,166,168)","rgb(253,164,166)","rgb(253,162,164)","rgb(253,160,162)","rgb(253,158,160)","rgb(253,156,158)","rgb(253,154,156)","rgb(253,153,154)","rgb(253,151,152)","rgb(253,149,150)","rgb(253,147,148)","rgb(253,145,146)","rgb(253,143,144)","rgb(253,141,142)","rgb(253,139,140)","rgb(253,137,138)","rgb(253,135,136)","rgb(253,133,134)","rgb(253,131,132)","rgb(253,129,131)","rgb(253,127,129)","rgb(253,125,127)","rgb(253,123,125)","rgb(253,121,123)","rgb(253,119,121)","rgb(253,117,119)","rgb(253,115,117)","rgb(253,113,115)","rgb(253,111,113)","rgb(253,109,111)","rgb(253,107,109)","rgb(253,105,107)","rgb(253,104,105)","rgb(253,102,103)","rgb(253,100,101)","rgb(253,98,99)","rgb(253,96,97)","rgb(253,94,95)","rgb(253,92,93)","rgb(253,90,91)","rgb(254,88,89)","rgb(254,86,87)","rgb(254,84,85)","rgb(254,82,83)","rgb(254,80,81)","rgb(254,78,79)","rgb(254,76,77)","rgb(254,74,75)","rgb(254,72,73)","rgb(254,70,71)","rgb(254,68,69)","rgb(254,66,67)","rgb(254,64,65)","rgb(254,62,63)","rgb(254,60,61)","rgb(254,58,59)","rgb(254,56,57)","rgb(254,55,55)","rgb(254,53,53)","rgb(254,51,51)","rgb(254,49,49)","rgb(254,47,47)","rgb(254,45,45)","rgb(254,43,43)","rgb(254,41,41)","rgb(254,39,39)","rgb(254,37,37)","rgb(254,35,35)","rgb(254,33,33)","rgb(254,31,31)","rgb(254,29,29)","rgb(254,27,27)","rgb(254,25,25)","rgb(254,23,23)","rgb(254,21,21)","rgb(254,19,19)","rgb(254,17,17)","rgb(254,15,15)","rgb(254,13,13)","rgb(254,11,11)","rgb(254,9,9)"]},red_white_blue:{colors:["rgb(254,9,9)","rgb(254,11,11)","rgb(254,13,13)","rgb(254,15,15)","rgb(254,17,17)","rgb(254,19,19)","rgb(254,21,21)","rgb(254,23,23)","rgb(254,25,25)","rgb(254,27,27)","rgb(254,29,29)","rgb(254,31,31)","rgb(254,33,33)","rgb(254,35,35)","rgb(254,37,37)","rgb(254,39,39)","rgb(254,41,41)","rgb(254,43,43)","rgb(254,45,45)","rgb(254,47,47)","rgb(254,49,49)","rgb(254,51,51)","rgb(254,53,53)","rgb(254,55,55)","rgb(254,56,57)","rgb(254,58,59)","rgb(254,60,61)","rgb(254,62,63)","rgb(254,64,65)","rgb(254,66,67)","rgb(254,68,69)","rgb(254,70,71)","rgb(254,72,73)","rgb(254,74,75)","rgb(254,76,77)","rgb(254,78,79)","rgb(254,80,81)","rgb(254,82,83)","rgb(254,84,85)","rgb(254,86,87)","rgb(254,88,89)","rgb(253,90,91)","rgb(253,92,93)","rgb(253,94,95)","rgb(253,96,97)","rgb(253,98,99)","rgb(253,100,101)","rgb(253,102,103)","rgb(253,104,105)","rgb(253,105,107)","rgb(253,107,109)","rgb(253,109,111)","rgb(253,111,113)","rgb(253,113,115)","rgb(253,115,117)","rgb(253,117,119)","rgb(253,119,121)","rgb(253,121,123)","rgb(253,123,125)","rgb(253,125,127)","rgb(253,127,129)","rgb(253,129,131)","rgb(253,131,132)","rgb(253,133,134)","rgb(253,135,136)","rgb(253,137,138)","rgb(253,139,140)","rgb(253,141,142)","rgb(253,143,144)","rgb(253,145,146)","rgb(253,147,148)","rgb(253,149,150)","rgb(253,151,152)","rgb(253,153,154)","rgb(253,154,156)","rgb(253,156,158)","rgb(253,158,160)","rgb(253,160,162)","rgb(253,162,164)","rgb(253,164,166)","rgb(253,166,168)","rgb(253,168,170)","rgb(253,170,172)","rgb(252,172,174)","rgb(252,174,176)","rgb(252,176,178)","rgb(252,178,180)","rgb(252,180,182)","rgb(252,182,184)","rgb(252,184,186)","rgb(252,186,188)","rgb(252,188,190)","rgb(252,190,192)","rgb(252,192,194)","rgb(252,194,196)","rgb(252,196,198)","rgb(252,198,200)","rgb(252,200,202)","rgb(252,202,204)","rgb(252,203,206)","rgb(252,205,208)","rgb(252,207,210)","rgb(252,209,212)","rgb(252,211,214)","rgb(252,213,216)","rgb(252,215,218)","rgb(252,217,220)","rgb(252,219,222)","rgb(252,221,224)","rgb(252,223,226)","rgb(252,225,228)","rgb(252,227,230)","rgb(252,229,232)","rgb(252,231,234)","rgb(252,233,236)","rgb(252,235,238)","rgb(252,237,240)","rgb(252,239,242)","rgb(252,241,244)","rgb(252,243,246)","rgb(252,245,248)","rgb(252,247,250)","rgb(252,249,252)","rgb(252,251,254)","rgb(252,252,255)","rgb(250,250,255)","rgb(248,248,255)","rgb(246,246,255)","rgb(244,244,255)","rgb(242,242,255)","rgb(240,240,255)","rgb(238,238,255)","rgb(236,236,255)","rgb(234,234,255)","rgb(232,232,255)","rgb(230,230,255)","rgb(228,228,255)","rgb(226,226,255)","rgb(224,224,255)","rgb(222,222,255)","rgb(220,220,255)","rgb(218,218,255)","rgb(216,216,255)","rgb(214,214,255)","rgb(212,212,255)","rgb(210,210,255)","rgb(208,208,255)","rgb(206,206,255)","rgb(204,204,255)","rgb(202,202,255)","rgb(200,200,255)","rgb(198,198,255)","rgb(196,196,255)","rgb(194,194,255)","rgb(192,192,255)","rgb(190,190,255)","rgb(188,188,255)","rgb(186,186,255)","rgb(184,184,255)","rgb(182,182,255)","rgb(180,180,255)","rgb(178,178,255)","rgb(176,176,255)","rgb(174,174,255)","rgb(172,172,255)","rgb(170,170,255)","rgb(168,168,255)","rgb(166,166,255)","rgb(164,164,255)","rgb(162,162,255)","rgb(160,160,255)","rgb(158,158,255)","rgb(156,156,255)","rgb(154,154,255)","rgb(152,152,255)","rgb(150,150,255)","rgb(148,148,255)","rgb(146,146,255)","rgb(144,144,255)","rgb(142,142,255)","rgb(140,140,255)","rgb(138,138,255)","rgb(136,136,255)","rgb(134,134,255)","rgb(132,132,255)","rgb(130,130,255)","rgb(128,128,255)","rgb(126,126,255)","rgb(124,124,255)","rgb(122,122,255)","rgb(120,120,255)","rgb(118,118,255)","rgb(116,116,255)","rgb(114,114,255)","rgb(112,112,255)","rgb(110,110,255)","rgb(108,108,255)","rgb(106,106,255)","rgb(104,104,255)","rgb(102,102,255)","rgb(100,100,255)","rgb(98,98,255)","rgb(96,96,255)","rgb(94,94,255)","rgb(92,92,255)","rgb(90,90,255)","rgb(88,88,255)","rgb(86,86,255)","rgb(84,84,255)","rgb(82,82,255)","rgb(80,80,255)","rgb(78,78,255)","rgb(76,76,255)","rgb(74,74,255)","rgb(72,72,255)","rgb(70,70,255)","rgb(68,68,255)","rgb(66,66,255)","rgb(64,64,255)","rgb(62,62,255)","rgb(60,60,255)","rgb(58,58,255)","rgb(56,56,255)","rgb(54,54,255)","rgb(52,52,255)","rgb(50,50,255)","rgb(48,48,255)","rgb(46,46,255)","rgb(44,44,255)","rgb(42,42,255)","rgb(40,40,255)","rgb(38,38,255)","rgb(36,36,255)","rgb(34,34,255)","rgb(32,32,255)","rgb(30,30,255)","rgb(28,28,255)","rgb(26,26,255)","rgb(24,24,255)","rgb(22,22,255)","rgb(20,20,255)","rgb(18,18,255)","rgb(16,16,255)","rgb(14,14,255)","rgb(12,12,255)","rgb(10,10,255)","rgb(8,8,255)","rgb(6,6,255)","rgb(4,4,255)","rgb(2,2,255)","rgb(0,0,255)"]},plotly_rdbu:{colors:["rgb(5,10,172)","rgb(8,14,174)","rgb(11,17,176)","rgb(14,21,178)","rgb(17,25,181)","rgb(19,28,183)","rgb(22,32,185)","rgb(25,35,187)","rgb(28,39,189)","rgb(31,43,191)","rgb(34,46,193)","rgb(37,50,196)","rgb(40,54,198)","rgb(43,57,200)","rgb(45,61,202)","rgb(48,64,204)","rgb(51,68,206)","rgb(54,72,208)","rgb(57,75,211)","rgb(60,79,213)","rgb(63,83,215)","rgb(66,86,217)","rgb(68,90,219)","rgb(71,93,221)","rgb(74,97,223)","rgb(77,101,226)","rgb(80,104,228)","rgb(83,108,230)","rgb(86,112,232)","rgb(89,115,234)","rgb(92,119,236)","rgb(94,122,238)","rgb(97,126,241)","rgb(100,130,243)","rgb(103,133,245)","rgb(106,137,247)","rgb(112,141,243)","rgb(117,144,239)","rgb(123,148,236)","rgb(128,151,232)","rgb(134,155,228)","rgb(140,158,224)","rgb(145,162,220)","rgb(151,165,217)","rgb(156,169,213)","rgb(162,172,209)","rgb(168,176,205)","rgb(173,179,201)","rgb(179,183,198)","rgb(184,186,194)","rgb(190,190,190)","rgb(193,188,184)","rgb(196,186,178)","rgb(199,184,173)","rgb(202,182,167)","rgb(205,180,161)","rgb(208,178,155)","rgb(211,176,149)","rgb(214,174,144)","rgb(217,172,138)","rgb(220,170,132)","rgb(221,167,128)","rgb(222,165,124)","rgb(223,162,119)","rgb(224,160,115)","rgb(225,157,111)","rgb(226,155,107)","rgb(227,152,103)","rgb(228,150,98)","rgb(229,147,94)","rgb(230,145,90)","rgb(228,140,88)","rgb(227,136,86)","rgb(225,131,84)","rgb(223,127,82)","rgb(221,122,80)","rgb(220,118,78)","rgb(218,113,76)","rgb(216,109,73)","rgb(214,104,71)","rgb(213,100,69)","rgb(211,95,67)","rgb(209,91,65)","rgb(207,86,63)","rgb(206,82,61)","rgb(204,77,59)","rgb(202,73,57)","rgb(201,68,55)","rgb(199,64,53)","rgb(197,59,51)","rgb(195,55,49)","rgb(194,50,47)","rgb(192,46,45)","rgb(190,41,42)","rgb(188,37,40)","rgb(187,32,38)","rgb(185,28,36)","rgb(183,23,34)","rgb(181,19,32)","rgb(180,14,30)"]},blue_green_red:{colors:["rgb(0,0,255)","rgb(8,17,246)","rgb(17,35,237)","rgb(26,52,228)","rgb(35,70,219)","rgb(43,87,211)","rgb(52,105,202)","rgb(61,123,193)","rgb(70,140,184)","rgb(79,158,175)","rgb(87,175,167)","rgb(96,193,158)","rgb(105,211,149)","rgb(114,228,140)","rgb(123,246,131)","rgb(131,246,123)","rgb(140,228,114)","rgb(149,211,105)","rgb(158,193,96)","rgb(167,175,87)","rgb(175,158,79)","rgb(184,140,70)","rgb(193,123,61)","rgb(202,105,52)","rgb(211,87,43)","rgb(219,70,35)","rgb(228,52,26)","rgb(237,35,17)","rgb(246,17,8)","rgb(255,0,0)"]},red_green_blue:{colors:["rgb(255,0,0)","rgb(246,17,8)","rgb(237,35,17)","rgb(228,52,26)","rgb(219,70,35)","rgb(211,87,43)","rgb(202,105,52)","rgb(193,123,61)","rgb(184,140,70)","rgb(175,158,79)","rgb(167,175,87)","rgb(158,193,96)","rgb(149,211,105)","rgb(140,228,114)","rgb(131,246,123)","rgb(123,246,131)","rgb(114,228,140)","rgb(105,211,149)","rgb(96,193,158)","rgb(87,175,167)","rgb(79,158,175)","rgb(70,140,184)","rgb(61,123,193)","rgb(52,105,202)","rgb(43,87,211)","rgb(35,70,219)","rgb(26,52,228)","rgb(17,35,237)","rgb(8,17,246)","rgb(0,0,255)"]},d3_schemeBrBG:{colors:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},d3_schemePRGn:{colors:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},d3_schemePiYG:{colors:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},d3_schemePuOr:{colors:["#2d004b","#542788","#8073ac","#b2abd2","#d8daeb","#f7f7f7","#fee0b6","#fdb863","#e08214","#b35806","#7f3b08"]},d3_schemeRdYlBu:{colors:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},d3_schemeRdBu:{colors:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},d3_schemeRdGy:{colors:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},d3_schemeRdYlGn:{colors:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},d3_schemeSpectral:{colors:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},categorical:{label:"Categorical"},rainbow:{colors:["red","orange","yellow","green","blue","indigo","violet"]},cats:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf","#12649f","#ffd800","#DFA25A","#4B0082","#7BCCC4","#ADDD8E"]},nice:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]},nice2:{colors:["#1f77b4","#ff7f0e"]},nice3:{colors:["#1f77b4","#ff7f0e","#2ca02c"]},nice4:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728"]},nice5:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd"]},nice6:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b"]},nice7:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2"]},nice8:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f"]},nice9:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#1B1B1B"]},nice10:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#A0CBE8","#4B0082"]},schemecategory:{colors:["rgb(31, 119, 180)","rgb(255, 127, 14)","rgb(44, 160, 44)","rgb(214, 39, 40)","rgb(148, 103, 189)","rgb(140, 86, 75)","rgb(227, 119, 194)","rgb(127, 127, 127)","rgb(188, 189, 34)"]},schemeaccent:{colors:["rgb(127, 201, 127)","rgb(190, 174, 212)","rgb(253, 192, 134)","rgb(255, 255, 153)","rgb(56, 108, 176)","rgb(240, 2, 127)","rgb(191, 91, 23)","rgb(102, 102, 102)"]},schemedark:{colors:["rgb(27, 158, 119)","rgb(217, 95, 2)","rgb(117, 112, 179)","rgb(231, 41, 138)","rgb(102, 166, 30)","rgb(230, 171, 2)","rgb(166, 118, 29)","rgb(102, 102, 102)"]},schemeset1:{colors:["rgb(228, 26, 28)","rgb(55, 126, 184)","rgb(77, 175, 74)","rgb(152, 78, 163)","rgb(255, 127, 0)","rgb(166, 86, 40)","rgb(247, 129, 191)","rgb(153, 153, 153)"]},schemeset2:{colors:["rgb(141, 211, 199)","rgb(255, 255, 179)","rgb(190, 186, 218)","rgb(251, 128, 114)","rgb(128, 177, 211)","rgb(253, 180, 98)","rgb(179, 222, 105)","rgb(252, 205, 229)","rgb(217, 217, 217)","rgb(188, 128, 189)","rgb(204, 235, 197)","rgb(255, 237, 111)"]},d3_schemeAccent:{colors:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},d3_schemeCategory10:{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]},d3_schemePaired:{colors:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},d3_schemePastel1:{colors:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},d3_schemePastel2:{colors:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},googlecharts:{colors:["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"]},d3_schemeDark2:{colors:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},d3_schemeTableau10:{colors:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"]},d3_schemeCategory20b:{colors:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"]},d3_schemeCategory20c:{colors:["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]},d3_schemeCategory20:{colors:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]},mixed:{label:"Mixed"},plotly_picnic:{colors:["rgb(0,0,255)","rgb(5,15,255)","rgb(10,31,255)","rgb(15,46,255)","rgb(20,61,255)","rgb(26,77,255)","rgb(31,92,255)","rgb(36,107,255)","rgb(41,122,255)","rgb(46,138,255)","rgb(51,153,255)","rgb(56,158,255)","rgb(61,163,255)","rgb(66,168,255)","rgb(71,173,255)","rgb(77,179,255)","rgb(82,184,255)","rgb(87,189,255)","rgb(92,194,255)","rgb(97,199,255)","rgb(102,204,255)","rgb(107,204,255)","rgb(112,204,255)","rgb(117,204,255)","rgb(122,204,255)","rgb(128,204,255)","rgb(133,204,255)","rgb(138,204,255)","rgb(143,204,255)","rgb(148,204,255)","rgb(153,204,255)","rgb(158,204,255)","rgb(163,204,255)","rgb(168,204,255)","rgb(173,204,255)","rgb(179,204,255)","rgb(184,204,255)","rgb(189,204,255)","rgb(194,204,255)","rgb(199,204,255)","rgb(204,204,255)","rgb(209,209,255)","rgb(214,214,255)","rgb(219,219,255)","rgb(224,224,255)","rgb(230,230,255)","rgb(235,235,255)","rgb(240,240,255)","rgb(245,245,255)","rgb(250,250,255)","rgb(255,255,255)","rgb(255,250,255)","rgb(255,245,255)","rgb(255,240,255)","rgb(255,235,255)","rgb(255,229,255)","rgb(255,224,255)","rgb(255,219,255)","rgb(255,214,255)","rgb(255,209,255)","rgb(255,204,255)","rgb(255,199,255)","rgb(255,194,255)","rgb(255,189,255)","rgb(255,184,255)","rgb(255,178,255)","rgb(255,173,255)","rgb(255,168,255)","rgb(255,163,255)","rgb(255,158,255)","rgb(255,153,255)","rgb(255,148,250)","rgb(255,143,245)","rgb(255,138,240)","rgb(255,133,235)","rgb(255,127,229)","rgb(255,122,224)","rgb(255,117,219)","rgb(255,112,214)","rgb(255,107,209)","rgb(255,102,204)","rgb(255,102,194)","rgb(255,102,184)","rgb(255,102,173)","rgb(255,102,163)","rgb(255,102,153)","rgb(255,102,143)","rgb(255,102,133)","rgb(255,102,122)","rgb(255,102,112)","rgb(255,102,102)","rgb(255,92,92)","rgb(255,82,82)","rgb(255,71,71)","rgb(255,61,61)","rgb(255,51,51)","rgb(255,41,41)","rgb(255,31,31)","rgb(255,20,20)","rgb(255,10,10)"]},plotly_rainbow:{colors:["rgb(150,0,90)","rgb(138,0,99)","rgb(126,0,108)","rgb(114,0,116)","rgb(102,0,125)","rgb(90,0,134)","rgb(78,0,143)","rgb(66,0,152)","rgb(54,0,160)","rgb(42,0,169)","rgb(30,0,178)","rgb(18,0,187)","rgb(6,0,196)","rgb(0,1,202)","rgb(0,3,207)","rgb(0,5,211)","rgb(0,7,215)","rgb(0,9,220)","rgb(0,11,224)","rgb(0,13,229)","rgb(0,15,233)","rgb(0,17,237)","rgb(0,19,242)","rgb(0,21,246)","rgb(0,23,251)","rgb(0,25,255)","rgb(0,35,255)","rgb(0,45,255)","rgb(0,55,255)","rgb(0,66,255)","rgb(0,76,255)","rgb(0,86,255)","rgb(0,96,255)","rgb(0,106,255)","rgb(0,116,255)","rgb(0,127,255)","rgb(0,137,255)","rgb(0,147,255)","rgb(2,156,251)","rgb(5,164,242)","rgb(9,173,234)","rgb(12,181,226)","rgb(16,189,217)","rgb(19,197,209)","rgb(23,206,200)","rgb(26,214,192)","rgb(30,222,184)","rgb(33,230,175)","rgb(37,239,167)","rgb(40,247,158)","rgb(44,255,150)","rgb(53,255,138)","rgb(61,255,126)","rgb(70,255,114)","rgb(78,255,102)","rgb(87,255,90)","rgb(95,255,78)","rgb(104,255,66)","rgb(112,255,54)","rgb(121,255,42)","rgb(130,255,30)","rgb(138,255,18)","rgb(147,255,6)","rgb(155,254,0)","rgb(163,252,0)","rgb(172,251,0)","rgb(180,249,0)","rgb(188,247,0)","rgb(197,246,0)","rgb(205,244,0)","rgb(213,242,0)","rgb(222,241,0)","rgb(230,239,0)","rgb(238,237,0)","rgb(247,236,0)","rgb(255,234,0)","rgb(255,224,0)","rgb(255,214,0)","rgb(255,204,0)","rgb(255,195,0)","rgb(255,185,0)","rgb(255,175,0)","rgb(255,165,0)","rgb(255,155,0)","rgb(255,145,0)","rgb(255,136,0)","rgb(255,126,0)","rgb(255,116,0)","rgb(255,107,0)","rgb(255,98,0)","rgb(255,89,0)","rgb(255,80,0)","rgb(255,71,0)","rgb(255,62,0)","rgb(255,53,0)","rgb(255,44,0)","rgb(255,36,0)","rgb(255,27,0)","rgb(255,18,0)","rgb(255,9,0)"]},plotly_portland:{colors:["rgb(12,51,131)","rgb(12,54,133)","rgb(12,58,135)","rgb(12,61,138)","rgb(12,65,140)","rgb(12,68,142)","rgb(12,71,144)","rgb(11,75,146)","rgb(11,78,149)","rgb(11,82,151)","rgb(11,85,153)","rgb(11,88,155)","rgb(11,92,157)","rgb(11,95,160)","rgb(11,99,162)","rgb(11,102,164)","rgb(11,105,166)","rgb(11,109,168)","rgb(11,112,171)","rgb(10,116,173)","rgb(10,119,175)","rgb(10,122,177)","rgb(10,126,179)","rgb(10,129,182)","rgb(10,133,184)","rgb(10,136,186)","rgb(19,139,181)","rgb(29,142,176)","rgb(38,145,170)","rgb(47,148,165)","rgb(56,151,160)","rgb(66,154,155)","rgb(75,157,150)","rgb(84,160,144)","rgb(94,163,139)","rgb(103,166,134)","rgb(112,169,129)","rgb(121,172,124)","rgb(131,175,118)","rgb(140,178,113)","rgb(149,181,108)","rgb(158,184,103)","rgb(168,187,98)","rgb(177,190,92)","rgb(186,193,87)","rgb(196,196,82)","rgb(205,199,77)","rgb(214,202,72)","rgb(223,205,66)","rgb(233,208,61)","rgb(242,211,56)","rgb(242,208,56)","rgb(242,206,56)","rgb(242,203,56)","rgb(242,200,56)","rgb(242,197,56)","rgb(242,195,56)","rgb(242,192,56)","rgb(242,189,56)","rgb(242,187,56)","rgb(242,184,56)","rgb(242,181,56)","rgb(242,178,56)","rgb(242,176,56)","rgb(242,173,56)","rgb(242,170,56)","rgb(242,167,56)","rgb(242,165,56)","rgb(242,162,56)","rgb(242,159,56)","rgb(242,157,56)","rgb(242,154,56)","rgb(242,151,56)","rgb(242,148,56)","rgb(242,146,56)","rgb(242,143,56)","rgb(241,138,55)","rgb(240,134,54)","rgb(239,129,53)","rgb(238,125,52)","rgb(237,120,51)","rgb(236,116,50)","rgb(235,111,49)","rgb(234,107,48)","rgb(233,102,47)","rgb(232,98,46)","rgb(231,93,45)","rgb(230,89,44)","rgb(229,84,42)","rgb(228,80,41)","rgb(227,75,40)","rgb(226,71,39)","rgb(225,66,38)","rgb(224,62,37)","rgb(223,57,36)","rgb(222,53,35)","rgb(221,48,34)","rgb(220,44,33)","rgb(219,39,32)","rgb(218,35,31)"]},plotly_jet:{colors:["rgb(0,0,131)","rgb(0,5,134)","rgb(0,10,137)","rgb(0,14,140)","rgb(0,19,143)","rgb(0,24,147)","rgb(0,29,150)","rgb(0,34,153)","rgb(0,38,156)","rgb(0,43,159)","rgb(0,48,162)","rgb(0,53,165)","rgb(0,58,168)","rgb(0,64,172)","rgb(0,72,175)","rgb(0,80,179)","rgb(1,87,182)","rgb(1,95,185)","rgb(1,103,189)","rgb(1,111,192)","rgb(2,119,196)","rgb(2,126,199)","rgb(2,134,202)","rgb(2,142,206)","rgb(2,150,209)","rgb(3,158,213)","rgb(3,165,216)","rgb(3,173,219)","rgb(3,181,223)","rgb(3,189,226)","rgb(4,197,230)","rgb(4,204,233)","rgb(4,212,236)","rgb(4,220,240)","rgb(4,228,243)","rgb(5,236,247)","rgb(5,243,250)","rgb(5,251,253)","rgb(10,255,250)","rgb(20,255,240)","rgb(30,255,229)","rgb(40,255,219)","rgb(50,255,209)","rgb(60,255,199)","rgb(70,255,189)","rgb(80,255,178)","rgb(90,255,168)","rgb(100,255,158)","rgb(110,255,148)","rgb(120,255,138)","rgb(130,255,127)","rgb(140,255,117)","rgb(150,255,107)","rgb(160,255,97)","rgb(170,255,87)","rgb(180,255,76)","rgb(190,255,66)","rgb(200,255,56)","rgb(210,255,46)","rgb(220,255,36)","rgb(230,255,25)","rgb(240,255,15)","rgb(250,255,5)","rgb(255,250,0)","rgb(255,240,0)","rgb(255,229,0)","rgb(254,219,0)","rgb(254,209,0)","rgb(254,199,0)","rgb(254,189,0)","rgb(254,178,0)","rgb(253,168,0)","rgb(253,158,0)","rgb(253,148,0)","rgb(253,138,0)","rgb(253,127,0)","rgb(252,117,0)","rgb(252,107,0)","rgb(252,97,0)","rgb(252,87,0)","rgb(252,76,0)","rgb(251,66,0)","rgb(251,56,0)","rgb(251,46,0)","rgb(251,36,0)","rgb(251,25,0)","rgb(250,15,0)","rgb(250,5,0)","rgb(245,0,0)","rgb(235,0,0)","rgb(226,0,0)","rgb(216,0,0)","rgb(206,0,0)","rgb(196,0,0)","rgb(187,0,0)","rgb(177,0,0)","rgb(167,0,0)","rgb(157,0,0)","rgb(148,0,0)","rgb(138,0,0)"]},plotly_hot:{colors:["rgb(0,0,0)","rgb(8,0,0)","rgb(15,0,0)","rgb(23,0,0)","rgb(31,0,0)","rgb(38,0,0)","rgb(46,0,0)","rgb(54,0,0)","rgb(61,0,0)","rgb(69,0,0)","rgb(77,0,0)","rgb(84,0,0)","rgb(92,0,0)","rgb(100,0,0)","rgb(107,0,0)","rgb(115,0,0)","rgb(123,0,0)","rgb(130,0,0)","rgb(138,0,0)","rgb(146,0,0)","rgb(153,0,0)","rgb(161,0,0)","rgb(169,0,0)","rgb(176,0,0)","rgb(184,0,0)","rgb(192,0,0)","rgb(199,0,0)","rgb(207,0,0)","rgb(215,0,0)","rgb(222,0,0)","rgb(230,0,0)","rgb(231,7,0)","rgb(232,14,0)","rgb(233,21,0)","rgb(233,28,0)","rgb(234,35,0)","rgb(235,42,0)","rgb(236,49,0)","rgb(237,56,0)","rgb(238,63,0)","rgb(238,70,0)","rgb(239,77,0)","rgb(240,84,0)","rgb(241,91,0)","rgb(242,98,0)","rgb(243,105,0)","rgb(243,112,0)","rgb(244,119,0)","rgb(245,126,0)","rgb(246,133,0)","rgb(247,140,0)","rgb(248,147,0)","rgb(248,154,0)","rgb(249,161,0)","rgb(250,168,0)","rgb(251,175,0)","rgb(252,182,0)","rgb(253,189,0)","rgb(253,196,0)","rgb(254,203,0)","rgb(255,210,0)","rgb(255,211,6)","rgb(255,212,13)","rgb(255,213,19)","rgb(255,215,26)","rgb(255,216,32)","rgb(255,217,38)","rgb(255,218,45)","rgb(255,219,51)","rgb(255,220,57)","rgb(255,221,64)","rgb(255,222,70)","rgb(255,224,77)","rgb(255,225,83)","rgb(255,226,89)","rgb(255,227,96)","rgb(255,228,102)","rgb(255,229,108)","rgb(255,230,115)","rgb(255,231,121)","rgb(255,233,128)","rgb(255,234,134)","rgb(255,235,140)","rgb(255,236,147)","rgb(255,237,153)","rgb(255,238,159)","rgb(255,239,166)","rgb(255,240,172)","rgb(255,242,179)","rgb(255,243,185)","rgb(255,244,191)","rgb(255,245,198)","rgb(255,246,204)","rgb(255,247,210)","rgb(255,248,217)","rgb(255,249,223)","rgb(255,251,230)","rgb(255,252,236)","rgb(255,253,242)","rgb(255,254,249)"]},plotly_blackbody:{colors:["rgb(0,0,0)","rgb(11,0,0)","rgb(23,0,0)","rgb(35,0,0)","rgb(46,0,0)","rgb(58,0,0)","rgb(69,0,0)","rgb(81,0,0)","rgb(92,0,0)","rgb(103,0,0)","rgb(115,0,0)","rgb(126,0,0)","rgb(138,0,0)","rgb(149,0,0)","rgb(161,0,0)","rgb(172,0,0)","rgb(184,0,0)","rgb(196,0,0)","rgb(207,0,0)","rgb(219,0,0)","rgb(230,0,0)","rgb(230,11,0)","rgb(230,21,0)","rgb(230,32,0)","rgb(230,42,0)","rgb(230,53,0)","rgb(230,63,0)","rgb(230,74,0)","rgb(230,84,0)","rgb(230,95,0)","rgb(230,105,0)","rgb(230,116,0)","rgb(230,126,0)","rgb(230,137,0)","rgb(230,147,0)","rgb(230,158,0)","rgb(230,168,0)","rgb(230,179,0)","rgb(230,189,0)","rgb(230,200,0)","rgb(230,210,0)","rgb(231,212,9)","rgb(232,213,17)","rgb(233,215,26)","rgb(233,216,34)","rgb(234,218,43)","rgb(235,219,51)","rgb(236,221,60)","rgb(237,222,68)","rgb(238,224,77)","rgb(238,225,85)","rgb(239,227,94)","rgb(240,228,102)","rgb(241,230,111)","rgb(242,231,119)","rgb(243,233,128)","rgb(243,234,136)","rgb(244,236,145)","rgb(245,237,153)","rgb(246,239,162)","rgb(247,240,170)","rgb(248,242,179)","rgb(248,243,187)","rgb(249,245,196)","rgb(250,246,204)","rgb(251,248,213)","rgb(252,249,221)","rgb(253,251,230)","rgb(253,252,238)","rgb(254,254,247)","rgb(255,255,255)","rgb(252,253,255)","rgb(249,251,255)","rgb(245,249,255)","rgb(242,248,255)","rgb(239,246,255)","rgb(236,244,255)","rgb(233,242,255)","rgb(230,240,255)","rgb(226,238,255)","rgb(223,237,255)","rgb(220,235,255)","rgb(217,233,255)","rgb(214,231,255)","rgb(211,229,255)","rgb(207,227,255)","rgb(204,226,255)","rgb(201,224,255)","rgb(198,222,255)","rgb(195,220,255)","rgb(192,218,255)","rgb(188,216,255)","rgb(185,215,255)","rgb(182,213,255)","rgb(179,211,255)","rgb(176,209,255)","rgb(173,207,255)","rgb(169,205,255)","rgb(166,204,255)","rgb(163,202,255)"]},bright38:{colors:["rgb(254,0,225)","rgb(188,0,254)","rgb(165,0,254)","rgb(134,0,254)","rgb(111,0,254)","rgb(81,0,254)","rgb(58,0,254)","rgb(28,0,254)","rgb(0,2,254)","rgb(0,33,254)","rgb(0,56,254)","rgb(0,78,254)","rgb(0,139,254)","rgb(0,169,254)","rgb(0,208,254)","rgb(0,231,254)","rgb(0,254,231)","rgb(0,254,200)","rgb(0,254,169)","rgb(0,254,139)","rgb(0,254,109)","rgb(0,254,79)","rgb(0,254,39)","rgb(0,254,0)","rgb(42,254,0)","rgb(88,254,0)","rgb(126,254,0)","rgb(164,254,0)","rgb(195,254,0)","rgb(226,254,0)","rgb(254,243,0)","rgb(254,199,0)","rgb(254,167,0)","rgb(254,137,0)","rgb(254,106,0)","rgb(254,68,0)","rgb(254,30,0)","rgb(254,0,0)"]},misc:{label:"Earth"},plotly_earth:{colors:["rgb(0,0,130)","rgb(0,18,135)","rgb(0,36,140)","rgb(0,54,145)","rgb(0,72,150)","rgb(0,90,155)","rgb(0,108,160)","rgb(0,126,165)","rgb(0,144,170)","rgb(0,162,175)","rgb(0,180,180)","rgb(4,183,166)","rgb(8,186,152)","rgb(12,189,138)","rgb(16,192,124)","rgb(20,195,110)","rgb(24,198,96)","rgb(28,201,82)","rgb(32,204,68)","rgb(36,207,54)","rgb(40,210,40)","rgb(50,211,41)","rgb(59,212,41)","rgb(69,213,42)","rgb(78,214,42)","rgb(88,215,43)","rgb(97,216,43)","rgb(107,217,44)","rgb(116,218,44)","rgb(126,219,45)","rgb(135,220,45)","rgb(145,221,46)","rgb(154,222,46)","rgb(164,223,47)","rgb(173,224,47)","rgb(183,225,48)","rgb(192,226,48)","rgb(202,227,49)","rgb(211,228,49)","rgb(221,229,50)","rgb(230,230,50)","rgb(224,222,48)","rgb(219,214,47)","rgb(213,206,45)","rgb(208,198,44)","rgb(202,190,42)","rgb(197,182,41)","rgb(191,174,39)","rgb(186,166,38)","rgb(180,158,36)","rgb(175,150,35)","rgb(169,142,33)","rgb(164,134,32)","rgb(158,126,30)","rgb(153,118,29)","rgb(147,110,27)","rgb(142,102,26)","rgb(136,94,24)","rgb(131,86,23)","rgb(125,78,21)","rgb(120,70,20)","rgb(123,75,26)","rgb(127,79,32)","rgb(130,84,38)","rgb(134,89,44)","rgb(137,93,49)","rgb(140,98,55)","rgb(144,102,61)","rgb(147,107,67)","rgb(150,112,73)","rgb(154,116,79)","rgb(157,121,85)","rgb(161,126,91)","rgb(164,130,96)","rgb(167,135,102)","rgb(171,139,108)","rgb(174,144,114)","rgb(177,149,120)","rgb(181,153,126)","rgb(184,158,132)","rgb(188,163,138)","rgb(191,167,143)","rgb(194,172,149)","rgb(198,176,155)","rgb(201,181,161)","rgb(204,186,167)","rgb(208,190,173)","rgb(211,195,179)","rgb(215,200,185)","rgb(218,204,190)","rgb(221,209,196)","rgb(225,213,202)","rgb(228,218,208)","rgb(231,223,214)","rgb(235,227,220)","rgb(238,232,226)","rgb(242,237,232)","rgb(245,241,237)","rgb(248,246,243)","rgb(252,250,249)"]},topographic:{colors:["rgb(20,170,42)","rgb(20,170,42)","rgb(27,174,35)","rgb(35,179,28)","rgb(43,184,22)","rgb(51,188,15)","rgb(59,193,9)","rgb(67,198,2)","rgb(70,200,0)","rgb(71,199,0)","rgb(72,199,1)","rgb(73,198,1)","rgb(74,198,2)","rgb(75,197,2)","rgb(76,197,3)","rgb(78,197,3)","rgb(79,196,4)","rgb(80,196,4)","rgb(81,195,5)","rgb(82,195,5)","rgb(83,194,6)","rgb(85,194,6)","rgb(86,194,7)","rgb(87,193,7)","rgb(88,193,8)","rgb(89,192,8)","rgb(90,192,9)","rgb(92,191,9)","rgb(93,191,10)","rgb(94,191,10)","rgb(95,190,11)","rgb(96,190,11)","rgb(97,189,12)","rgb(98,189,12)","rgb(100,188,13)","rgb(101,188,13)","rgb(102,188,14)","rgb(103,187,14)","rgb(104,187,15)","rgb(105,186,15)","rgb(107,186,16)","rgb(108,185,16)","rgb(109,185,17)","rgb(110,185,17)","rgb(111,184,18)","rgb(112,184,18)","rgb(114,183,19)","rgb(115,183,19)","rgb(116,182,20)","rgb(117,182,21)","rgb(118,182,21)","rgb(119,181,22)","rgb(120,181,22)","rgb(122,180,23)","rgb(123,180,23)","rgb(124,179,24)","rgb(125,179,24)","rgb(126,179,25)","rgb(127,178,25)","rgb(129,178,26)","rgb(130,177,26)","rgb(131,177,27)","rgb(132,176,27)","rgb(133,176,28)","rgb(134,176,28)","rgb(136,175,29)","rgb(137,175,29)","rgb(138,174,30)","rgb(139,174,30)","rgb(140,173,31)","rgb(141,173,31)","rgb(143,173,32)","rgb(144,172,32)","rgb(145,172,33)","rgb(146,171,33)","rgb(147,171,34)","rgb(148,170,34)","rgb(149,170,35)","rgb(151,170,35)","rgb(152,169,36)","rgb(153,169,36)","rgb(154,168,37)","rgb(155,168,37)","rgb(156,167,38)","rgb(158,167,38)","rgb(159,167,39)","rgb(160,166,39)","rgb(161,166,40)","rgb(162,165,40)","rgb(163,165,41)","rgb(165,165,42)","rgb(165,165,42)","rgb(165,165,43)","rgb(165,165,44)","rgb(165,165,45)","rgb(166,166,46)","rgb(166,166,47)","rgb(166,166,48)","rgb(166,166,49)","rgb(166,166,50)","rgb(167,167,51)","rgb(167,167,52)","rgb(167,167,53)","rgb(167,167,54)","rgb(167,167,55)","rgb(168,168,56)","rgb(168,168,57)","rgb(168,168,58)","rgb(168,168,59)","rgb(169,169,60)","rgb(169,169,61)","rgb(169,169,62)","rgb(169,169,63)","rgb(169,169,64)","rgb(170,170,65)","rgb(170,170,66)","rgb(170,170,67)","rgb(170,170,68)","rgb(170,170,68)","rgb(171,171,69)","rgb(171,171,70)","rgb(171,171,71)","rgb(171,171,72)","rgb(172,172,73)","rgb(172,172,74)","rgb(172,172,75)","rgb(172,172,76)","rgb(172,172,77)","rgb(173,173,78)","rgb(173,173,79)","rgb(173,173,80)","rgb(173,173,81)","rgb(173,173,82)","rgb(174,174,83)","rgb(174,174,84)","rgb(174,174,85)","rgb(174,174,86)","rgb(175,175,87)","rgb(175,175,88)","rgb(175,175,89)","rgb(175,175,90)","rgb(175,175,91)","rgb(176,176,92)","rgb(176,176,93)","rgb(176,176,94)","rgb(176,176,95)","rgb(176,176,95)","rgb(177,177,96)","rgb(177,177,97)","rgb(177,177,98)","rgb(177,177,99)","rgb(178,178,100)","rgb(178,178,101)","rgb(178,178,102)","rgb(178,178,103)","rgb(178,178,104)","rgb(179,179,105)","rgb(179,179,106)","rgb(179,179,107)","rgb(179,179,108)","rgb(179,179,109)","rgb(180,180,110)","rgb(180,180,111)","rgb(180,180,112)","rgb(180,180,113)","rgb(181,181,114)","rgb(181,181,115)","rgb(181,181,116)","rgb(181,181,117)","rgb(181,181,118)","rgb(182,182,119)","rgb(182,182,120)","rgb(182,182,121)","rgb(182,182,121)","rgb(182,182,122)","rgb(183,183,123)","rgb(183,183,124)","rgb(183,183,125)","rgb(183,183,126)","rgb(184,184,127)","rgb(184,184,128)","rgb(184,184,129)","rgb(184,184,130)","rgb(184,184,131)","rgb(185,185,132)","rgb(185,185,133)","rgb(185,185,134)","rgb(185,185,135)","rgb(185,185,136)","rgb(186,186,137)","rgb(186,186,138)","rgb(186,186,139)","rgb(186,186,140)","rgb(186,186,141)","rgb(187,187,142)","rgb(187,187,143)","rgb(187,187,144)","rgb(187,187,145)","rgb(188,188,146)","rgb(188,188,147)","rgb(188,188,148)","rgb(188,188,148)","rgb(188,188,149)","rgb(189,189,150)","rgb(189,189,151)","rgb(189,189,152)","rgb(189,189,153)","rgb(189,189,154)","rgb(190,190,155)","rgb(190,190,156)","rgb(190,190,157)","rgb(190,190,158)","rgb(191,191,159)","rgb(191,191,160)","rgb(191,191,161)","rgb(191,191,162)","rgb(191,191,163)","rgb(192,192,164)","rgb(192,192,165)","rgb(192,192,166)","rgb(192,192,167)","rgb(192,192,168)","rgb(193,193,169)","rgb(193,193,170)","rgb(193,193,171)","rgb(193,193,172)","rgb(194,194,173)","rgb(194,194,174)","rgb(194,194,175)","rgb(194,194,175)","rgb(194,194,176)","rgb(195,195,177)","rgb(195,195,178)","rgb(195,195,179)","rgb(195,195,180)","rgb(195,195,181)","rgb(196,196,182)","rgb(196,196,183)","rgb(196,196,184)","rgb(196,196,185)","rgb(197,197,186)","rgb(197,197,187)","rgb(197,197,188)","rgb(197,197,189)","rgb(197,197,190)","rgb(198,198,191)","rgb(198,198,192)","rgb(198,198,193)","rgb(198,198,194)","rgb(198,198,195)","rgb(199,199,196)","rgb(199,199,197)","rgb(199,199,198)","rgb(199,199,199)","rgb(255,255,255)"]},precipitation:{colors:["rgba(255,255,255,0)","rgb(6,13,255)","rgb(13,26,255)","rgb(20,40,255)","rgb(26,53,255)","rgb(33,67,255)","rgb(40,80,255)","rgb(46,93,255)","rgb(53,107,255)","rgb(60,120,255)","rgb(67,134,255)","rgb(73,147,255)","rgb(80,161,255)","rgb(87,174,255)","rgb(93,187,255)","rgb(100,201,255)","rgb(107,214,255)","rgb(114,228,255)","rgb(120,241,255)","rgb(127,255,255)","rgb(127,255,229)","rgb(129,253,223)","rgb(130,251,216)","rgb(132,249,210)","rgb(133,247,203)","rgb(135,245,197)","rgb(137,243,190)","rgb(138,241,184)","rgb(140,239,177)","rgb(142,237,171)","rgb(143,235,164)","rgb(145,233,158)","rgb(146,231,152)","rgb(148,229,145)","rgb(150,227,139)","rgb(151,225,132)","rgb(153,224,126)","rgb(154,222,119)","rgb(156,220,113)","rgb(158,218,106)","rgb(159,216,100)","rgb(161,214,93)","rgb(163,212,87)","rgb(164,210,81)","rgb(166,208,74)","rgb(167,206,68)","rgb(169,204,61)","rgb(171,202,55)","rgb(172,200,48)","rgb(174,198,42)","rgb(175,196,35)","rgb(177,194,29)","rgb(179,193,22)","rgb(180,191,16)","rgb(182,189,10)","rgb(183,187,3)","rgb(185,185,0)","rgb(187,183,0)","rgb(188,181,0)","rgb(190,179,0)","rgb(192,177,0)","rgb(193,175,0)","rgb(195,173,0)","rgb(196,171,0)","rgb(198,169,0)","rgb(200,167,0)","rgb(201,165,0)","rgb(203,163,0)","rgb(204,162,0)","rgb(206,160,0)","rgb(208,158,0)","rgb(209,156,0)","rgb(211,154,0)","rgb(213,152,0)","rgb(214,150,0)","rgb(216,148,0)","rgb(217,146,0)","rgb(219,144,0)","rgb(221,142,0)","rgb(222,140,0)","rgb(224,138,0)","rgb(225,136,0)","rgb(227,134,0)","rgb(229,132,0)","rgb(230,131,0)","rgb(232,129,0)","rgb(234,127,0)","rgb(235,125,0)","rgb(237,123,0)","rgb(238,121,0)","rgb(240,119,0)","rgb(242,117,0)","rgb(243,115,0)","rgb(245,113,0)","rgb(246,111,0)","rgb(248,109,0)","rgb(250,107,0)","rgb(251,105,0)","rgb(253,103,0)","rgb(255,101,0)"]},humidity:{colors:["rgb(255,255,0)","rgb(228,255,0)","rgb(201,255,0)","rgb(174,255,0)","rgb(147,255,0)","rgb(120,255,0)","rgb(93,255,0)","rgb(67,255,0)","rgb(40,255,0)","rgb(13,255,0)","rgb(0,248,13)","rgb(0,234,40)","rgb(0,221,67)","rgb(0,208,93)","rgb(0,194,120)","rgb(0,181,147)","rgb(0,167,174)","rgb(0,154,201)","rgb(0,140,228)","rgb(0,127,255)"]},temperature:{min:-90,max:45,colors:["rgb(0,0,250)","rgb(0,2,250)","rgb(0,5,250)","rgb(0,8,250)","rgb(0,11,250)","rgb(0,14,250)","rgb(0,16,250)","rgb(0,19,250)","rgb(0,22,250)","rgb(0,25,250)","rgb(0,28,250)","rgb(0,30,250)","rgb(0,33,250)","rgb(0,36,250)","rgb(0,39,250)","rgb(0,42,250)","rgb(0,44,250)","rgb(0,47,250)","rgb(0,50,250)","rgb(0,53,250)","rgb(0,56,250)","rgb(0,58,250)","rgb(0,61,250)","rgb(0,64,250)","rgb(0,67,250)","rgb(0,70,250)","rgb(0,73,250)","rgb(0,75,250)","rgb(0,78,250)","rgb(0,81,250)","rgb(0,84,250)","rgb(0,87,250)","rgb(0,89,250)","rgb(0,92,250)","rgb(0,95,250)","rgb(0,98,250)","rgb(0,101,250)","rgb(0,103,250)","rgb(0,106,250)","rgb(0,109,250)","rgb(0,112,250)","rgb(0,115,250)","rgb(0,117,250)","rgb(0,120,250)","rgb(0,123,250)","rgb(0,126,250)","rgb(0,129,250)","rgb(0,132,250)","rgb(0,134,250)","rgb(0,137,250)","rgb(0,140,250)","rgb(0,143,250)","rgb(0,146,250)","rgb(0,148,250)","rgb(0,151,250)","rgb(0,154,250)","rgb(0,157,250)","rgb(0,160,250)","rgb(0,162,250)","rgb(0,165,250)","rgb(0,168,250)","rgb(0,171,250)","rgb(0,174,250)","rgb(0,176,250)","rgb(0,179,250)","rgb(0,182,250)","rgb(0,185,250)","rgb(0,188,250)","rgb(0,191,250)","rgb(0,193,250)","rgb(0,196,250)","rgb(0,199,250)","rgb(0,202,250)","rgb(0,205,250)","rgb(0,207,250)","rgb(0,210,250)","rgb(0,213,250)","rgb(0,216,250)","rgb(0,219,250)","rgb(0,221,250)","rgb(0,224,250)","rgb(0,227,250)","rgb(0,230,250)","rgb(0,233,250)","rgb(0,235,250)","rgb(0,238,250)","rgb(0,241,250)","rgb(0,244,250)","rgb(0,247,250)","rgb(0,255,255)","rgb(0,255,203)","rgb(0,255,152)","rgb(0,255,101)","rgb(0,255,50)","rgb(0,255,0)","rgb(22,255,0)","rgb(45,255,0)","rgb(68,255,0)","rgb(91,255,0)","rgb(113,255,0)","rgb(136,255,0)","rgb(159,255,0)","rgb(182,255,0)","rgb(205,255,0)","rgb(255,255,0)","rgb(255,247,0)","rgb(255,240,0)","rgb(255,232,0)","rgb(255,225,0)","rgb(255,217,0)","rgb(255,210,0)","rgb(255,202,0)","rgb(255,195,0)","rgb(255,187,0)","rgb(255,180,0)","rgb(255,172,0)","rgb(255,165,0)","rgb(255,157,0)","rgb(255,150,0)","rgb(255,142,0)","rgb(255,135,0)","rgb(255,127,0)","rgb(255,120,0)","rgb(255,112,0)","rgb(255,105,0)","rgb(255,97,0)","rgb(255,90,0)","rgb(255,82,0)","rgb(255,75,0)","rgb(255,67,0)","rgb(255,60,0)","rgb(255,52,0)","rgb(255,45,0)","rgb(255,37,0)","rgb(255,30,0)"]},wind_comps:{colors:["rgb(0,0,179)","rgb(10,24,187)","rgb(20,48,194)","rgb(31,73,202)","rgb(41,97,210)","rgb(52,122,218)","rgb(62,146,226)","rgb(73,170,234)","rgb(83,195,242)","rgb(94,219,249)","rgb(64,207,243)","rgb(64,212,222)","rgb(64,218,201)","rgb(64,223,180)","rgb(64,228,159)","rgb(64,233,138)","rgb(64,238,117)","rgb(64,243,96)","rgb(64,248,75)","rgb(64,254,54)"]},windspeed:{colors:["rgb(0,0,250)","rgb(0,12,250)","rgb(0,25,250)","rgb(0,37,250)","rgb(0,50,250)","rgb(0,62,250)","rgb(0,75,250)","rgb(0,87,250)","rgb(0,100,250)","rgb(0,112,250)","rgb(0,125,250)","rgb(0,137,250)","rgb(0,150,250)","rgb(0,162,250)","rgb(0,175,250)","rgb(0,187,250)","rgb(0,200,250)","rgb(0,212,250)","rgb(0,225,250)","rgb(0,237,250)","rgb(0,255,255)","rgb(0,255,234)","rgb(0,255,214)","rgb(0,255,193)","rgb(0,255,173)","rgb(0,255,152)","rgb(0,255,132)","rgb(0,255,111)","rgb(0,255,91)","rgb(0,255,70)","rgb(0,255,0)","rgb(20,255,0)","rgb(41,255,0)","rgb(61,255,0)","rgb(82,255,0)","rgb(102,255,0)","rgb(123,255,0)","rgb(143,255,0)","rgb(164,255,0)","rgb(184,255,0)","rgb(255,255,0)","rgb(255,247,0)","rgb(255,240,0)","rgb(255,232,0)","rgb(255,225,0)","rgb(255,217,0)","rgb(255,210,0)","rgb(255,202,0)","rgb(255,195,0)","rgb(255,187,0)","rgb(255,180,0)","rgb(255,172,0)","rgb(255,165,0)","rgb(255,157,0)","rgb(255,150,0)","rgb(255,142,0)","rgb(255,135,0)","rgb(255,127,0)","rgb(255,120,0)","rgb(255,112,0)","rgb(255,105,0)","rgb(255,97,0)","rgb(255,90,0)","rgb(255,82,0)","rgb(255,75,0)","rgb(255,67,0)","rgb(255,60,0)","rgb(255,52,0)","rgb(255,45,0)","rgb(255,37,0)"]},dbz:{colors:["rgb(1,57,255)","rgb(0,140,255)","rgb(1,209,255)","rgb(1,255,232)","rgb(1,255,171)","rgb(1,255,79)","rgb(43,255,0)","rgb(166,255,2)","rgb(227,255,1)","rgb(255,198,0)","rgb(255,168,1)","rgb(255,145,1)","rgb(255,130,1)","rgb(255,107,0)","rgb(255,84,0)","rgb(255,7,0)"]},dbz_nws:{colors:["rgb(0,0,0)","rgb(0,255,255)","rgb(135,206,235)","rgb(0,0,255)","rgb(0,255,0)","rgb(50,205,50)","rgb(34,139,34)","rgb(238,238,0)","rgb(238,220,130)","rgb(238,118,33)","rgb(255,48,48)","rgb(176,48,96)","rgb(176,48,96)","rgb(186,85,211)","rgb(255,0,255)","rgb(255,255,255)"]},categorical:{label:"Fixed"},black:{colors:["#000"]},white:{colors:["#fff"]},red:{colors:["red"]},green:{colors:["green"]},blue:{colors:["blue"]}}},GuiUtils={getProxyUrl:function(t){return ramaddaBaseUrl+"/proxy?trim=true&url="+encodeURIComponent(t)},showingError:!1,pageUnloading:!1,handleError:function(t,e,r){this.pageUnloading||(console.log(t),console.trace(),e&&console.log(e),this.showingError||(r&&(this.showingError=!0,this.showingError=!1),Utils.closeFormLoadingDialog()))},isJsonError:function(t){if(null==t)return this.handleError("Null JSON data",null,!1),!0;if(null!=t.error){var e=t.errorcode;return null==e&&(e="error"),this.handleError("Error in Utils.isJsonError:"+t.error,null,!1),!0}return!1},loadXML:function(t,e,r){var i=!1;if(window.XMLHttpRequest)try{i=new XMLHttpRequest}catch(t){i=!1}else if(window.ActiveXObject)try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){i=!1}}i&&(i.onreadystatechange=function(){4==i.readyState&&200==i.status&&e(i,r)},i.open("GET",t,!0),i.send(""))},loadHtml:async function(t,e){await $.get(t,(function(t){e(t)})).done((function(){})).fail((function(){console.log("Failed to load url: "+t)}))},loadUrl:function(t,e,r){var i=!1;if(window.XMLHttpRequest)try{i=new XMLHttpRequest}catch(t){i=!1}else if(window.ActiveXObject)try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){i=!1}}i&&(i.onreadystatechange=function(){4==i.readyState&&200==i.status&&e(i,r)},i.open("GET",t,!0),i.send(""))},getUrlArg:function(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(window.location.href);return null==r||""==r?e:r[1]},setCursor:function(t){var e=document.cursor;!e&&document.getElementById&&(e=document.getElementById("cursor")),e||(document.body.style.cursor=t)},getDomObject:function(t){let e=new DomObject(t);return e.obj?e:null},getEvent:function(t){return t||window.event},getEventX:function(t){return t.pageX?t.pageX:t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft},getEventY:function(t){return t.pageY?t.pageY:t.clientY+document.body.scrollTop+document.documentElement.scrollTop},getTop:function(t){return t?t.offsetTop+this.getTop(t.offsetParent):0},getBottom:function(t){return t?this.getTop(t)+t.offsetHeight:0},setPosition:function(t,e,r){t.style.top=r,t.style.left=e},getLeft:function(t){return t?t.offsetLeft+this.getLeft(t.offsetParent):0},getRight:function(t){return t?t.offsetRight+this.getRight(t.offsetParent):0},getStyle:function(t){return t.style?t.style:document.layers?document.layers[t.name]:null},size_format:function(t){return t=t>=1073741824?number_format(t/1073741824,2)+" Gb":t>=1048576?number_format(t/1048576,2)+" Mb":t>=1024?number_format(t/1024,0)+" Kb":number_format(t,0)+" bytes"},inputLengthOk:function(t,e,r){var i=$("#"+t).val();if(null==i)return!0;if(r){if(i.length<e)return Utils.closeFormLoadingDialog(),!1}else if(i.length>e)return Utils.closeFormLoadingDialog(),!1;return!0},inputValueOk:function(t,e,r){var i=$("#"+t).val();return null==i||(r&&i<e?(Utils.closeFormLoadingDialog(),!1):!(!r&&i>e)||(Utils.closeFormLoadingDialog(),!1))},inputIsRequired:function(t,e,r){var i=$("#"+t).val();return null!=i&&0!=i.trim().length||(Utils.closeFormLoadingDialog(),!1)}},ID="id",BACKGROUND="background",CLASS="class",DIV="div",POSITION="position",WIDTH="width",ALIGN="align",VALIGN="valign",HEIGHT="height",SRC="src",STYLE="style",TABLE="table",TITLE="title",THEAD="thead",TBODY="tbody",TFOOT="tfoot",TR="tr",TD="td",BR="br",PRE="pre",TAG_A="a",TAG_B="b",TAG_DIV="div",SELECT="select",OPTION="option",VALUE="value",TAG_IMG="img",TAG_INPUT="input",TAG_LI="li",TAG_SELECT="select",TAG_OPTION="option",TAG_TABLE="table",TAG_TR="tr",TAG_TD="td",TAG_UL="ul",TAG_OL="ol",ATTR_WIDTH="width",ATTR_HREF="href",ATTR_BORDER="border",ATTR_VALUE="value",ATTR_TITLE="title",ATTR_ALT="alt",ATTR_ID="id",ATTR_CLASS="class",ATTR_SIZE="size",ATTR_STYLE="style",ATTR_ALIGN="align",ATTR_VALIGN="valign",SPACE="&nbsp;",SPACE1="&nbsp;",SPACE2="&nbsp;&nbsp;",SPACE3="&nbsp;&nbsp;&nbsp;",SPACE4="&nbsp;&nbsp;&nbsp;&nbsp;",HU=HtmlUtils=window.HtmlUtils=window.HtmlUtil={me:"HtmlUtils",checkToHidePopup:function(){if(this.popupTime){var t=new Date;return timeDiff=t-this.popupTime,timeDiff>1e3}return!0},getTooltip:function(){return $("#ramadda-popupdiv")},getPopupObject:function(){return this.popupObject},hasPopupObject:function(){return null!=this.popupObject},clearPopupObject:function(){this.popupObject=null},isPopupObject:function(t){return!(!this.popupObject||!t)&&this.popupObject.attr("id")==t.attr("id")},setPopupObject:function(t){return this.isPopupObject(t)||(this.popupObject&&this.hidePopupObject(),this.popupObject=t,this.popupObject.attr("addedMouseListener")||(this.popupObject.attr("addedMouseListener","true"),this.popupObject.mousedown((function(t){t.stopPropagation()})))),t},hidePopupObject:function(t){this.popupObject&&(this.popupObject.hide(),"true"==this.popupObject.attr("removeonclose")&&this.popupObject.remove(),this.popupObject=null),this.popupTime=new Date,t&&t.stopPropagation()},tabLoaded:function(t,e){window.ramaddaDisplayCheckLayout&&ramaddaDisplayCheckLayout(),window.ramaddaMapCheckLayout&&ramaddaMapCheckLayout()},elementScrolled:function(t){var e=$(window).scrollTop(),r=e+$(window).height(),i=$(t).offset().top,n=i+$(t).outerHeight(!0);return i<=r&&i>=e||(n<=r&&n>=e||n>=r&&i<=e)},initOdometer:function(t,e,r,i){Utils.isDefined(r)||(r=0),$(document).ready((function(){i?$("#"+t).html(e):setTimeout((function(){HtmlUtils.elementScrolled("#"+t)?setTimeout((function(){$("#"+t).html(e)}),r):$(window).scroll((function(){HtmlUtils.elementScrolled("#"+t)&&setTimeout((function(){$("#"+t).html(e)}),r)}))}),1e3)}))},callWhenScrolled:function(t,e,r){Utils.isDefined(r)||(r=0),$(document).ready((function(){setTimeout((function(){HtmlUtils.elementScrolled("#"+t)?setTimeout(e,r):$(window).scroll((function(){HtmlUtils.elementScrolled("#"+t)&&setTimeout(e,r)}))}),1e3)}))},waitForIt:function(t,e,r,i){window[t]?e():(Utils.isDefined(i)||(i=500),0!==i?setTimeout((()=>{HtmlUtils.waitForIt(t,e,r,i-1)}),50):r&&r())},loadAndWait:function(t,e,r,i){if(!window[t]){$(e).appendTo("head")}HtmlUtils.waitForIt(t,r,i)},makeSlides:function(t,e){let r={dots:!0};e&&$.extend(r,e),HtmlUtils.loadSlides(),$("#"+t).slick(r),HtmlUtils.swapHtml("#"+t+"_headercontents","#"+t+"_header"),setTimeout((()=>{let e=$("#"+t+"_header"),r=e.find(".ramadda-slides-header-item");r.click((function(){let e=+$(this).attr("slideindex");$("#"+t).slick("slickGoTo",e)})),$("#"+t).on("afterChange",(function(t,i,n){r.removeClass("ramadda-slides-header-item-selected"),e.find(HtmlUtils.attrSelect("slideindex",n)).addClass("ramadda-slides-header-item-selected")}))}))},loadSlides:function(){if(!HtmlUtils.slidesLoaded){let t=ramaddaCdn+"/lib/slick/",e=HU.cssLink(t+"slick.css")+"\n"+HU.cssLink(t+"slick-theme.css")+"\n";$(e).appendTo("head"),e=HU.javascriptLink(t+"slick.min.js"),$(e).appendTo("body"),HtmlUtils.slidesLoaded=!0}},loadKatex:function(t,e){if(!window.katex){$("<link rel='preload' href='https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/fonts/KaTeX_Main-Regular.woff2' as='font' type='font/woff2' crossorigin='anonymous'>\n<link rel='preload' href='https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/fonts/KaTeX_Math-Italic.woff2' as='font' type='font/woff2' crossorigin='anonymous'>\n<link rel='preload' href='https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/fonts/KaTeX_Size2-Regular.woff2' as='font' type='font/woff2' crossorigin='anonymous'>\n<link rel='preload' href='https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/fonts/KaTeX_Size4-Regular.woff2' as='font' type='font/woff2' crossorigin='anonymous'/>\n<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Lato:300,400,700,700i'>\n<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css' crossorigin='anonymous'>\n<script defer src='https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js' crossorigin='anonymous'><\/script>").appendTo("head")}HtmlUtils.waitForIt("katex",t,e)},applyMarkdown:function(t,e){let r="<script src='"+ramaddaCdn+"/lib/showdown.min.js'/>";HtmlUtils.loadAndWait("showdown",r,(()=>{let r=$("#"+t).html();try{var i=(new showdown.Converter).makeHtml(r);$("#"+e).html(i)}catch(t){$("#"+e).html("Error processing markdown:"+t)}}),(()=>{$("#"+e).html("Error loading showdown")}))},applyLatex:function(t,e){HtmlUtils.loadKatex((()=>{let r=$("#"+t).html();try{var i=katex.renderToString(r,{throwOnError:!0});$("#"+e).html(i)}catch(t){$("#"+e).html("Error processing markdown:"+t)}}),(()=>{$("#"+e).html("Error loading katex")}))},isFontAwesome:function(t){return t.startsWith("fa-")||t.startsWith("fas ")||t.startsWith("far ")||t.startsWith("fab ")},getIconImage:function(t,e,r){if(HtmlUtils.isFontAwesome(t)){let i;return i=t.startsWith("fas ")||t.startsWith("fab ")||t.startsWith("far")?["class",t]:["class","fas "+t],r&&(i=Utils.mergeLists(i,r)),HtmlUtils.span(e,HtmlUtils.tag("i",i))}return HtmlUtils.image(t,e)},getObjectURL:function(t){return(window.URL||window.webkitURL).createObjectURL(t)},getErrorDialog:function(t){return'<div class="ramadda-message"><table><tr valign=top><td><div class="ramadda-message-link"><img border="0"  src="/repository/icons/error.png"  /></div></td><td><div class="ramadda-message-inner">'+t+"</div></td></tr></table></div>"},getWikiEditor:function(t){return this.wikiEditors?this.wikiEditors[t]:null},handleWikiEditorSubmit:function(){if(this.wikiEditors)for(a in this.wikiEditors){this.wikiEditors[a].handleSubmit()}},addWikiEditor:function(t,e){this.wikiEditors||(this.wikiEditors={}),e=e||t.getId(),this.wikiEditors[e]=t},makeBreadcrumbsInit:function(t){if(Utils.getPageLoaded())HtmlUtils.makeBreadcrumbs(t);else{let e=t;Utils.addLoadFunction((()=>{HtmlUtils.makeBreadcrumbs(e)}))}},makeBreadcrumbs:function(t){jQuery("#"+t).jBreadCrumb({previewWidth:10,easing:"swing",beginingElementsToLeaveOpen:0,endElementsToLeaveOpen:4})},tooltipInit:function(t,e){$("#"+e).dialog({autoOpen:!1,minWidth:650,hide:{effect:"blind",duration:250}}),$("#"+t).click((function(){$("#"+e).dialog("open")}))},join:function(t,e){t.forEach||(t=[t]);let r="";return t.forEach(((t,i)=>{i>0&null!=e&&(r+=e),r+=t})),r},qt:function(t){return'"'+t+'"'},sqt:function(t){return"'"+t+"'"},getUniqueId:function(){return window.uniqueCnt||(window.uniqueCnt=(new Date).getTime()),"id_"+window.uniqueCnt++},inset:function(t,e,r,i,n){var g="";return e&&(g+="padding-top: "+e+"px; "),r&&(g+="padding-left: "+r+"px; "),i&&(g+="padding-bottom: "+i+"px; "),n&&(g+="padding-right: "+n+"px; "),HtmlUtils.div(["style",g],t)},makeAccordion:function(t,e){null==e&&(e={}),$((function(){$(t+" .ramadda-accordion-contents").css("display","block");var r={animate:200,collapsible:!0,heightStyle:"content",active:0,decorate:!0,activate:function(){window.ramaddaDisplayCheckLayout&&ramaddaDisplayCheckLayout()}};($.extend(r,e),r.decorate)||$(t+" .ui-accordion-header").css("padding","0em 0em 0em 0em");r.active<0&&(r.active="none"),$(t).accordion(r)}))},hbox:function(t){var e=HtmlUtils.openTag("tr",["valign","top"]);return e+="<td>",e+=HtmlUtils.join(t,"</td><td>"),e+="</td></tr>",this.tag("table",["border","0","cellspacing","0","cellpadding","0"],e)},vbox:function(t){let e=HtmlUtils.join(t,"<br>");return this.div([STYLE,HU.css("display","inline-block")],e)},leftRight:function(t,e,r,i){return null==r&&(r="6"),null==i&&(i="6"),this.div(["class","row"],this.div(["class","col-md-"+r],t)+this.div(["class","col-md-"+i,"style","text-align:right;"],e))},leftCenterRight:function(t,e,r,i,n,g,a,o){return a||(a={}),a.valign||(a.valign="top"),o||(o=""),this.tag("table",["border",0,"width","100%","cellspacing","0","cellpadding","0"],this.tr(["valign",a.valign],this.td(["align","left","width",i,STYLE,o],t)+this.td(["align","center","width",n,STYLE,o],e)+this.td(["align","right","width",g,STYLE,o],r)))},row:function(){let t="<table cellpadding=0 cellspacing=0 border=0 width=100%><tr valign=center>";return Array.from(arguments).forEach((e=>{Array.isArray(e)?t+=HtmlUtils.tag("td",e[0],e[1]):t+=HtmlUtils.tag("td",[],e)})),t+="</tr></table>",t},hrow:function(){let t="";return Array.from(arguments).forEach((e=>{t+=HtmlUtils.div(["style","display:inline-block"],e)})),t},leftRightTable:function(t,e,r,i,n){n||(n={}),n.valign||(n.valign="top");var g=["align","left"],a=["align","right"];return r&&(g.push("width"),g.push(r)),i&&(a.push("width"),a.push(i)),this.tag("table",["border","0","width","100%","cellspacing","0","cellpadding","0"],this.tr(["valign",n.valign],this.td(g,t)+this.td(a,e)))},heading:function(t){return this.tag("h3",[],t)},bootstrapClasses:["col-md-12","col-md-6","col-md-4","col-md-4","col-md-4","col-md-2"],getBootstrapClass:function(t){return t-=1,(t=Math.max(t,0))<this.bootstrapClasses.length?this.bootstrapClasses[t]:"col-md-1"},initWikiEditor(t,e,r,i){var n=r+"_block",g=e+"_block";$("#"+i).click((()=>{var t=HtmlUtils.getWikiEditor(e);if($("#"+i).is(":checked")){$("#"+n).css("display","none"),$("#"+g).css("display","block");var a=$("#"+r).val();t.getEditor().setValue(a,8),$("#"+e).focus()}else{a=t.getEditor().getValue();$("#"+r).val(a),$("#"+n).css("display","block"),$("#"+g).css("display","none"),$("#"+r).focus()}}))},makeDialog:function(args){HtmlUtils.hidePopupObject();let opts={modal:!1,modalContentsCss:"",sticky:!1,content:null,contentId:null,anchor:null,draggable:!1,decorate:!0,header:!1,remove:!0,my:"left top",at:"left bottom",title:"",inPlace:!0,fit:!0},parentId,html;args&&(""==args.at&&delete args.at,""==args.my&&delete args.my,$.extend(opts,args)),opts.anchor&&"string"==typeof opts.anchor&&(opts.anchor=$("#"+opts.anchor)),opts.content&&(opts.inPlace=!1),opts.inPlace?(opts.remove=!1,parentId=HtmlUtils.getUniqueId(),html=HU.div([ID,parentId,STYLE,HU.css()],HU.SPACE)):(html=opts.content,null==html&&(html=opts.contentId?$("#"+opts.contentId).html():"No html provided"));let id=HtmlUtils.getUniqueId();if(opts.header&&(html=HU.div([CLASS,"ramadda-popup-inner"],html)),opts.header){let t=HU.div([TITLE,"Close",CLASS,"ramadda-popup-close"],HU.jsLink("",HtmlUtils.getIconImage(icon_close),[ID,id+"_close",STYLE,HU.css("cursor","pointer")])),e=HU.div([CLASS,"ramadda-popup-title"],opts.title),r=t+e,i=HtmlUtils.div([STYLE,HU.css("text-align","left"),CLASS,"ramadda-popup-header"],r);html=i+html}(opts.decorate||opts.header)&&(html=HU.div([CLASS,"ramadda-popup"],html));let innerId=HU.getUniqueId("model_inner");opts.modal&&(html=HU.div([ID,innerId,STYLE,opts.modalContentsCss,CLASS,"ramadda-modal-contents"],html),html=HU.div([CLASS,"ramadda-modal"],html));let popup=$(html).appendTo("body");if(opts.remove&&popup.attr("removeonclose","true"),opts.inPlace){let t=$("#"+opts.contentId),e=$("#"+parentId);e.css("display","block").css("width","fit-content").css("height","fit-content"),t.appendTo(e),t.show()}return opts.animate&&"false"!=opts.animate?popup.show(400):popup.show(),opts.anchor&&(opts.width&&popup.css("width",opts.width),popup.position({of:opts.anchor,my:opts.my,at:opts.at,collision:opts.fit?"fit fit":null})),opts.draggable?opts.modal?$("#"+innerId).draggable():popup.draggable():opts.sticky||HtmlUtils.setPopupObject(popup),opts.header&&$("#"+id+"_close").click((function(){popup.hide(),opts.callback&&opts.callback(popup),opts.remove&&popup.remove()})),opts.initCall&&("string"==typeof opts.initCall?eval(opts.initCall):opts.initCall()),popup},addToDocumentUrl:function(t,e,r){if(!Utils.isPost()){var i=String(window.location);r?(i.includes("?")||(i+="?"),i+="&"+HtmlUtils.urlArg(t,e)):(i=new URL(i),null===e?i.searchParams.delete(t):i.searchParams.set(t,e));try{window.history.replaceState&&window.history.replaceState("","",i)}catch(t){console.log("err:"+t),console.trace()}}},initSearchPopup:function(t,e){let r=HU.input("","",["id",t+"_input",CLASS,"input","placeholder","Search","style",HU.css("width","200px")]);r=HU.center(r);let i=r+HU.div([CLASS,"ramadda-select-search-results","id",t+"_results"]);$("#"+t).html(i);let n=$("#"+t+"_results");$("#"+t+"_input").keyup((function(t){let r=$(this).val();if(""==r)return n.hide(),void n.html("");if(13==(t.keyCode?t.keyCode:t.which)){let t=ramaddaBaseUrl+"/search/do?text="+encodeURIComponent(r)+"&output=json";n.html(HU.getIconImage(icon_wait)+" Searching..."),n.show();var i={entryListChanged:function(t){let r=t.getEntries();if(0==r.length)return n.show(),void n.html("Nothing found");let i="";r.forEach((t=>{let r="selectClick('"+e+"','"+t.getId()+"','"+t.getName()+"');";i+=HU.href("javascript:void(0);",t.getIconImage()+" "+t.getName(),["onclick",r])+"<br>"})),n.html(i),n.show(400)},handleSearchError:function(t,e){n.html("An error occurred:"+e)}};new EntryList(getGlobalRamadda(),t,i,!1).doSearch()}}))},removeFromDocumentUrl:function(t){try{var e=String(window.location);e=e.replace("&?"+t+"=[^&]+&?",""),window.history.replaceState&&window.history.replaceState("","",e)}catch(t){console.log("err:"+t)}},getUrlArgument:function(t){return new URLSearchParams(window.location.search).get(t)},pre:function(t,e){return this.tag("pre",t,e)},div:function(t,e){return this.tag("div",t,e)},center:function(t,e){return this.tag("center",e,t)},span:function(t,e){return this.tag("span",t,e)},movie:function(t,e){let r="";return e&&(r=HU.attrs(e)),"<video src='"+t+"' "+r+" controls='controls'></video>"},image:function(t,e){return"<img "+this.attrs(["src",t,"border","0"])+" "+this.attrs(e)+"/>"},swapHtml:function(t,e){$(document).ready((function(){let r=$(t),i=$(e);r.appendTo(i)}))},table:function(t,e){return HU.tag("table",t,e)},tr:function(t,e){return this.tag("tr",t,e)},css:function(...t){1==t.length&&Array.isArray(t[0])&&(t=t[0]);let e="";for(let r=0;r<t.length;r+=2)e+=t[r]+":"+t[r+1]+";";return e},h2:function(t){return HU.tag("h2",[],t)},h3:function(t){return HU.tag("h3",[],t)},cssTag:function(t){return'<style type="text/css">\n'+t+"</style>"},cssLink:function(t){return"<link href='"+t+"'  rel='stylesheet'  type='text/css' />"},javascriptLink:function(t){return"<script type='text/javascript' src='"+t+"'><\/script>"},getDimension:t=>t?((t=String(t).trim()).match("calc")&&(t=(t=t.replace(/calc *\(/,"calc(").replace(/-/," - ").replace(/\+/," + ")).replace(/([0-9]) *\)/,"$1px)")),t.endsWith(")")||t.endsWith("%")||t.endsWith("px")||t.endsWith("vh")?t:t+"px"):null,td:function(t,e){return this.tag("td",t,e)},tds:function(t,e){for(var r="",i=0;i<e.length;i++)r+=this.td(t,e[i]);return r},ths:function(t,e){for(var r="",i=0;i<e.length;i++)r+=this.th(t,e[i]);return r},onReturnEvent:function(t,e){"string"==typeof t&&(t=$(t)),t.keyup((function(t){13==(t.keyCode?t.keyCode:t.which)&&e($(this),t)}))},formatTable:function(t,e){let r;return $(t).each((function(){let t={paging:!1,ordering:!1,info:!1,searching:!1,scrollCollapse:!0,retrieve:!0,fixedHeader:!1};e&&$.extend(t,e);let i=t.height||$(this).attr("table-height");i&&(t.scrollY=i);let n=$(this).attr("table-ordering");n&&(t.ordering="true"==n);let g=$(this).attr("table-searching");g&&(t.searching="true"==g);let a=$(this).attr("table-paging");if(a&&(t.paging="true"==a),Utils.isDefined(t.scrollY)){(""+t.scrollY).endsWith("px")||(t.scrollY+="px")}$.fn.dataTable.isDataTable("#"+$(this).attr("id"))||(r=$(this).DataTable(t))})),r},th:function(t,e){return this.tag("th",t,e)},attrSelect:function(t,e){return"["+t+'="'+e+'"]'},scrollToAnchor:function(t,e){Utils.isDefined(e)||(e=-50);var r=$("a[name='"+t+"']");e||(e=0),e=+e,Utils.scrollToAnchorTime=new Date,$("html,body").animate({scrollTop:r.offset().top+e},"slow"),location.hash=t},scrollVisible:function(t,e,r){if(0==e.length||0==t.length)return;let i=e.offset().top-t.offset().top;Utils.isDefined(r)||(r=1e3),t.animate({scrollTop:i+t.scrollTop()},r)},initNavPopup:function(t,e){let r={align:"left"};e&&$.extend(r,e),$("#"+t).click((function(){let e,i,n=HtmlUtils.setPopupObject($("#"+t+"-popup"));"right"==r.align?(e="right top",i="right top"):(e="left top",i="right+5 top"),n.show(),n.position({of:n.parent(),my:e,at:i,collision:"fit fit"})}))},navLinkClicked:function(t,e){$(".ramadda-nav-left-link").removeClass("ramadda-nav-link-active"),$("#"+t+"_href").parent().addClass("ramadda-nav-link-active"),HtmlUtils.scrollToAnchor(t,e)},initNavLinks:function(t){let e={leftOpen:!0,showToggle:!0,leftWidth:"250px"};t&&$.extend(e,t);let r=$(".ramadda-nav-left"),i=$(".ramadda-nav-right");if(e.showToggle){let t=HU.div(["toggle-state",e.leftOpen?"open":"closed",TITLE,"Toggle left",ID,"ramadda-nav-left-toggle",CLASS,"ramadda-nav-left-toggle"],HtmlUtils.getIconImage("fa-bars"));$(t).appendTo(i),$("#ramadda-nav-left-toggle").click((function(){let t="closed"===$(this).attr("toggle-state");t?(r.show(),i.animate({"margin-left":e.leftWidth})):(r.hide(),i.animate({"margin-left":"0px"})),$(this).attr("toggle-state",t?"open":"closed")}))}let n=$(".ramadda-nav-left-links");n.mouseenter((function(){Utils.linksMouseIn=!0})),n.mouseleave((function(){Utils.linksMouseIn=!1}));let g=$(".ramadda-nav-anchor"),a=$(".ramadda-nav-left-link"),o=null;$(window).scroll((function(){if(Utils.linksMouseIn)return;let t=!1;if(Utils.scrollToAnchorTime){t=(new Date).getTime()-Utils.scrollToAnchorTime.getTime()<2e3}let e=$(window).scrollTop(),r=e+$(window).height(),i=null,n=null;if(g.each((function(){let t=$(this).offset().top,g=t+$(this).outerHeight(!0);(t<=r&&t>=e||g<=r&&g>=e||g>=r&&t<=e)&&(null==n||t<n)&&(n=t,i=$(this))})),!i)return;if(o&&o.attr("name")==i.attr("name"))return;o=i,a.removeClass("ramadda-nav-link-active");let s=null;a.each((function(){$(this).attr("navlink")==i.attr("name")&&($(this).addClass("ramadda-nav-link-active"),s=$(this))})),!t&&s&&HtmlUtils.scrollVisible(s.parent(),s,100)}))},setFormValue:function(t,e){$("#"+t).val(e)},setHtml:function(t,e){$("#"+t).html(e)},formTable:function(){return this.openTag("table",["class","formtable","cellspacing","0","cellspacing","0"])},formTableClose:function(){return this.closeTag("table")},formEntryTop:function(t,e,r){return r?HU.tag("tr",["valign","top"],HU.tag("td",["class","formlabel","align","right"],t)+HU.tag("td",[],e)+HU.tag("td",[],r)):this.tag("tr",["valign","top"],this.tag("td",["class","formlabel","align","right"],t)+this.tag("td",[],e))},formEntry:function(t,e){return this.tag("tr",[],this.tag("td",["class","formlabel","align","right"],t)+this.tag("td",[],e))},appendArg:function(t,e,r){return t.indexOf("?")<0?t+="?":t+="&",t+=HtmlUtils.urlArg(e,r)},getUrl:function(t,e){e.length>0&&(t+="?");for(var r=0;r<e.length;r+=2)r>0&&(t+="&"),t+=this.urlArg(e[r],e[r+1]);return t},b:function(t){return this.tag("b",[],t)},td:function(t,e){return this.tag("td",t,e)},th:function(t,e){return this.tag("th",t,e)},tag:function(t,e,r){r||"string"!=typeof e||(r=e,e=null);var i="<"+t+" "+this.attrs(e)+">";return null!=r&&(i+=r),i+="</"+t+">"},openTag:function(t,e){return"<"+t+" "+this.attrs(e)+">"},open:function(t,e,r){var i="<"+t+" "+this.attrs(e)+">";return r&&(i+=r),i},openRow:function(){return this.openTag("div",["class","row"])},closeRow:function(){return this.closeTag("div")},openDiv:function(t){return this.openTag("div",t)},closeDiv:function(){return this.closeTag("div")},closeTag:function(t){return"</"+t+">\n"},close:function(...t){let e="";return t.forEach((t=>{e+="</"+t+">\n"})),e},urlArg:function(t,e){return t+"="+encodeURIComponent(e)},attrSelect:function(t,e){return Utils.isDefined(e)?"["+t+"='"+e+"']":"["+t+"]"},attr:function(t,e){return null==e?" "+t+" ":" "+t+"="+this.qt(e)+" "},attrs:function(t){if(!t)return"";var e="";if(null==t)return e;if(1==t.length)return t[0];for(var r=0;r<t.length;r+=2){var i=t[r];if(i){var n=t[r+1];e+=null==n?" "+i+" ":this.attr(i,n)}}return e},styleAttr:function(t){return this.attr("style",t)},classAttr:function(t){return this.attr("class",t)},loadedGoogleCharts:!1,googleChartsVersion:"51",loadGoogleCharts:function(){this.loadedGoogleCharts||(this.loadedGoogleCharts=!0,window.google?google.charts.load(this.googleChartsVersion,{packages:["corechart"]}):console.log("loadGoogleCharts: no google"))},makeExpandable:function(t){let e=HtmlUtils.getIconImage("fa-expand-arrows-alt"),r=HtmlUtils.getUniqueId(),i=HtmlUtils.div(["id",r,"title","Expand","class","ramadda-expandable-link","style","display:none;cursor:pointer;text-align:right;position:absolute;right:10px;top:0px;margin-top:0px;"],e);$(t).append(i);let n=$("#"+r),g=$(t).hasClass("ramadda-expand-now");n.attr("data-expanded",g);let a=$(t).css("background");$(t).mouseenter((function(){n.css("display","block")})),$(t).mouseleave((function(){n.css("display","none")}));let o=function(){let e,r="true"==$(this).attr("data-expanded");if(r)e=HtmlUtils.getIconImage("fa-expand-arrows-alt"),$(this).attr("title","Expand"),$(t).css("left","").css("right","").css("top","").css("bottom","").css("position","relative").css("height","").css("z-index","").css("background",a||""),n.css("display","none"),$(t).find(".ramadda-expandable-target").each((function(){$(this).attr("isexpanded","false"),$(this).css("height",$(this).attr("original-height"))}));else{let r=$(window).height();e=HtmlUtils.getIconImage("fa-compress-arrows-alt");$(t).offset().top;$(this).attr("title","Contract"),$(t).css("left","5px").css("right","5px").css("top","5px").css("position","fixed").css("z-index","2000").css("background","#fff").css("height",r+"px"),$(t).find(".ramadda-expandable-target").each((function(){$(this).attr("original-height",$(this).css("height")),$(this).attr("isexpanded","true");let t=$(this).attr("expandable-height");(t||-1!=t)&&$(this).css("height",t||"95vh")})),n.css("display","block")}$(this).attr("data-expanded",!r+""),$(this).html(e),window.ramaddaDisplayCheckLayout&&ramaddaDisplayCheckLayout(),window.ramaddaMapCheckLayout&&ramaddaMapCheckLayout()};$("#"+r).click(o),g&&o()},makeDraggable:function(t){$(t).draggable({zIndex:1e3,drag:function(t,e){},start:function(t,e){if(!$(this).attr("started")){$(this).attr("started",!0);let t=$(this).offset();$(this).attr("oleft",t.left),$(this).attr("otop",t.top),$(this).css("position","absolute").css("left",t.left+"px").css("top",t.top+"px"),console.log("start:"+t.left+" "+t.top)}}})},idAttr:function(t){return this.attr("id",t)},link:function(t,e,r){null==r&&(r=[]);var n=[];for(i in r)n.push(r[i]);return(r=n).push("url"),r.push(t),r.push("class"),r.push("ramadda-link"),r.style?r.style+="display:inline-block;":r.style="style='display:inline-block;'",this.div(r,e)},getEntryImage:function(t,e){if(e.indexOf("::")>=0){var r=e.split("::");r[0].trim().length>0&&(t=r[0].trim());var i=r[1].trim();return ramaddaBaseUrl+"/metadata/view/"+i+"?entryid="+t}return e},jsLink:function(t,e,r){return r=r||[],HU.href("javascript:noop();",e,r)},href:function(t,e,r){null==r&&(r=[]);let i=[];for(let t in r)i.push(r[t]);return(r=i).push("href"),r.push(t),Utils.isDefined(e)&&""!=e||(e=t),this.tag("a",r,e)},onClick:function(t,e,r){let i=["onclick",t,"style","color:black;   cursor:pointer;"];if(null!=r)for(let t=0;t<r.length;t++)i.push(r[t]);return this.tag("a",i,e)},checkbox:function(t,e,r,i){e.push("id"),e.push(t),e.push("type"),e.push("checkbox"),e.push("value"),e.push("true"),r&&(e.push("checked"),e.push(null));let n=this.tag("input",e);return i&&(n+="&nbsp;"+HU.tag("label",["for",t],i)),n},radio:function(t,e,r,i,n,g){g||(g="");var a="<input id='"+t+"'  class='"+r+"' name='"+e+"' type=radio value='"+i+"' ";return n&&(a+=" checked "),a+=" "+g,a+="/>"},handleFormChangeShowUrl:function(t,e,r,i,n){null==i&&(i=[".*OpenLayers_Control.*","authtoken"]);var g=$("#"+e).attr("action")+"?",o=$("#"+e+" :input"),s=0,l={},b=[];o.each((function(t,e){if(""!=e.name&&null!=e.value&&""!=e.value&&"-all-"!=e.value&&("submit"!=e.type||"Cancel"!=e.value)&&("checkbox"!=e.type||e.checked)&&("radio"!=e.type||e.checked)&&!(e.attributes&&e.attributes.default&&e.attributes.default.value==e.value||e.name&&l[e.name])){if(e.name&&(l[e.name]=!0),null!=i)for(t=0;t<i.length;t++){var r=i[t];if(e.name.match(r))return}if("formurl"!=e.id){var n=[];if("select-multiple"==e.type&&e.selectedOptions)for(a in e.selectedOptions)option=e.selectedOptions[a],Utils.isDefined(option.value)&&n.push(option.value);else n.push(e.value);for(v in n)s>0&&(g+="&"),s++,value=n[v],b.push({item:e,value:value}),g+=encodeURIComponent(e.name)+"="+encodeURIComponent(value)}}}));var c=window.location.protocol+"//"+window.location.host;g=c+g;var d=HtmlUtils.input("formurl",g,["size","80","id","formurl"]),u=HtmlUtils.div(["class","ramadda-form-url"],HtmlUtils.href(g,HtmlUtils.image(ramaddaCdn+"/icons/link.png"))+" "+d);n&&(u+=n({entryId:t,formId:e,inputs:o,itemValuePairs:b})),$("#"+r).html(u)},makeUrlShowingForm:function(t,e,r,i,n){$("#"+e+" :input").change((function(){HtmlUtils.handleFormChangeShowUrl(t,e,r,i,n)})),HtmlUtils.handleFormChangeShowUrl(t,e,r,i,n)},select:function(t,e,r,i,n){var g=this.openTag("select",e);return g+=HU.makeOptions(r,i,n),g+=this.closeTag("select")},makeOptions:function(t,e,r){let i="";return t.forEach((t=>{var n=t;Array.isArray(t)&&(n=t[1],t=t[0]),r&&n.length>r&&(n=n.substring(0,r)+"...");var g="";e&&Array.isArray(e)?e.indexOf(t)>=0&&(g=" selected "):e===t&&(g=" selected "),i+="<option "+g+" value='"+t+"'>"+n+"</option>"})),i},datePicker:function(t,e,r){return r.push("size"),r.push("8"),HtmlUtils.input(t,e,r)},datePickerInit:function(t){$("#"+t).datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,constrainInput:!1,yearRange:"1900:2100"})},rangeInput:function(t,e){var r='<form><div><input type="text" class="ramadda-slider-value sliderValue" data-index="0" value="10" /> <input type="text" class="ramadda-slider-value  sliderValue" data-index="1" value="90" /></div>'+HtmlUtils.div(["id",e])+"</form>";return console.log(r),r},rangeInputInit:function(t){$("#"+t).slider({min:0,max:100,step:1,values:[10,90],slide:function(t,e){for(var r=0;r<e.values.length;++r)$("input.sliderValue[data-index="+r+"]").val(e.values[r])}}),$("input.sliderValue").change((function(){var t=$(this);$("#slider").slider("values",t.data("index"),t.val())}))},input:function(t,e,r){return"<input "+HtmlUtils.attrs(r)+HtmlUtils.attrs(["name",t,"value",e])+">"},hidden:function(t,e,r){return"<input type=hidden "+HtmlUtils.attrs(r)+HtmlUtils.attrs(["name",t,"value",e])+">"},textarea:function(t,e,r){return"<textarea "+HtmlUtils.attrs(r)+HtmlUtils.attrs(["name",t])+">"+e+"</textarea>"},initSelect:function(t){$(t).selectBoxIt({showEffect:"fadeIn",showEffectSpeed:400,hideEffect:"fadeOut",hideEffectSpeed:400})},valueDefined:function(t){return""!=t&&0!=t.indexOf("--")},squote:function(t){return"'"+t+"'"},makeToggle:function(t,e,r){null===r&&(r=!0);let i=ramaddaCdn+"/icons/togglearrowdown.gif",n=ramaddaCdn+"/icons/togglearrowright.gif";$("#"+t).attr("state","open"),$("#"+t).attr("src",i),$("#"+t).css("cursor","pointer");let g=t=>{t.attr("state","close"),t.attr("src",n),$("#"+e).hide()};$("#"+t).click((function(t){var r;"open"==$(this).attr("state")?g($(this)):((r=$(this)).attr("state","open"),r.attr("src",i),$("#"+e).show()),t.preventDefault()})),r||g($("#"+t))},makeSplash:function(t,e){let r={width:"50%",style:"",showOk:!0};if(e&&$.extend(r,e),r.src&&(t=$("#"+r.src).html()),null==t||""==t.trim())return;t=HU.div([STYLE,"margin:10px;"],t);let i=Utils.getUniqueId("close_"),n=HU.div([ID,i,CLASS,"ramadda-clickable",STYLE,HU.css("position","absolute","right","10px","top","10px")],HU.getIconImage("far fa-window-close"))+t;r.showOk&&(n+=HU.center(HU.div([ID,i+"_button"],"OK"))),n=HU.div([CLASS,"ramadda-shadow-box ramadda-splash",STYLE,HU.css("width",r.width)+r.style],n);let g=$(HU.div([CLASS,"ramadda-splash-container"],n)).appendTo($("body"));$("body").addClass("ramadda-splash-body");let a=()=>{$("body").removeClass("ramadda-splash-body"),g.remove()};g.click((t=>{})),$("#"+i).click((()=>{a()})),$("#"+i+"_button").button().click((()=>{a()}))},makeToggleImage:function(t,e){return e=e||"",HU.div([STYLE,HU.css("display","inline-block","min-width","10px")],HtmlUtils.getIconImage(t,["align","bottom"],[STYLE,e]))},toggleBlock:function(t,e,r,i){let n={headerClass:"ramadda-noselect entry-toggleblock-label ramadda-hoverable ramadda-clickable",headerStyle:""};i&&$.extend(n,i);let g=Utils.getUniqueId("block_"),a=g+"_img",o="fas fa-caret-down",s="fas fa-caret-right",l="toggleBlockVisibility("+HtmlUtils.join([HtmlUtils.squote(g),HtmlUtils.squote(a),HtmlUtils.squote(o),HtmlUtils.squote(s)],",")+");",b=HU.span([ID,a],HU.makeToggleImage(r?o:s)),c=r?"display:block;visibility:visible":"display:none;";return HtmlUtils.div([STYLE,n.headerStyle,"class",n.headerClass,"onClick",l],b+" "+t)+HtmlUtils.div(["class","hideshowblock","id",g,"style",c],e)}},StringUtil={endsWith:function(t,e){return t.length>=e.length&&t.lastIndexOf(e)+e.length==t.length},startsWith:function(t,e){return t.length>=e.length&&0===t.lastIndexOf(e,0)}},blockCnt=0;function DomObject(t){this.obj=null,document.getElementById?(this.obj=document.getElementById(t),this.obj&&(this.style=this.obj.style)):document.all?(this.obj=document.all[t],this.obj&&(this.style=this.obj.style)):document.layers&&(this.obj=document.layers[t],this.style=document.layers[t]),this.obj&&(this.id=this.obj.id,this.id||(this.id="obj"+blockCnt++))}var RamaddaUtil={inherit:function(t,e){return $.extend(t,e),e.getThis=function(){return t},t.getThis=function(){return t},t.mysuper=e,t},initMembers:function(t,e){return $.extend(t,e),t},defineMembers:function(t,e){return $.extend(t,e),t}},SU;function pageIsUnloading(){GuiUtils.pageUnloading=!0,window.onbeforeunload=confirmExit}function confirmExit(){return null}function Div(t,e){this.id=HtmlUtils.getUniqueId(),this.contents=t||"",this.extra="",this.clazz=e,this.setHidden=function(){},this.toString=function(){return HtmlUtils.div(["class",e||"","id",this.id],this.contents)},this.getId=function(){return this.id},this.jq=function(){return $("#"+this.id)},this.set=function(t,e){return e&&(this.extra=HtmlUtils.attrs(e)),this.contents=t,this.jq().html(t),this},this.append=function(t){this.content?this.content+=t:this.content=t,$("#"+this.id).append(t)},this.msg=function(t){return this.set(HtmlUtils.div([ATTR_CLASS,"display-message"],t))}}function TextMatcher(t){this.regexps=[],t&&(t=t.trim()),t&&t.length>0&&((t=t.replace(/\./g,"\\.")).startsWith('"')&&t.endsWith('"')?(t=(t=t.replace(/^"/,"")).replace(/"$/,""),this.regexps.push(new RegExp("("+t+")","ig"))):t.split(" ").map((t=>{t=t.trim(),this.regexps.push(new RegExp("("+t+")","ig"))}))),$.extend(this,{pattern:t,hasPattern:function(){return this.regexps.length>0},highlight:function(t){for(var e=0;e<this.regexps.length;e++)t=t.replace(this.regexps[e],"<span style=background:yellow;>$1</span>");return t},matches:function(t){if(0==this.regexps.length)return!0;t=t.toLowerCase();for(var e=0;e<this.regexps.length;e++)if(!t.match(this.regexps[e]))return!1;return!0}})}function number_format(t,e,r){let i,n=t<0,g=Utils.roundDecimals(t,e,!1);n?(i=Math.ceil(g),i=Math.abs(i)):i=Math.floor(g);let a=String(g).match(/\.(.*)/),o=a?a[1]:"",s=String(i).replace(/(.)(?=(\d{3})+$)/g,"$1,");return""!=o&&(s+="."+o),r&&console.log("number:"+t+" n:"+g+" i:"+i+" s:"+s),n&&0==i||n?"-"+s:s}$.widget("custom.iconselectmenu",$.ui.selectmenu,{_renderItem:function(t,e){var r=$("<li>"),i=$("<span>");e.disabled&&r.addClass("ui-state-disabled");let n=e.label,g=e.element.attr("img-src");g?(g=g.startsWith("fa")?HU.getIconImage(g):HU.image(g,[STYLE,e.element.attr("data-style")||"","width",64,"class","ui-icon "+e.element.attr("data-class")]),$(g).appendTo(i)):e.element.attr("isheader")||(n=HU.span([STYLE,HU.css("margin-left","36px")],n));let a=e.element.attr("label-class");return a&&(n=HU.div([STYLE,HU.css("width","100%"),"class",a],n)),i.append(n),r.append(i).appendTo(t)}}),window.onbeforeunload=pageIsUnloading,function(t,e){t.fn.getCursorPosition=function(){var e=t(this).get(0),r=0;if("selectionStart"in e)r=e.selectionStart;else if("selection"in document){e.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-e.value.length),r=i.text.length-n}return r}}(jQuery);var SvgUtils=SU={translate:function(t,e){return" translate("+t+","+e+") "},scale:function(t){return" scale("+t+") "},rotate:function(t){return" rotate("+t+") "},skewX:function(t){return" skewX("+t+") "},transform:function(t,...e){return t.attr("transform",e.join(" ")),t},makeBlur:function(t,e,r){return t.append("defs").append("filter").attr("id",e).append("feGaussianBlur").attr("stdDeviation",r)}},dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,i=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(n,g,a){var o=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(n)||/\d/.test(n)||(g=n,n=void 0),n=n?new Date(n):new Date,isNaN(n))throw SyntaxError("invalid date");"UTC:"==(g=String(o.masks[g]||g||o.masks.default)).slice(0,4)&&(g=g.slice(4),a=!0);var s=a?"getUTC":"get",l=n[s+"Date"](),b=n[s+"Day"](),c=n[s+"Month"](),d=n[s+"FullYear"](),u=n[s+"Hours"](),h=n[s+"Minutes"](),f=n[s+"Seconds"](),p=n[s+"Milliseconds"](),m=a?0:n.getTimezoneOffset(),y={d:l,dd:i(l),ddd:o.i18n.dayNames[b],dddd:o.i18n.dayNames[b+7],m:c+1,mm:i(c+1),mmm:o.i18n.monthNames[c],mmmm:o.i18n.monthNames[c+12],yy:String(d).slice(2),yyyy:d,h:u%12||12,hh:i(u%12||12),H:u,HH:i(u),M:h,MM:i(h),s:f,ss:i(f),l:i(p,3),L:i(p>99?Math.round(p/10):p),t:u<12?"a":"p",tt:u<12?"am":"pm",T:u<12?"A":"P",TT:u<12?"AM":"PM",Z:a?"UTC":(String(n).match(e)||[""]).pop().replace(r,""),o:(m>0?"-":"+")+i(100*Math.floor(Math.abs(m)/60)+Math.abs(m)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10]};return g.replace(t,(function(t){return t in y?y[t]:t.slice(1,t.length-1)}))}}(),currentRamaddaBase,lastCbxClicked,lastCbxIdClicked;function mouseOverOnEntry(t,e,r){if(Utils.mouseIsDown&&Utils.entryDragInfo){if(Utils.entryDragInfo.hasEntry(e))return;$("#"+r).css("borderBottom","2px black solid")}}function mouseOutOnEntry(t,e,r){Utils.entryDragInfo&&Utils.entryDragInfo.entryId==e||$("#"+r).css("borderBottom","")}function mouseDownOnEntry(t,e,r,i,n){t=GuiUtils.getEvent(t),Utils.entryDragInfo={dragSource:i,getIds:function(){return this.entryIds.join(",")},getHtml:function(){let t="";return this.entries.forEach((e=>{""!=t&&(t+="<br>"),t+=HU.image(e.args.icon)+SPACE+e.args.name})),t},hasEntry:function(t){return this.entryIds.includes(t)},addEntry:function(t){this.hasEntry(t.entryId)||(this.entries.push(t),this.entryIds.push(t.entryId))},entryIds:[],entries:[]};let g=Utils.globalEntryRows[e];if(g&&Utils.entryDragInfo.addEntry(g),$(".ramadda-entry-select:checked").each((function(){let t=$(this).attr("id"),e=Utils.globalEntryRows[t];e&&Utils.entryDragInfo.addEntry(e)})),Utils.mouseIsDown=!0,!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}function mouseUpOnEntry(t,e,r){Utils.entryDragInfo&&(Utils.entryDragInfo.hasEntry(e)||($("#"+r).css("borderBottom",""),Utils.entryDragInfo.hasEntry(e)||(url=ramaddaBaseUrl+"/entry/copy?action=action.move&from="+Utils.entryDragInfo.getIds()+"&to="+e,document.location=url)))}function EntryFormList(t,e,r,n){this.entryRows=new Array,this.lastEntryRowClicked=null,Utils.entryGroups[t]=this,Utils.groupList.push(this),this.formId=t,this.toggleImg=e,this.on=n,this.entries=new Array,this.groupAddEntry=function(t){this.entries[this.entries.length]=t},this.addEntryRow=function(t){this.groupAddEntry(t.cbxWrapperId),this.entryRows[this.entryRows.length]=t,this.on?t.getCbx().show():t.getCbx().hide()},this.groupAddEntry(r),this.on||hideObject(r),this.groupToggleVisibility=function(){this.on=!this.on,HU.addToDocumentUrl(this.formId+"_visible",this.on),this.setVisibility()},this.findEntryRow=function(t){let e;for(e=0;e<this.entryRows.length;e++)if(this.entryRows[e].rowId==t)return this.entryRows[e];return null},this.checkboxClicked=function(t,e){if(!t)return;let r;for(i=0;i<this.entryRows.length;i++)if(this.entryRows[i].cbxId==e){r=this.entryRows[i];break}if(!r)return;let n=r.isSelected();if(t.ctrlKey)for(i=0;i<this.entryRows.length;i++)this.entryRows[i].setCheckbox(n);if(t.shiftKey){if(this.lastEntryRowClicked){let t=this.lastEntryRowClicked.getCbx().offset().top,e=r.getCbx().offset().top;if(t>e){let r=t;t=e,e=r}for(i=0;i<this.entryRows.length;i++){let r=this.entryRows[i].getCbx().offset().top;r>=t&&r<=e&&this.entryRows[i].setCheckbox(n)}}}else this.lastEntryRowClicked=r},this.setVisibility=function(){this.toggleImg&&(this.on?$("#"+this.toggleImg).html(HU.getIconImage("fas fa-caret-down")):$("#"+this.toggleImg).html(HU.getIconImage("fas fa-caret-right")));let t=$("#"+this.formId);for(this.on?t.find(":checkbox").show():t.find(":checkbox").hide(),i=0;i<this.entries.length;i++)obj=GuiUtils.getDomObject(this.entries[i]),obj&&(this.on?showObject(obj,"block"):hideObject(obj))};let g=HU.getUrlArgument(this.formId+"_visible");null!==g&&(this.on="true"==g,this.setVisibility())}function initEntryListForm(t){let e=Utils.entryGroups[t];e&&(e.on=0,e.setVisbility())}function EntryRow(t,e,r,i,n,g){g||(g={showIcon:!0}),this.args=g,g.entryId=t,Utils.globalEntryRows[t]=this,Utils.globalEntryRows[e]=this,Utils.globalEntryRows[r]=this,this.entryId=t,this.showIcon=g.showIcon,this.onColor="#FFFFCC",this.overColor="#f4f4f4",this.rowId=e,this.cbxId=r,this.cbxWrapperId=i,this.showDetails=n,this.getRow=function(){return $("#"+this.rowId)},this.getCbx=function(){return $("#"+this.cbxId)};let a=this.getCbx().closest("form");if(a.length){let t=Utils.entryGroups[a.attr("id")];t&&t.addEntryRow(this)}else this.getCbx().hide();this.setCheckbox=function(t){this.getCbx().prop("checked",t),this.setRowColor()},this.isSelected=function(){return this.getCbx().is(":checked")},this.setRowColor=function(){this.getRow().removeClass("entry-row-hover"),this.isSelected()?this.getRow().addClass("entry-list-row-selected"):this.getRow().removeClass("entry-list-row-selected")},this.mouseOver=function(t){$("#entrymenuarrow_"+e).attr("src",icon_menuarrow),this.getRow().addClass("entry-row-hover")},this.mouseOut=function(t){$("#entrymenuarrow_"+e).attr("src",icon_blank),this.setRowColor()},this.mouseClick=function(e){eventX=GuiUtils.getEventX(e);let r=this.getRow().offset();if(eventX-r.left<150)return;this.lastClick=eventX;let i=ramaddaBaseUrl+"/entry/show?entryid="+t+"&output=metadataxml";this.showDetails?i+="&details=true":i+="&details=false",this.showIcon?i+="&showIcon=true":i+="&showIcon=false",GuiUtils.loadXML(i,this.handleTooltip,this)},this.handleTooltip=function(t,e){let r=t.responseXML.documentElement;text=getChildText(r);let i=e.getRow().offset().left,n=(e.lastClick,HU.jsLink("",HU.getIconImage(icon_close),["onmousedown","hideEntryPopup();","id","tooltipclose"])),g=HU.image(e.args.icon)+SPACE+e.args.name,a=HU.div([CLASS,"ramadda-popup-header"],n+SPACE2+g),o=HU.div([CLASS,"ramadda-popup",STYLE,"display:block;"],a+"<table>"+text+"</table>"),s=HtmlUtils.getTooltip();s.html(o),s.draggable(),Utils.checkTabs(text);let l=e.getRow().offset(),b=(e.getRow().outerWidth(),e.getRow().outerHeight()),c=HtmlUtils.getTooltip().outerWidth(),d=$(window).width(),u=e.lastClick;e.lastClick+c>d&&(u-=e.lastClick+c-d);let h=u+"px",f=3+l.top+b+"px";s.css({position:"absolute",zIndex:5e3,left:h,top:f}),s.show()}}function hideEntryPopup(){HtmlUtils.getTooltip().hide()}function findEntryRow(t){let e;for(e=0;e<Utils.groupList.length;e++){let r=Utils.groupList[e].findEntryRow(t);if(r)return r}return null}function entryRowOver(t){let e=findEntryRow(t);e&&e.mouseOver()}function entryRowOut(t){let e=findEntryRow(t);e&&e.mouseOut()}function entryRowClick(t,e){let r=findEntryRow(e);r&&r.mouseClick(t)}function checkboxClicked(t,e,r){if(!t)return;let n=GuiUtils.getDomObject(r);if(!n)return;n=n.obj;let g=new Array;if(!n.form)return;let a=n.form.elements;for(i=0;i<a.length;i++)(a[i].name.indexOf(e)>=0||a[i].id.indexOf(e)>=0)&&g.push(a[i]);let o=n.checked;if(t.ctrlKey)for(i=0;i<g.length;i++)g[i].checked=o;if(t.shiftKey){if(lastCbxClicked){let t=GuiUtils.getTop(n),e=GuiUtils.getTop(lastCbxClicked),a=$("#"+lastCbxIdClicked),s=$("#"+r);if(a.position()&&(e=a.position().top),s.position()&&(t=s.position().top),t>e){let r=t;t=e,e=r}for(i=0;i<g.length;i++){let r=$("#"+g[i].id).position().top;r>=t&&r<=e&&(g[i].checked=o)}}}else lastCbxClicked=n,lastCbxIdClicked=r}function toggleBlockVisibility(t,e,r,i){toggleVisibility(t,"block")?HU.isFontAwesome(r)?$("#"+e).html(HU.makeToggleImage(r)):$("#"+e).attr("src",r):HU.isFontAwesome(r)?$("#"+e).html(HU.makeToggleImage(i)):$("#"+e).attr("src",i),Utils.ramaddaUpdateMaps()}function toggleInlineVisibility(t,e,r,i){let n,g=GuiUtils.getDomObject(e);n=toggleVisibility(t,"inline")?r:i,StringUtil.startsWith(n,"fa-")?$("#"+e).html(HtmlUtils.getIconImage(n,[])):g&&(g.obj.src=n),Utils.ramaddaUpdateMaps()}dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,e){return dateFormat(this,t,e)},$(document).ready((function(){HU.documentReady=!0,Utils.checkForResize()})),Utils.areDisplaysReady();let originalImages=new Array,changeImages=new Array;function folderClick(t,e,r){changeImages[t]=r;let i=$("#"+t);if(0==i.length)return;let n=$("#img_"+t);"none"!=i.css("display")?(r&&n.html(HU.getIconImage("fa-caret-right")),i.hide()):(originalImages[t]=n.html(),i.show(),n.html(HU.getIconImage("fa-caret-down")),(e+="&orderby=entryorder&ascending=true").startsWith("/")&&currentRamaddaBase&&(e=currentRamaddaBase+e),GuiUtils.loadXML(e,handleFolderList,t))}function handleFolderList(request,uid){if(null!=request.responseXML){let xmlDoc=request.responseXML.documentElement,script,html;for(i=0;i<xmlDoc.childNodes.length;i++){let t=xmlDoc.childNodes[i];"javascript"==t.tagName?script=getChildText(t):"content"==t.tagName&&(html=getChildText(t))}html||(html=getChildText(xmlDoc)),html&&($("#"+uid).html("<div>"+html+"</div>"),Utils.checkTabs(html)),script&&eval(script)}changeImages[uid]?$("#img_"+uid).attr("src",icon_folderopen):$("#img_"+uid).attr("src",originalImages[uid])}let selectors=new Array;function Selector(t,e,r,i,n,g,a,o){this.id=e,this.elementId=r,this.localeId=g,this.entryType=a,this.allEntries=i,this.selecttype=n,this.textComp=GuiUtils.getDomObject(this.elementId),this.ramaddaUrl=o||ramaddaBaseUrl,this.getTextComponent=function(){let t="#"+this.elementId;return $(t)},this.getHiddenComponent=function(){let t="#"+this.elementId+"_hidden";return $(t)},this.clearInput=function(){this.getHiddenComponent().val(""),this.getTextComponent().val("")},this.handleClick=function(t){let e=this.id+"_selectlink",r=$("#"+e);0==r.length&&(r=$("#"+this.id)),HtmlUtils.hidePopupObject(t),this.div=GuiUtils.getDomObject("ramadda-selectdiv");let i=$("#ramadda-selectdiv");i.show(),i.position({of:r,my:"left top",at:"left bottom",collision:"none none"});let n="/entry/show?output=selectxml&selecttype="+this.selecttype+"&allentries="+this.allEntries+"&target="+this.id+"&noredirect=true&firstclick=true";if(this.ramaddaUrl&&!this.ramaddaUrl.startsWith("/")){let t=new URL(this.ramaddaUrl).pathname,e=this.ramaddaUrl.replace(t,"");currentRamaddaBase=e,n=this.ramaddaUrl+n}else currentRamaddaBase=null,n=ramaddaBaseUrl+n;return this.localeId&&(n=n+"&localeid="+this.localeId),this.entryType&&(n=n+"&entrytype="+this.entryType),GuiUtils.loadXML(n,handleSelect,this.id),!1},this.handleClick(t)}function selectClick(t,e,r){selector=selectors[t];let i=getHandler(t);if(i||(i=getHandler(selector.elementId)),i)return i.selectClick(selector.selecttype,t,e,r),selectCancel(),void console.log("no handler");if("wikilink"==selector.selecttype)insertAtCursor(selector.elementId,selector.textComp.obj,"[["+e+"|"+r+"]]");else if("fieldname"==selector.selecttype)insertAtCursor(selector.elementId,selector.textComp.obj,r);else if("entryid"==selector.selecttype){let t=HU.getWikiEditor(selector.elementId);t?t.insertTags(e," ","importtype"):insertText(selector.elementId,e)}else"entry:entryid"==selector.selecttype?HU.getWikiEditor(selector.elementId).insertTags("entry:"+e," ","importtype"):(selector.getHiddenComponent().val(e),selector.getTextComponent().val(r));selectCancel()}function selectCancel(t){!t&&$("#ramadda-selectdiv-pin").attr("data-pinned")||$("#ramadda-selectdiv").hide()}function selectCreate(t,e,r,i,n,g,a,o){let s=e+(o||"");selectors[s]?selectors[s].handleClick(t):selectors[e]=selectors[s]=new Selector(t,e,r,i,n,g,a,o)}function selectInitialClick(t,e,r,i,n,g,a,o){return selectCreate(t,e,r,i,n,g,a,o),!1}function clearSelect(t){if(selector=selectors[t],selector)selector.clearInput();else{let e=GuiUtils.getDomObject(t),r=GuiUtils.getDomObject(t+"_hidden");r&&(r.obj.value=""),e&&(e.obj.value="")}}function handleSelect(request,id){selector=selectors[id];let xmlDoc=request.responseXML.documentElement;text=getChildText(xmlDoc);let pinId=selector.div.id+"-pin",pin=HU.jsLink("",HtmlUtils.getIconImage(icon_pin),["class","ramadda-popup-pin","id",pinId]),closeImage=HtmlUtils.getIconImage(icon_close,[]),close='<a href="javascript:selectCancel(true);">'+closeImage+"</a>",header=HtmlUtils.div(["style","text-align:left;","class","ramadda-popup-header"],SPACE+close+SPACE+pin),popup=HtmlUtils.div(["id",id+"-popup"],header+text);selector.div.obj.innerHTML=popup,$("#"+selector.div.id).draggable(),$("#"+pinId).click((function(){$(this).attr("data-pinned")?($(this).removeClass("ramadda-popup-pin-pinned"),$(this).attr("data-pinned",!1)):($(this).addClass("ramadda-popup-pin-pinned"),$(this).attr("data-pinned",!0))}));let arr=selector.div.obj.getElementsByTagName("script");for(let n=0;n<arr.length;n++)eval(arr[n].innerHTML)}function getChildText(t){let e="";for(childIdx=0;childIdx<t.childNodes.length;childIdx++)e+=t.childNodes[childIdx].nodeValue;return e}function toggleVisibility(t,e){let r=$("#"+t).css("display");return $("#"+t).toggle(),"block"!=r}function hide(t){$("#"+t).hide()}function showStickyPopup(t,e,r,i){let n="left top",g="left top";$("#"+r).show("slow"),$("#"+r).position({of:jQuery("#"+e),my:n,at:g,collision:"none none"}),$("#"+r).position({of:jQuery("#"+e),my:n,at:g,collision:"none none"})}function hideObject(t){return t?($("#"+t.id).hide(),1):0}function showObject(t,e){if(!t)return 0;$("#"+t.id).show()}function toggleVisibilityOnObject(t,e){if(!t)return 0;$("#"+t.id).toggle()}let EntryTree={initSelectAll:function(){$("#selectall").click((function(t){let e=$(this).is(":checked");$(".ramadda-entry-select").each((function(){let t=Utils.globalEntryRows[$(this).attr("id")];t&&t.setCheckbox(e)}))}))},entryRowCheckboxClicked:function(t,e){let r=GuiUtils.getDomObject(e);if(!r)return;if(r=r.obj,!r.form)return;let i=Utils.entryGroups[r.form.id];i&&i.checkboxClicked(t,e)}};var OUTPUT_JSON="json",OUTPUT_CSV="default.csv",OUTPUT_ZIP="zip.tree",OUTPUT_EXPORT="zip.export",DEFAULT_MAX=100,OUTPUTS=[{id:OUTPUT_ZIP,name:"Download Zip"},{id:OUTPUT_EXPORT,name:"Export"},{id:OUTPUT_JSON,name:"JSON"},{id:OUTPUT_CSV,name:"CSV"}];function getRamadda(t){t||(t=ramaddaBaseUrl);let e=t.split(";"),r=null;e.length>1&&(t=e[0].trim(),r=e[1].trim());let i=null,n=new RegExp("^(.*)\\((.+)\\).*$").exec(t);if(n&&(t=n[1].trim(),i=n[2]),"this"==t)return getGlobalRamadda();null==window.globalRamaddas&&(window.globalRamaddas={});let g=window.globalRamaddas[t];if(null!=g)return g;let a=window[t];return null==a&&(a=window[t+"Repository"]),a&&(g=new Object,a.call(g,r,i)),null==g&&(g=new Ramadda(t),null!=r&&(g.name=r)),addRepository(g),g}function addRepository(t){null==window.globalRamaddas&&(window.globalRamaddas={}),window.globalRamaddas[t.repositoryRoot]=t}function getGlobalRamadda(){return getRamadda(ramaddaBaseUrl)}function Repository(t){let e=null,r=t.match("^(http.?://[^/]+)/");r&&r.length>0&&(e=r[1]),RamaddaUtil.defineMembers(this,{repositoryRoot:t,baseEntry:null,hostname:e,name:null,getId:function(){return this.repositoryRoot},getSearchMessage:function(){return"Searching "+this.getName()},getSearchLinks:function(t){return null},getSearchUrl:function(t){return null},getId:function(){return this.repositoryRoot},getIconUrl:function(t){return ramaddaCdn+"/icons/page.png"},getEntryTypes:function(t){return new Array},getEntryType:function(t){return null},getMetadataCount:function(t,e){return 0},getEntryUrl:function(t,e){return null},getBaseEntry:function(t){if(null!=this.baseEntry)return this.baseEntry},getRoot:function(){return this.repositoryRoot},getHostname:function(){return this.hostname},canSearch:function(){return!0},getName:function(){if(this.children)return"Search all repositories";if(null!=this.name)return this.name;if(0==this.repositoryRoot.indexOf("/"))return this.name="This RAMADDA";let t=this.repositoryRoot,e=document.createElement("a");e.href=t;let r=e.hostname,i=e.pathname;return"/repository"==i?r:this.name=r+": "+i}})}function RepositoryContainer(t,e){let r;this._id="CONTAINER",RamaddaUtil.inherit(this,r=new Repository(t)),RamaddaUtil.defineMembers(this,{name:e,children:[],canSearch:function(){return!1},getSearchMessage:function(){return"Searching "+this.children.length+" repositories"},addRepository:function(t){this.children.push(t)},getEntryTypes:function(t){if(null!=this.entryTypes)return this.entryTypes;this.entryTypes=[];let e={};for(let t=0;t<this.children.length;t++){let r=this.children[t].getEntryTypes();if(null!=r)for(let t=0;t<r.length;t++){let i=r[t];if(null==e[i.getId()]){let t={};t=$.extend(t,i),e[i.getId()]=t,this.entryTypes.push(t)}else e[i.getId()].entryCount+=i.getEntryCount()}}return this.entryTypes}})}function Ramadda(t){let e;null==t&&(t=ramaddaBaseUrl),RamaddaUtil.inherit(this,e=new Repository(t)),RamaddaUtil.defineMembers(this,{entryCache:{},entryTypes:null,entryTypeMap:{},toString:function(){return"ramadda:"+this.getId()},canSearch:function(){return!0},getJsonUrl:function(t){return this.repositoryRoot+"/entry/show?entryid="+t+"&output=json"},createEntriesFromJson:function(t){let e=new Array;for(let r=0;r<t.length;r++){let i=t[r];i.baseUrl=this.getRoot();let n=new Entry(i);this.addEntry(n),e.push(n)}return e},getEntryType:function(t){return this.entryTypeMap[t]},entryTypeCallPending:!1,entryTypeCallbacks:null,getEntryTypes:function(t,e){if(null!=this.entryTypes)return this.entryTypes;if(this.entryTypeCallPending){let e=this.entryTypeCallbacks;return null==e&&(e=[]),e.push(t),this.entryTypeCallbacks=e,this.entryTypes}let r=this,i=this.repositoryRoot+"/entry/types";e&&(i=i+"?types="+e),this.entryTypeCallPending=!0,this.entryTypeCallbacks=null;$.getJSON(i,(function(e){if(GuiUtils.isJsonError(e))return;r.entryTypes=[];for(let t=0;t<e.length;t++){let i=new EntryType(e[t]);r.entryTypeMap[i.getId()]=i,r.entryTypes.push(i)}null!=t&&t(r,r.entryTypes);let i=r.entryTypeCallbacks;if(r.entryTypeCallPending=!1,r.entryTypeCallbacks=null,i)for(let t=0;t<i.length;t++)i[t](r,r.entryTypes)})).done((function(t,e,i){r.entryTypeCallPending=!1})).always((function(t,e,i){r.entryTypeCallPending=!1})).fail((function(t,e,n){r.entryTypeCallPending=!1;let g="";n&&n.length>0&&(g+=":  "+n),GuiUtils.handleError("An error has occurred reading entry types"+g,"URL: "+i,!1)}));return this.entryTypes},metadataCache:{},metadataCachePending:{},metadataCacheCallbacks:{},getMetadataCount:function(t,e){let r=t.getType(),i=this.metadataCache[r];if(null!=i)return e(t,i),null;if(this.metadataCachePending[r]){let t=this.metadataCacheCallbacks[r];return null==t&&(t=[]),t.push(e),this.metadataCacheCallbacks[r]=t,null}this.metadataCacheCallbacks[r]=null,this.metadataCachePending[r]=!0;let n=this.repositoryRoot+"/metadata/list?metadata_type="+t.getType()+"&response=json",g=this;$.getJSON(n,(function(i){let n=g.metadataCacheCallbacks[r];if(g.metadataCachePending[r]=!1,!GuiUtils.isJsonError(i)&&(g.metadataCache[r]=i,e(t,i),n))for(let e=0;e<n.length;e++)n[e](t,i)})).fail((function(t,e,i){g.metadataCachePending[r]=!1;let a=e+", "+i;GuiUtils.handleError("Error getting metadata count: "+a,n,!1)}));return null},getEntryUrl:function(t,e){let r;r="string"==typeof t?t:t.id;let i=this.getRoot()+"/entry/show?entryid="+r;return null!=e&&(StringUtil.startsWith(e,"&")||(i+="&"),i+=e),i},getEntryDownloadUrl:function(t,e){let r;r="string"==typeof t?t:t.id;let i=this.getRoot()+"/entry/get?entryid="+r;return null!=e&&(StringUtil.startsWith(e,"&")||(i+="&"),i+=e),i},getSearchLinks:function(t){let e=[];for(let r=0;r<OUTPUTS.length;r++)e.push(HtmlUtils.href(this.getSearchUrl(t,OUTPUTS[r].id),OUTPUTS[r].name));return e},getUrlRoot:function(){return this.repositoryRoot},getSearchUrl:function(t,e,r){let i=this.repositoryRoot+"/search/do?output="+e;for(let e=0;e<t.types.length;e++){i+="&type="+t.types[e]}null!=t.parent&&t.parent.length>0&&(i+="&group="+t.parent),null!=t.provider&&t.provider.length>0&&(i+="&provider="+t.provider),null!=t.text&&t.text.length>0&&(i+="&text="+t.text),null!=t.name&&t.name.length>0&&(i+="&name="+t.name),t.startDate&&t.startDate.length>0&&(i+="&datadate.from="+t.startDate),t.endDate&&t.endDate.length>0&&(i+="&datadate.to="+t.endDate),t.createstartDate&&t.createstartDate.length>0&&(i+="&createdate.from="+t.createstartDate),t.createendDate&&t.createendDate.length>0&&(i+="&createdate.to="+t.createendDate),t.entries&&t.entries.length>0&&(i+="&entries="+t.entries),t.orderBy&&(i+="&orderby="+t.orderBy,Utils.isDefined(t.ascending)&&(i+="&ascending="+(t.ascending?"true":"false"))),t.getAreaContains()&&(i+="&areamode=contains"),isNaN(t.getNorth())||(i+="&maxlatitude="+t.getNorth()),isNaN(t.getWest())||(i+="&minlongitude="+t.getWest()),isNaN(t.getSouth())||(i+="&minlatitude="+t.getSouth()),isNaN(t.getEast())||(i+="&maxlongitude="+t.getEast()),t.ancestor&&(i+="&ancestor="+encodeURIComponent(t.ancestor));for(let e=0;e<t.metadata.length;e++){let r=t.metadata[e];i+="&metadata_attr1_"+r.type+"="+encodeURIComponent(r.value)}return i+="&max="+t.getMax(),i+="&skip="+t.getSkip(),t.rootEntry&&(i+="&rootEntry="+encodeURIComponent(t.rootEntry)),i+=t.getExtra(),i},addEntry:function(t){this.entryCache[t.getId()]=t},getEntry:async function(t,e){let r=!1;if(null==t)return console.log("Error in getEntry: entry id is null"),console.trace(),null;let i=this.entryCache[t];if(null!=i)return Utils.call(e,i);if(window.globalRamaddas)for(let r=0;r<window.globalRamaddas.length;r++){let i=window.globalRamaddas[r].entryCache[t];if(null!=i)return Utils.call(e,i)}if(null==e)return null;let n=this,g=this.getJsonUrl(t)+"&ancestors=true";await $.getJSON(g,(function(t){if(GuiUtils.isJsonError(t))return void 0;let r=createEntriesFromJson(t,n),i=null;r.length>0&&(i=r[0]),Utils.call(e,i,r)})).fail((function(t,e,r){let i=e+", "+r;GuiUtils.handleError("Error getting entry information: "+i,g,!1)}))}})}function createEntriesFromJson(t,e){return null==e&&(e=getGlobalRamadda()),e.createEntriesFromJson(t)}var metadataTypeCount=-1,metadataColorPalette=["#FDF5E6","#F0FFFF","#FFE3D5","#a7d0cd","#fbeeac","#dbe3e5","#e8e9a1"],metadataColors={};function getMetadataColor(t){return t.color?t.color:metadataColors[t]?metadataColors[t]:metadataColorPalette[0]}function MetadataType(t,e,r){$.extend(this,{type:t,label:e,value:r}),this.color=Utils.getEnumColor(t),$.extend(this,{getType:function(){return this.type},getColor:function(){return this.color},getLabel:function(){return null!=this.label?this.label:this.type},getValue:function(){return this.value}})}function EntryTypeColumn(t){$.extend(this,t),RamaddaUtil.defineMembers(this,{getName:function(){return this.name},getLabel:function(){return this.label},getType:function(){return this.type},getValues:function(){return this.values},getSuffix:function(){return this.suffix},getSearchArg:function(){return"search."+this.namespace+"."+this.name},getCanSearch:function(){return this.cansearch},getCanShow:function(){return this.canshow},isEnumeration:function(){return"enumeration"==this.getType()||"enumerationplus"==this.getType()},isNumeric:function(){return"double"==this.getType()||"int"==this.getType()},isUrl:function(){return"url"==this.getType()}})}function EntryType(t){let e=t.columns;null==e&&(e=[]);let r=[];for(let t=0;t<e.length;t++)r.push(new EntryTypeColumn(e[t]));t.columns=r,$.extend(this,t),RamaddaUtil.defineMembers(this,{getIsGroup:function(){return this.isgroup},getIcon:function(){return this.icon},getLabel:function(){return this.label||this.name},getId:function(){return null!=this.type?this.type:this.id},getCategory:function(){return this.category},getEntryCount:function(){return this.entryCount},getIncludeInSearch:function(){return this.includeInSearch},getColumns:function(){return this.columns}})}function Entry(t){null==t.repositoryId&&(t.repositoryId=t.baseUrl),null==t.repositoryId&&(t.repositoryId=ramaddaBaseUrl);let e=-9999;if(t.typeObject)t.type=new EntryType(t.typeObject);else if(t.type){let e={id:t.type,name:null!=t.typeName?t.typeName:t.type};t.type=new EntryType(e)}if($.extend(this,{id:null,name:null,description:null,bbox:null,geometry:null,services:[],properties:[],childrenEntries:null,startDate:null,endDate:null}),$.extend(this,t),this.domId=Utils.cleanId(this.id),this.startDate=Utils.parseDate(t.startDate),this.endDate=Utils.parseDate(t.endDate),this.endDate&&this.startDate&&this.endDate.getTime()<this.startDate.getTime()){let t=this.startDate;this.startDate=this.endDate,this.endDate=t}this.attributes=[],this.metadata=[];for(let t=0;t<this.properties.length;t++){let e=this.properties[t];"attribute"==e.type?this.attributes.push(e):this.metadata.push(e)}RamaddaUtil.defineMembers(this,{getId:function(){return this.id},getIdForDom:function(){return this.domId},isSynth:function(){return this.id.startsWith("synth:")},getFullId:function(){return this.getRamadda().getRoot()+","+this.id},getDisplayName:function(){return this.displayName?this.displayName:this.getName()},getCreateDate:function(){return this.startCreate},getStartDate:function(){return this.startDate},getEndDate:function(){return this.endDate},getIsGroup:function(){return this.isGroup},getRoot:async function(t,e){let r=this;for(;;){let e;if(await r.getParentEntry((t=>e=t)),!e)return Utils.call(t,r);r=e}},map:async function(t,e){let r;await this.getChildrenEntries((t=>{r=t})),r.map(t),Utils.call(e)},getParentEntry:async function(t,e){return this.parent?this.parentEntry?Utils.call(t,this.parentEntry):void await this.getRamadda().getEntry(this.remoteParent||this.parent,(e=>{this.parentEntry=e,Utils.call(t,e)})):Utils.call(t,null)},getChildrenEntries:async function(t,e){if(null!=this.childrenEntries)return Utils.call(t,this.childrenEntries);new EntrySearchSettings({parent:this.getId()});let r=this.getRamadda().getJsonUrl(this.getAbsoluteId())+"&justchildren=true";null!=e&&(r+="&"+e);let i={entryListChanged:function(e){t(e.getEntries())}},n=new EntryList(this.getRamadda(),r,i,!1);await n.doSearch()},getType:function(){return this.typeObject,this.type},getThumbnail:function(){if(!this.metadata)return null;for(let t=0;t<this.metadata.length;t++){let e=this.metadata[t];if("content.thumbnail"==e.type&&Utils.stringDefined(e.value.attr1)){if(e.value.attr1.startsWith("http"))return e.value.attr1;return"8aace8e1-df60-4c72-b19a-9da6c676f083"==this.getAbsoluteId()&&console.log(this.getAbsoluteId()+"  "+e.value.attr1+" id:"+e.id),this.getRamadda().getRoot()+"/metadata/view/"+e.value.attr1+"?element=1&entryid="+this.getAbsoluteId()+"&metadata_id="+e.id}}return null},getMetadata:function(){return this.metadata},getRamadda:function(){return this.remoteRepository?getRamadda(this.remoteRepository.url):getRamadda(this.repositoryId)},getLocationLabel:function(){return"n: "+this.getNorth()+" w:"+this.getWest()+" s:"+this.getSouth()+" e:"+this.getEast()},getServices:function(){return this.services},getService:function(t){for(let e=0;e<this.services.length;e++)if(this.services[e].relType==t)return this.services[e];return null},goodLoc:function(t){return!isNaN(t)&&t!=e},hasBounds:function(){return this.goodLoc(this.getNorth())&&this.goodLoc(this.getWest())&&this.goodLoc(this.getSouth())&&this.goodLoc(this.getEast())},hasLocation:function(){return this.goodLoc(this.getNorth())},getNorth:function(){return this.bbox?this.bbox[3]:this.geometry?this.geometry.coordinates[1]:e},getWest:function(){return this.bbox?this.bbox[0]:this.geometry?this.geometry.coordinates[0]:e},getSouth:function(){return this.bbox?this.bbox[1]:this.geometry?this.geometry.coordinates[1]:e},getEast:function(){return this.bbox?this.bbox[2]:this.geometry?this.geometry.coordinates[0]:e},getLatitude:function(){return this.geometry?this.geometry.coordinates[1]:this.getNorth()},getLongitude:function(){return this.geometry?this.geometry.coordinates[0]:this.getWest()},getIconUrl:function(){if(null==this.icon)return this.getRamadda().getIconUrl(this);if(this.icon.match("^http.*"))return this.icon;let t,e=this.getRamadda().getHostname();return t=e?e+this.icon:this.icon,t},getIconImage:function(t){return HtmlUtils.image(this.getIconUrl(),t)},getColumns:function(){return null==this.type.getColumns()?new Array:this.type.getColumns()},getAttributes:function(){return this.attributes},getAttribute:function(t){for(let e=0;e<this.attributes.length;e++){let r=this.attributes[e];if(r.id==t)return r}return null},getAttributeValue:function(t){let e=this.getAttribute(t);return null==e?null:e.value},getAttributeNames:function(){let t=[];for(let e=0;e<this.attributes.length;e++){let r=this.attributes[e];t.push(r.id)}return t},getAttributeLabels:function(){let t=[];for(let e=0;e<this.attributes.length;e++){let r=this.attributes[e];r.label?t.push(r.label):t.push(r.id)}return t},getName:function(){return null==this.name||""==this.name?"no name":this.name},getSnippet:function(t){return null==this.snippet?t:this.snippet},getDescription:function(t){return null==this.description?t:this.description},getFilesize:function(){let t=parseInt(this.filesize);return t==t?t:0},getFormattedFilesize:function(){return GuiUtils.size_format(this.getFilesize())},getEntryUrl:function(t){return this.remoteUrl?this.remoteUrl:this.getRamadda().getEntryUrl(this,t)},getFilename:function(){return this.filename},isImage:function(){return!!(this.url&&this.url.search(/(\.png|\.jpg|\.jpeg|\.gif)/i)>=0)||(!!(this.hasResource()&&this.getFilename().search(/(\.png|\.jpg|\.jpeg|\.gif)/i)>=0)||!!this.getThumbnail())},getImageUrl:function(){if(this.url&&this.url.search(/(\.png|\.jpg|\.jpeg|\.gif)/i)>=0)return this.url;if(this.hasResource()&&this.getFilename().search(/(\.png|\.jpg|\.jpeg|\.gif)/i)>=0)return this.getResourceUrl();let t=this.getThumbnail();return t||null},hasResource:function(){return null!=this.getFilename()},getAbsoluteId:function(){if(this.remoteRepository&&this.remoteUrl){let t=this.remoteUrl.match("entryid=(.*)");if(t&&t.length>1)return t[1]}return this.id},getResourceUrl:function(){if(this.url)return this.url;if(this.remoteRepository)return this.remoteRepository.url+"/entry/get?entryid="+this.getAbsoluteId();let t=this.getRamadda().getRoot()+"/entry/get";return null!=this.getFilename()&&(t+="/"+this.getFilename()),t+"?entryid="+this.id},getLink:function(t,e,r){return t||(t=this.getName()),(r=r||[]).push("href",this.getEntryUrl()),e&&(t=this.getIconImage()+SPACE+t),HtmlUtils.tag("a",r,t)},getResourceLink:function(t){return t||(t=this.getName()),HtmlUtils.tag("a",["href",this.getResourceUrl()],t)},toString:function(){return"entry:"+this.getName()+" id:"+this.getId()}})}function EntryList(t,e,r,i){$.extend(this,{repository:t,url:e,listener:r,haveLoaded:!1,entries:[],map:{},getRepository:function(){return this.repository},setEntries:function(t){this.entries=t,this.haveLoaded=!0},getEntry:async function(t,e){let r=this.map[t];if(null!=r)return Utils.call(e,r);await this.getRepository().getEntry(t,(t=>{Utils.call(e,t)}))},getEntries:function(){return this.entries},createEntries:function(t,e,r){this.entries=createEntriesFromJson(t,this.getRepository());for(let t=0;t<this.entries.length;t++){let e=this.entries[t];this.map[e.getId()]=e}null==e&&(e=this.listener),r?r(this):e&&e.entryListChanged&&e.entryListChanged(this)},doSearch:async function(t,e,r){null==t&&(t=this.listener);let i=this;await $.getJSON(this.url,(function(r,n,g){GuiUtils.isJsonError(r)||(i.haveLoaded=!0,i.createEntries(r,t,e))})).fail((function(e,n,g){GuiUtils.handleError("An error occurred doing search: "+g,i.url,!0),r?r(g):t&&t.handleSearchError&&t.handleSearchError(i.url,g)}))}}),i&&this.doSearch()}function EntrySearchSettings(t){$.extend(this,{types:[],parent:null,max:DEFAULT_MAX,skip:0,metadata:[],extra:"",orderBy:"",entries:null,startDate:null,endDate:null,north:NaN,west:NaN,north:NaN,east:NaN,areaContains:!1,getMax:function(){return this.max},getSkip:function(){return this.skip},toString:function(){return"n:"+this.north+" w:"+this.west+" s:"+this.south+" e:"+this.east},getAreaContains:function(){return this.areaContains},setAreaContains:function(t){this.areaContains=t},getNorth:function(){return this.north},getSouth:function(){return this.south},getWest:function(){return this.west},getEast:function(){return this.east},setDateRange:function(t,e){this.startDate=t,this.endDate=e},setCreateDateRange:function(t,e){this.createstartDate=t,this.createendDate=e},setBounds:function(t,e,r,i){this.north=null==t||0==t.toString().length?NaN:parseFloat(t),this.west=null==e||0==e.toString().length?NaN:parseFloat(e),this.south=null==r||0==r.toString().length?NaN:parseFloat(r),this.east=null==i||0==i.toString().length?NaN:parseFloat(i)},getTypes:function(){return this.types},hasType:function(t){return this.types.indexOf(t)>=0},getExtra:function(){return this.extra},setExtra:function(t){this.extra=t},clearAndAddType:function(t){return this.types=[],this.addType(t),this},addType:function(t){if(null!=t&&0!=t.length&&!this.hasType(t))return this.types.push(t),this}}),null!=t&&$.extend(this,t)}function EntryListHolder(t){let e;RamaddaUtil.inherit(this,e=new EntryList(t,null)),$.extend(this,{entryLists:[],addEntryList:function(t){this.entryLists.push(t)},doSearch:function(t){let e=this;null==t&&(t=this.listener);for(let r=0;r<this.entryLists.length;r++){let i=this.entryLists[r];if(!i.getRepository().canSearch())continue;let n={entryListChanged:function(r){t&&t.entryListChanged(e,r)}};i.doSearch(n)}},getEntry:async function(t){for(let e=0;e<this.entryLists.length;e++){let r,i=this.entryLists[e];if(await i.getEntry(t,(t=>{r=t})),null!=r)return r}return null},getEntries:function(){let t=[];for(let e=0;e<this.entryLists.length;e++){let r=this.entryLists[e].getEntries();for(let e=0;e<r.length;e++)t.push(r[e])}return t}})}var wikiPopup=null;function insertDisplayText(t,e){let r=window.globalDisplayTypesMap[e];if(!r)return void insertText(e);let i="{{";"group"==r.type?i+="group ":i+="display_"+r.type+" ",r.wiki&&(i+=r.wiki),i+="}} ",wikiPopup&&wikiPopup.hide(),insertText(t,i)}function insertText(t,e){HtmlUtils.hidePopupObject();var r=HtmlUtils.getTooltip();r&&r.hide();var i=getHandler(t);if(i)i.insertText(e);else{var n=HtmlUtils.getWikiEditor(t);if(n)n.insertAtCursor(e);else{var g=GuiUtils.getDomObject(t);g&&insertAtCursor(t,g.obj,e)}}}function insertAtCursor(t,e,r){r=Utils.decodeText(r);var i=HtmlUtils.getWikiEditor(t);if(i)i.insertAtCursor(r);else{var n=e.scrollTop;if(document.selection)e.focus(),sel=document.selection.createRange(),sel.text=r;else if(e.selectionStart||"0"==e.selectionStart){var g=e.selectionStart,a=e.selectionEnd;e.value=e.value.substring(0,g)+r+e.value.substring(a,e.value.length);let t=g+r.length;e.selectionEnd=t}else e.value+=r;e.scrollTop=n}}function insertTags(t,e,r,i){HtmlUtils.hidePopupObject();var n=getHandler(t);if(n)return void n.insertTags(e,r,i);let g=HtmlUtils.getWikiEditor(t);g?g.insertTags(e,r,i):console.log("Could not find editor:"+t)}function insertTagsInner(t,e,r,i,n){var g;r=Utils.decodeText(r),i=Utils.decodeText(i);var a=HtmlUtils.getWikiEditor(t);if(a){var o=r+i+" ",s=(a=a.getEditor()).getCursorPosition();return a.insert(o),r.endsWith("\n")?(s.row++,s.column=0):s.column+=r.length,a.selection.moveTo(s.row,s.column),void a.focus()}if(e.selectionStart||"0"==e.selectionStart){var l=e.scrollTop;e.focus();var b=e.selectionStart,c=e.selectionEnd;return g=e.value.substring(b,c),e.value=e.value.substring(0,b)+r+g+i+e.value.substring(c,e.value.length),e.selectionStart=b+r.length+g.length+i.length,e.selectionEnd=e.selectionStart-i.length,void(e.scrollTop=l)}if(document.selection&&document.selection.createRange){if(document.documentElement&&document.documentElement.scrollTop)var d=document.documentElement.scrollTop;else if(document.body)d=document.body.scrollTop;e.focus();var u=document.selection.createRange();g=u.text,u.text=r+g+i,u.select&&u.select(),document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop=d:document.body&&(document.body.scrollTop=d)}}class WikiEditor{constructor(t,e,r,i,n){this.entryId=t,this.ID_WIKI_PREVIEW="preview",this.ID_WIKI_PREVIEW_INNER="preview_inner",this.ID_WIKI_PREVIEW_OPEN="preview_open",this.ID_WIKI_PREVIEW_CLOSE="preview_close",this.ID_WIKI_MESSAGE="message",this.ID_WIKI_MENUBAR="menubar",this.ID_WIKI_POPUP_EDITOR="wiki-popup-editor",this.ID_WIKI_POPUP_OK="wiki-popup-ok",this.ID_WIKI_POPUP_CANCEL="wiki-popup-cancel",this.ID_WIKI_POPUP_TIDY="wiki-popup-tidy",this.ID_WIKI_POPUP_COMPACT="wiki-popup-compact",this.initAttributes();var g={autoScrollEditorIntoView:!0,copyWithEmptySelection:!0};n&&$.extend(g,n),$.extend(this,{id:r,editor:ace.edit(r),formId:e,hidden:i}),HU.addWikiEditor(this),this.editor.setBehavioursEnabled(!1),this.editor.setDisplayIndentGuides(!1),this.editor.setKeyboardHandler("emacs"),this.editor.setShowPrintMargin(!1),this.editor.getSession().setUseWrapMode(!0),this.editor.setOptions(g),this.editor.session.setMode("ace/mode/ramadda"),this.toolbar=$("#"+this.getId()+"_toolbar"),this.editor.container.addEventListener("contextmenu",(t=>{t.preventDefault(),this.handlePopupMenu(t)})),this.editor.container.addEventListener("mouseup",(t=>{this.handleMouseUp(t)})),this.editor.container.addEventListener("mouseleave",(t=>{this.handleMouseLeave(t)})),this.editor.container.addEventListener("mousemove",(t=>{this.handleMouseMove(t)})),this.getBlock().find("#"+this.id).append(HU.div([STYLE,HU.css("display","none"),CLASS,"wiki-editor-message",ID,this.domId(this.ID_WIKI_MESSAGE)])),this.wikiInitDisplaysButton(),this.jq("previewbutton").click((()=>{this.doPreview(this.entryId)}))}getId(){return this.id}domId(t){return this.getId()+"_"+t}jq(t){return $("#"+this.domId(t))}showMessage(t){this.jq(this.ID_WIKI_MESSAGE).css("display","block").html(t)}clearMessage(t){this.jq(this.ID_WIKI_MESSAGE).css("display","none")}getEditor(){return this.editor}getValue(){return this.getEditor().getValue()}getBlock(){return $("#"+this.getId()+"_block")}getScroller(){return this.getBlock().find(".ace_scroller")}getSession(){return this.getEditor().session}insertAtCursor(t){if(t=Utils.decodeText(t),this.popupShowing){let e=this.jq(this.ID_WIKI_POPUP_EDITOR)[0];if(e)return insertAtCursor(null,e,t),e.focus(),this.jq(this.ID_WIKI_MENUBAR).find(".wiki-popup-menu-item").css("display","none"),void setTimeout((()=>{this.jq(this.ID_WIKI_MENUBAR).find(".wiki-popup-menu-item").removeAttr("style")}),1e3)}this.getEditor().getCursorPosition();this.getEditor().insert(t),this.getEditor().focus()}insertTags(t,e,r){var i=(t=Utils.decodeText(t))+(e=Utils.decodeText(e))+" ",n=this.getEditor().getCursorPosition();this.getEditor().insert(i),t.endsWith("\n")?(n.row++,n.column=0):n.column+=t.length,this.getEditor().selection.moveTo(n.row,n.column),this.getEditor().focus()}getTagInfo(t){t=t||this.getEditor().getCursorPosition();let e=this.getSession().doc.positionToIndex(t),r=this.getEditor().getValue(),i=e,n=-1,g=-1,a=!1;for(;i>=0;){if("{"!=r[i])a=!1,i--;else{if(a){n=i;break}a=!0,i--}}if(n>=0)for(a=!1,i=n;i<r.length;)if("}"!=r[i])i++,a=!1;else{if(a){g=i;break}a=!0,i++}if(e>=n&&e<=g&&n>=0&&g>=n){let t,e=r.substring(n,g+1),i=e.match(/\{\{ *([^ \n\}]+)/);if(i&&i.length>1&&(t=i[1]),t){let r="",a=e.trim().substring(2),o=a.indexOf(" "),s=a.indexOf("}}");a=-1!=o&&o<s?a.substring(o).trim():a.substring(s).trim(),a.endsWith("}}")&&(a=a.replace(/}}$/,"")),"group"==t?(r="group",t="display"):t.startsWith("display_")?(r=t.substring(8),t="display"):(i=e.match(/type *= *\"([^\"]+)\"?/),i&&i.length>1&&(r=i[1]));let l=0,b=this.getSession().doc.getAllLines(),c=0,d=-1,u=-1,h=-1,f=-1,p=n+1,m=g+1;b.every((t=>{let e=l+t.length+1;return-1==d&&e>=p&&(d=c,h=p-l-1),-1!=d&&-1==u&&e>=m?(u=c,f=m-l,!1):(c++,l=e,!0)}));let y={start:{row:d,column:h},end:{row:u,column:f}};return y=new(0,ace.require("ace/range").Range)(d,h,u,f),{range:y,tag:t,type:r,left:n,right:g,chunk:e,attrs:a}}}let o=e;for("\n"==r[o]&&o--;o>=0&&"\n"!==r[o];)o--;if(o<0&&"+"==r[o+1]&&(o=0),o>=0){let e=r.substring(o).trim();if(e.startsWith("+")){let r=e.indexOf("\n");r>=0&&(e=e.substring(0,r));let i=e.length,n=e.match("[^ ]+([^\n]*)$");if(n&&(n=n[1].trim()),!e)return null;let g=e.match("\\+([^ \n]+)[ \n]");if(!g)return;return e=g[1],{range:new(0,ace.require("ace/range").Range)(t.row,0,t.row,i),tag:e,type:"plus",attrs:n||""}}}return null}handleSubmit(){0==$("#"+this.hidden).length&&console.log("WikiEdit.handleSubmit: no hidden value"),$("#"+this.hidden).val(this.getEditor().getValue())}async doPreview(t,e){let r=this.getId();$("#"+r);if(!e){let t=$(window).width()-200;$("#"+this.domId(this.ID_WIKI_PREVIEW)).remove(),$(HU.div([ID,this.domId(this.ID_WIKI_PREVIEW),CLASS,"wiki-editor-preview"],"")).appendTo(this.getBlock()),$("#"+this.domId(this.ID_WIKI_PREVIEW)).css("width",t+"px")}let i=HtmlUtils.div(["class","ramadda-menubar","style","text-align:center;width:100%;border:1px solid #ccc"],HU.span([CLASS,"ramadda-clickable",ID,this.domId(this.ID_WIKI_PREVIEW_OPEN)],HtmlUtils.getIconImage("fa-sync",["title","Preview Again"]))+SPACE2+HU.span([CLASS,"ramadda-clickable",ID,this.domId(this.ID_WIKI_PREVIEW_CLOSE)],HtmlUtils.getIconImage("fa-window-close",["title","Close Preview"]))),n=this.getValue(),g=ramaddaBaseUrl+"/wikify";$.post(g,{doImports:"false",entryid:t,text:n},((r,n,g)=>{if(e)$("#"+this.domId(this.ID_WIKI_PREVIEW_INNER)).html(r);else{r=HtmlUtils.div([ID,this.domId(this.ID_WIKI_PREVIEW_INNER),CLASS,"wiki-editor-preview-inner"],r),r=i+r;let e=$("#"+this.domId(this.ID_WIKI_PREVIEW));try{e.html(r).show()}catch(t){e.html(HU.getErrorDialog("An error occurred:"+t))}e.draggable(),e.resizable({handles:"ne, nw"}),$("#"+this.domId(this.ID_WIKI_PREVIEW_OPEN)).click((()=>{this.doPreview(t,!0)})),$("#"+this.domId(this.ID_WIKI_PREVIEW_CLOSE)).click((()=>{$("#"+this.domId(this.ID_WIKI_PREVIEW)).hide()}))}})).fail(((t,e,r)=>{console.log("error")}))}getAttributeBlocks(t,e,r){if(!t)return null;let i=[],n=null,g=t=>{i.push(n={title:t,items:[]})},{attrs:a,title:o,display:s}=this.getDisplayAttributes(t),l=this.getWikiAttributes(t,(i=>{this.getAttributeBlocks(t,e,r)}));if(!1===l)return!1;l&&(a=Utils.mergeLists(a,l));let b="ramadda-menu-item "+(e?" ramadda-hoverable ramadda-highlightable ":""),c=t=>{if(t.inline||t.inlineLabel)return void g(t.inline||t.inlineLabel);if(t.label&&!t.p)return void g(t.label);if(t.info)return void n.items.push(HU.div([CLASS,b],"<i>"+t.info+"</i>"));if(!t.p)return void console.log("Unknown arg:"+JSON.stringify(t));let e=t.label||t.p,r="";r=Utils.isDefined(t.ex)?String(t.ex):Utils.isDefined(t.d)?String(t.d):"",r=r.trim(),(r.indexOf(" ")>=0||""==r)&&(r='"'+r+'"'),r=" "+t.p+"="+r+" ",r=r.replace(/\"/g,"&quot;"),n?n.items.push(HU.div([CLASS,b,TITLE,t.tt||""],HtmlUtils.onClick("insertText('"+this.getId()+"','"+r+"')",e))):console.log("no attribute block")};if(!a)return null;if(a.forEach((t=>{c(t)})),s){let t=Utils.getColorTablePopup(this,!0);i.push({title:"Color table",items:t})}o||(o=Utils.makeLabel(t.tag)+" Properties");let d={blocks:i,title:o,display:s};return r&&r(d),d}handlePopupMenu(t,e){let r=this.getTagInfo();if(!r)return;if(!e)return void this.getAttributeBlocks(r,!0,(e=>{this.handlePopupMenu(t,e)}));let i=e.blocks,n=e.title;e.display;if(0==i.length)return;let g=HU.open("div",[CLASS,"wiki-editor-popup"]);n||(n=Utils.makeLabel(r.tag)+" Properties"),g+=HU.div([CLASS,"wiki-editor-popup-heading"],n),Utils.splitList(i,5).forEach((t=>{g+=HU.open("div",[CLASS,"wiki-editor-popup-section"]),t.forEach((t=>{if("string"==typeof t)return void(g+=t);let e=t.title;e=HU.div([CLASS,"wiki-editor-popup-header"],e);let r=t.items.join("");r=HU.div([CLASS,"wiki-editor-popup-items"],r),g+=HU.toggleBlock(t.title,r)})),g+=HU.close("div")})),g+="</div>";let a=HtmlUtils.setPopupObject(HtmlUtils.getTooltip());a.html(g),a.show(),a.position({of:$(window),my:"left top",at:"left+"+t.x+" top+"+t.y,collision:"fit fit"})}handleMouseUp(t,e){if(!t.metaKey)return;let r=this.getEditor().renderer.screenToTextCoordinates(t.x,t.y);if(!r)return;let i=this.getTagInfo(r);if(!i)return;if(!e)return void this.getAttributeBlocks(i,!1,(e=>{this.handleMouseUp(t,e)}));let n=e.blocks,g=e.title,a=(e.display,i.attrs),o="",s=i.type||i.tag;n.forEach(((t,e)=>{if("string"==typeof t)return void console.log(t);let r=t.title;if(r.toLowerCase().startsWith(s)){let t=Utils.makeLabel(r.substring(s.length).trim());""!=t&&(r=t)}if(0==t.items.length)return;let i=Utils.wrap(t.items,"<li>","");o+=HU.tag(TAG_LI,[],HU.div([CLASS,"wiki-popup-menu-header"],r)+HU.tag("ul",[CLASS,"wiki-popup-menu-item"],i))}));let l=this.domId(this.ID_WIKI_MENUBAR);var b=HU.div([CLASS,"wiki-popup-menubar",ATTR_ID,l],HU.tag("ul",[ATTR_ID,l+"_inner",ATTR_CLASS,"sf-menu"],o));let c,d=$(window).width()-100,u=HU.div([ID,this.domId("wiki-editor-popup"),CLASS,"wiki-editor-editor"],b+HU.textarea("",a,["spellcheck","false",STYLE,HU.css("width",d+"px","height","300px"),ID,this.domId(this.ID_WIKI_POPUP_EDITOR),"xrows","10","xcols","120"])+"<br>"+HU.div([STYLE,HU.css("text-align","center","padding","4px")],HU.span([TITLE,"Tidy the text",ID,this.domId(this.ID_WIKI_POPUP_TIDY)],HU.getIconImage("fas fa-broom"))+SPACE1+HU.span([TITLE,"Compact the text",ID,this.domId(this.ID_WIKI_POPUP_COMPACT)],HU.getIconImage("fas fa-snowplow"))+SPACE1+HU.span([ID,this.domId(this.ID_WIKI_POPUP_OK)],"Ok")+SPACE1+HU.span([ID,this.domId(this.ID_WIKI_POPUP_CANCEL)],"Cancel")));c=HU.makeDialog({content:u,anchor:this.getScroller(),title:g,header:!0,sticky:!0,draggable:!0,modal:!0,modalContentsCss:HU.css("left","50px")}),this.popupShowing=!0,this.jq(this.ID_WIKI_POPUP_EDITOR).focus(),this.jq(this.ID_WIKI_POPUP_CANCEL).button().click((()=>{this.popupShowing=!1,c.remove()}));let h=t=>{let e=this.jq(this.ID_WIKI_POPUP_EDITOR).val().trim(),r=Utils.parseAttributesAsList(e),i="",n=0;for(let e=0;e<r.length;e+=2){let g=r[e+1];null!=g&&(g.indexOf(" ")>=0||g.indexOf("\n")>=0||""==g)&&(g='"'+g+'"'),i+=r[e]+"="+g,t?i+="\n":(n++,n>4?(n=0,i+="\n"):i+="  ")}this.jq(this.ID_WIKI_POPUP_EDITOR).val(i)};this.jq(this.ID_WIKI_POPUP_TIDY).button().click((()=>{h(!0)})),this.jq(this.ID_WIKI_POPUP_COMPACT).button().click((()=>{h(!1)})),this.jq(this.ID_WIKI_POPUP_OK).button().click((()=>{let t,e=this.jq(this.ID_WIKI_POPUP_EDITOR).val(),r=i.tag;"display"==r&&("group"==i.type?r="group":""!=i.type&&(r="display_"+i.type)),"plus"==i.type?(e=e.replace(/\n/g," "),t="+"+r+" "+e+" "):t="{{"+r+" "+e+"}}",this.popupShowing=!1,c.remove(),this.getSession().replace(i.range,t)}))}handleMouseLeave(t){this.setInContext(!1)}setInContext(t,e){this.inContext=t;let r=this.getScroller();if(this.tagMarker&&this.editor.session.removeMarker(this.tagMarker),this.tagMarker=null,t){r.css("cursor","context-menu");let t="Right-click to show property menu";"plus"!=e&&(t+="<br>Cmd-click to edit"),this.showMessage(t)}else r.css("cursor","text"),this.clearMessage(),this.lastTimeout&&clearTimeout(this.lastTimeout);this.lastTimeout=null}handleMouseMove(t){this.lastTimeout&&clearTimeout(this.lastTimeout);let e=()=>{let e=this.getEditor().renderer.screenToTextCoordinates(t.x,t.y);if(!e)return;let r=this.getTagInfo(e);r?this.setInContext(!0,r.type):this.setInContext(!1)};this.inContext?e():this.lastTimeout=setTimeout(e,500)}getWikiAttributes(t,e){if(this.wikiAttributes[t.tag])return this.wikiAttributes[t.tag];if(!this.wikiAttributesFromServer){let r=ramaddaBaseUrl+"/wikitags";return $.getJSON(r,(r=>{this.wikiAttributesFromServer=r,e(this.wikiAttributesFromServer[t.tag])})),!1}return this.wikiAttributesFromServer[t.tag]}getDisplayAttributes(t){let e=null,r=[],i=null;if("plus"==t.type)return{attrs:null,title:null,display:null};try{if(i=(new DisplayManager).createDisplay(t.type,{dummy:!0}),i&&(r=i.getWikiEditorTags(),i.getTypeLabel)){e=i.getTypeLabel(),null==e&&(e=Utils.makeLabel(t.type||"")),e+=" Properties";let r=i.getTypeHelpUrl();r&&(e=HU.href(r,e+SPACE+HU.getIconImage(icon_help),["target","_ramaddahelp"]))}}catch(e){console.log("Error getting attrs for:"+t.type+" error:"+e+" stack:"+e.stack)}return{attrs:r,title:e,display:i}}wikiInitDisplaysButton(){let t=this.getId(),e=$("#displays_button"+t);e.click((()=>{if(!window.globalDisplayTypes)return;var r=window.globalDisplayTypes,i={},n=[];DISPLAY_CATEGORIES.forEach((t=>{i[t]=[],n.push(t)})),r.forEach((e=>{if(Utils.isDefined(e.forUser)&&!e.forUser)return;var r=e.category||CATEGORY_MISC;null==i[r]&&(i[r]=[],n.push(r));let g=e.tooltip||"";g=g.replace(/"/g,"&quot;");let a="insertDisplayText('"+t+"','"+e.type+"')",o=HU.div([CLASS,"wiki-editor-popup-link"],HU.href("#",e.label,[CLASS,"display-link ",TITLE,g,"onclick",a]));i[r].push(o)}));let g="<table><tr valign=top>";for(let t=0;t<n.length;t++){let e=n[t],r=Utils.join(i[e],"<div>\n");g+=HU.td([],HU.div([STYLE,"margin-right:5px;"],HU.b(e))+"<div style='margin-right:5px;max-height:250px;overflow-y:auto;'>"+r)}g=HU.div([ID,"wiki-display-popup",STYLE,"font-size:10pt;width:800px;"],g);let a=HU.makeDialog({content:g,my:"left top",at:"left-200px bottom",title:"",anchor:e,draggable:!0,header:!0,initCall:()=>{$("#wiki-display-popup").tooltip({classes:{"ui-tooltip":"wiki-editor-tooltip"},content:function(){return $(this).prop("title")},show:{effect:"slide",delay:500,duration:400},position:{my:"left top",at:"right top"}})}});wikiPopup&&wikiPopup.hide(),wikiPopup=a}))}initAttributes(){this.groupAttributes=[{label:"Collection Properties"},{p:"sortby",ex:"name|date|changedate|createdate",tt:"sort type -name,date, change date, create date"},{p:"sortdir",ex:"up|down",tt:"direction of sort. use up for oldest to youngest"},{p:"entries",ex:"entryid1,entryid2,entryid3..",tt:"comma separated list of entry ids to use"},{p:"entries.filter",ex:"file|folder|image|type:some type|geo|name:name pattern|suffix:file suffixes",tt:"allows you to select what entries to use"},{p:"exclude",ex:"entryid1,entryid2,entryid3..",tt:"comma separated list of entry ids to not use"},{p:"first",ex:"entryid1,entryid2,entryid3..",tt:"comma separated list of entry ids to use first"},{p:"last",ex:"entryid1,entryid2,entryid3..",tt:"comma separated list of entry ids to use last"},{p:"max",ex:"number of entries to use",tt:"max number of entries to use"}],this.wikiAttributesFromServer=null,this.wikiAttributes={tree:Utils.mergeLists([{label:"Tree"},{p:"details",ex:"true"},{p:"showcategories",ex:"true"},{p:"decorate",ex:"true"},{p:"form",ex:"true"},{p:"message",ex:""},{p:"treePrefix",ex:""}],this.groupAttributes),links:Utils.mergeLists([{label:"Links Properties"},{p:"info",ex:"List children entries"},{p:"includeIcon",ex:"true"},{p:"linkresource",ex:"true",tt:"Link to the resource"},{p:"separator",ex:"",tt:"Separator between links"},{p:"horizontal",ex:"true",tt:"Display horizontallly"},{p:"output",ex:"",tt:"Link to output"},{p:"tagopen",ex:"html before link"},{p:"tagclose",ex:"html after link"},{p:"innerClass",ex:""},{p:"class",ex:"",tt:"link css class"},{p:"style",ex:"",tt:"link style"}],this.groupAttributes),section:[{label:"Section Properties"},{p:"title",ex:'"{{name}}"'},{p:"subTitle",ex:'""'},{p:"style",ex:'""'},{p:"titleStyle",ex:'""'},{p:"----",tt:"Add a line"},{p:"#",tt:"Colored sections"}],row:[{label:"Row Properties"},{p:"tight",ex:"true",tt:"Layout rows with no space"}],list:Utils.mergeLists([{label:"List Properties"},{p:"info",ex:":List children entries"},{p:"includeIcon",ex:"true"},{p:"linkresource",ex:"true",tt:"Link to the resource"},{p:"separator",ex:"",tt:"Separator between links"},{p:"output",ex:"",tt:"Link to output"},{p:"tagopen",ex:"",tt:"html before link"},{p:"tagclose",ex:"",tt:"html after link"},{p:"innerClass",ex:""},{p:"class",ex:"",tt:"link css class"},{p:"style",ex:"",tt:"link style"}],this.groupAttributes),information:[{label:"Information Properties"},{p:"info",ex:"Show entry information"},{p:"details",ex:"false"},{p:"showTitle",ex:"true"},{p:"showResource",ex:"true"},{p:"showBase",ex:"true"},{p:"showDetails",ex:"true"}],description:[{label:"Description Properties"},{p:"wikify",ex:"true"},{p:"prefix",ex:""},{p:"suffix",ex:""},{p:"convert",ex:"_newline=true"}],resource:[{label:"Resource Properties"},{p:"info",ex:"",tt:"Link to the resource"},{p:"title",ex:""},{p:"includeIcon",ex:"true"},{p:"url",ex:"true",tt:"Just include the URL"},{p:"message",ex:"",tt:"Message to show when no resource"}],link:[{label:"Link Properties"},{p:"info",ex:"Link to the entry"},{p:"linkresource",ex:"true",tt:"Link to the resource"},{p:"button",ex:"true",tt:"Make a button"},{p:"title",ex:"",tt:"Title to use"},{p:"output",ex:"output type",tt:"Link to the given output"}],daterange:[{label:"Date Range Properties"},{p:"format",ex:"yyyy-MM-dd HH:mm:ss Z"},{p:"separator",ex:""}],html:[{label:"HTML Properties"},{p:"info",ex:"true",tt:"Include the HTML of the entry"},{p:"children",ex:"true",tt:"Include HTML of children entries"}],map:[{label:"Map Properties"},{p:"icon",ex:"#/icons/dots/green.png"},{p:"width",ex:"100%"},{p:"height",ex:"400"},{p:"listentries",ex:"true"},{p:"details",ex:"false"},{p:"showLines",ex:"true"},{p:"showBounds",ex:"false"},{p:"showMarkers",ex:"false"},{p:"showCameraDirection",ex:"false"},{p:"showLocationSearch",ex:"true"},{p:"showCheckbox",ex:"true"},{p:"showSearch",ex:"false"},{p:"showLatLonLines",ex:"true"},{p:"showScaleLine",ex:"true"},{p:"showLayerSwitcher",ex:"true"},{p:"showLatLonPosition",ex:"true"},{p:"showZoomPanControl",ex:"true"},{p:"showZoomOnlyControl",ex:"true"},{p:"showBookmarks",ex:"true"},{p:"showBounds",ex:"true"},{p:"showOpacitySlider",ex:"true"},{p:"useThumbnail",ex:"true"},{p:"iconSize",ex:"32"},{p:"iconWidth",ex:"32"},{p:"iconHeight",ex:"32"},{p:"layerStrokeColor",ex:"red"},{p:"layerStrokeWidth",ex:"2"},{p:"layerFillColor",ex:"red"},{p:"layerFillOpacity",ex:"0.5"},{p:"pointRadius",ex:""},{p:"strokeColor",ex:""},{p:"strokeWidth",ex:""},{p:"fillOpacity",ex:""},{p:"fillColor",ex:""},{p:"layerStrokeColor",ex:""},{p:"layerStrokeWith",ex:""},{p:"layerFillColor",ex:""},{p:"layerFillOpacity",ex:""},{p:"highlightStrokeColor",ex:""},{p:"highlightFillColor",ex:""},{p:"highlightStrokeWidth",ex:""},{p:"highlightFillOpacity",ex:""},{p:"popupWidth",ex:"200"},{p:"popupHeight",ex:"200"},{p:"doPopupSlider",ex:"true"},{p:"popupSliderRight",ex:"true"},{p:"linked",ex:"true"},{p:"linkMouse",ex:"true"},{p:"linkGroup",ex:"some name"},{p:"layer",ex:"ol.openstreetmap|esri.topo|esri.street|esri.worldimagery|esri.lightgray|esri.physical|opentopo|usgs.topo|usgs.imagery|shadedrelief|naips|osm.toner|osm.toner.lite|watercolor"},{p:"iconsonly",ex:"false"}],name:[{label:"Name Properties"},{p:"link",ex:"true",tt:"Link to the entry"}],property:[{label:"Property Properties"},{p:"name",ex:""},{p:"value",ex:""}],group:Utils.mergeLists([{label:"Group Properties"},{p:"showMenu",ex:"true"},{p:"showTitle",ex:"true"},{p:"layoutType",ex:"table|flextable|tabs|columns|rows"},{p:"layoutColumns",ex:"1"},{p:"divid",ex:"",tt:"Specify a div id to write displays into"}]),tabs:Utils.mergeLists([{label:"Tabs Properties"},{p:"tag",ex:"html"},{p:"tabsStyle",ex:"min|center|minarrow"},{p:"showLink",ex:"false"},{p:"includeIcon",ex:"true"},{p:"textposition",ex:"top|left|right|bottom"}],this.groupAttributes),grid:Utils.mergeLists([{label:"Grid Properties"},{p:"tag",ex:"card"},{p:"inner-height",ex:"100"},{p:"columns",ex:"3"},{p:"showIcon",ex:"true"},{p:"weights",ex:""},{p:"showSnippet",ex:"false"},{p:"showSnippetHover",ex:"true"},{p:"showLink",ex:"false"},{p:"showHeading",ex:"true"},{p:"showLine",ex:"true"}],this.groupAttributes),frames:Utils.mergeLists([{label:"Frames Properties"},{p:"width",ex:"400"},{p:"height",ex:"400"},{p:"noTemplate",ex:"true",tt:"Don't use the page template in the frame"}],this.groupAttributes),accordian:Utils.mergeLists([{label:"Accordian Properties"},{p:"tag",ex:"html"},{p:"collapse",ex:"false"},{p:"border",ex:"0"},{p:"showLink",ex:"true"},{p:"includeIcon",ex:"false"},{p:"textposition",ex:"left"}],this.groupAttributes),table:Utils.mergeLists([{label:"Table Properties"},{p:"showCategories",ex:"true"},{p:"showDate",ex:"true"},{p:"showCreateDate",ex:"true"},{p:"showChangeDate",ex:"true"},{p:"show",ex:"&lt;column name&gt;=true"}],this.groupAttributes),recent:Utils.mergeLists([{label:"Recent Properties"},{p:"info",ex:"",tt:"List N days recent entries by day"},{p:"days",ex:"num days"}],this.groupAttributes),multi:[{label:"Multi Properties"},{info:"Create multiple wiki tags"},{p:"_tag",ex:"tag to create"},{p:"_template",ex:"",tt:"wiki text template. Escape { and } with backslash"},{p:"_entries",ex:"entries",tt:"entries to apply to"},{p:"_headers",ex:"comma separated headers"},{p:"_headerTemplate",ex:"...${header}..."},{p:"_columns",ex:"number of columns"},{p:"_width",ex:"200",tt:"Set the width and flow the blocks"},{p:"_style",ex:"padding:10px;",tt:"Style for each block"},{p:"first",ex:".&lt;some attribute&gt;='attr for first tag'"},{p:"last",ex:".&lt;some attribute&gt;='attr for last tag'"},{p:"notlast",ex:".&lt;some attribute&gt;='attr for first N tags'"},{p:"notfirst",ex:".&lt;some attribute&gt;='attr for last N tags'"}],menu:[{label:"Menu Properties"},{p:"menus",ex:"file,edit,view,feeds,other"},{p:"popup",ex:"true"},{p:"breadcrumbs",ex:"true"}]}}}
