<!-- 
Since this is for import add a:
<import resource="type_assets_collection.xml"/>
into some types.xml file
-->
<types>
<type  name="type_assets_collection" 
 description="Asset Collection" 
 handler="org.ramadda.projects.assets.AssetCollectionTypeHandler" 
 supercategory="General" 
 category="Assets" 
childtypes="type_assets_collection,super:type_assets_base,type_assets_license,super:type_assets_thing"
>

<!-- Columns-->
<column  name="asset_type"  label="Asset Type"  type="enumeration"  values=":Select,type_assets_building:Building,type_assets_vehicle:Vehicle" />
<column  name="organization"  label="Organization Name"  type="enumerationplus" />
<column  name="department_entry"  label="Department"  type="entry"  entrytype="type_assets_department"  cansearch="true" />
<column  name="contact_person"  label="Contact"  type="entry"  entrytype="type_assets_personnel" cansearch="true" />
<column  name="show_links"  label="Show Links"  type="boolean"  subgroup="Display" showinhtml="false" default="true" />
<column  name="show_summary"  label="Show Summary"  type="boolean"  showinhtml="false" default="true" />
<column  name="show_map"  label="Show Map"  type="boolean"  showinhtml="false" default="false" />
<action name="assets_report" label="Assets Report" 
canedit="true" icon="fas fa-file-lines" foruser="true" category="view"/>
<action name="assets_new" label="New Asset" 
canedit="true" icon="fas fa-plus" foruser="true" category="file"/>


<!-- Properties-->
<property name="record.file.class" value="org.ramadda.data.point.text.CsvFile"/>
<property  name="icon"  value="/assets/collection.png" />
<property  name="form.resource.show"  value="false" />
<property  name="form.tags.show"  value="false" />

<!-- Wiki text-->
<wiki><![CDATA[
+section title={{name}}
{{description wikify=true}}
+if property=show_links
{{assets_header}}
-if
+if property=show_summary
{{assets_summary}}
-if
:heading List
+center
{{display_simplesearch width=310px                                                                            
ancestor=this                                                                                                
toggle=true                                                                                                  
inputSize=300 doPageSearch=false #doTagSearch=true                                                             
placeholder="Search Assets"                                                                                 
orderBy=name                                                                                 
#pageSearchParent=.ramadda-grid-container                                                                     
}} 
-center
{{tabletree    typeWidth=300px orderby="entryorder,name"
message=""  simple="false"  #maxHeight="500px" showDate=false showCreateDate=false showSize=false }} 
+skip
{{assets_report_table}}
-skip
+if property=show_map                                                                                           
:vspace 1em                                                                                                     
:heading Map
+center                                                                                                         
{{map  hideIfNoLocations=true  detailed=true width=80% height=500px}}                                 
-center                                                                                                         
-if 
:vspace 1em
:heading Collection Information
{{information  showBase="true"  showDetails="true"  showTitle="false"  #menus="file,edit,view,feeds,other,service" 
 #menusTitle="Services"  }} 


-section]]></wiki>
</type>
</types>
