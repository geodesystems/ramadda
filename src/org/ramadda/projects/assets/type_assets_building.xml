<!-- 
Since this is for import add a:
<import resource="type_assets_building.xml"/>
into some types.xml file
-->
<type  name="type_assets_building" 
 description="Building Asset" 
 handler="org.ramadda.projects.assets.AssetBaseTypeHandler" 
 super="type_assets_base" 
 supercategory="General" 
 category="Assets" 
childtypes="type_assets_collection,super:type_assets_base,type_assets_license,super:type_assets_thing"
>

<!-- Columns-->
<column  name="address"  label="Address"  type="string"  size="1000" rows="5" showinhtml="false"  cansearch="true" />
<column  name="building_type"  label="Building Type"  type="enumerationplus"  group="Building Information"  cansearch="true"  values="government:Government Facility,healthcare:Healthcare Facility,transportation:Transportation Hub,  public_safety:Police/Fire Station,  commercial:Commercial Building,residential:Residential Building,  educational:Educational Institution,  recreational:Recreational Facility,cultural:Cultural Center,  utility:Utility Building,industrial:Industrial Facility,storage:Storage/Warehouse,maintenance:Maintenance Facility,  library:Library,parking:Parking Structure,community:Community Center,courthouse:Courthouse,  water_treatment:Water Treatment Plant,waste_management:Waste Management Facility,emergency_shelter:Emergency Shelter,  transit_station:Transit Station,historic:Historic Building,vacant:Vacant Building,other:Other" />
<column  name="square_feet"  label="Square Feet"  type="int" />
<column  name="num_floors"  label="Number of Floors"  type="int" />
<column  name="year_built"  label="Year Built"  type="date"  default="none" />
<column  name="occupancy_status"  label="Occupancy Status"  type="enumerationplus"  cansearch="true" values="  occupied:Occupied, fully_occupied:Fully Occupied, partially_occupied:Partially Occupied,   temporarily_occupied:Temporarily Occupied, vacant:Vacant, idle:Idle, unoccupied:Unoccupied,   under_construction:Under Construction, under_renovation:Under Renovation, under_demolition:Under Demolition,   pending_occupancy:Pending Occupancy, pending_inspection:Pending Inspection, condemned:Condemned,   decommissioned:Decommissioned, surplus:Surplus" />
<!-- Properties-->
<property name="record.file.class" value="org.ramadda.data.point.text.CsvFile"/>
<property  name="icon"  value="/assets/building.png" />
<property  name="date.nullok"  value="true" />
<property  name="asset.type"  value="BLDG" />

<!-- Wiki text-->
<wiki><![CDATA[
+section  title="{{typename}}: {{name}}"
+center
{{field  name="address"   fieldPrefix="<b>Address:</b> " message=""}} 
{{field  name="make"   fieldPrefix="<b>Make/Model:</b> " fieldSuffix=" - "  message=""}} 
{{field  name="model"  message=""}} 
{{field  name="equipment_type" fieldPrefix="<b>Equipment Type:</b> " message=""}} 
-center
+center
{{entrylink  link=""  icon="fas fa-search" title="Asset Search"  makeButton=true showIcon="false"  action="assets_search"  }}
{{entrylink  link=""  icon="fas fa-camera" title="Scan Asset"  makeButton=true showIcon="false"  action="assets_scan"  }}
{{entrylink  link=""  icon="fas fa-list" title="Asset Reports"  makeButton=true showIcon="false"  action="assets_report"  }}
+if candonew=true 
{{entrylink  link=""  icon="fas fa-plus" title="New Asset"  makeButton=true showIcon="false"  action="assets_new"  }}
-if
-center
+center
{{typecount  typecountPrefix=":heading Summary" 
typecountSuffix="" types="super:type_assets_base,super:type_assets_thing"  iconWidth=24px
doColor=true ancestor="${this}" addAncestor=true
addSearchLink=true  topCount=100
hero="false"  template="${icon} ${label}<br>${count}"  
addSearchLink="true"  animated="true" }} 
-center
{{description wikify=true}}
----
+macro prop1
{{properties stripe=false   propertyToggleLimit=100 message=""
headingClass="formgroupheader" layout="linear"  includeTitle="true"  separator=""  decorate="false"
inherited="false"  }}                                                                                                                                  
-macro
+row
+col-8
:vspace 1em
{{information  showDetails=false  showColumns="true" showTitle="false"  showDate=true showBase=false 
macros="prop1" prop1.title="Properties" 
}} 
:vspace 1em
-col
+col-4
<div>
{{typesearch_link  type=""   label="${icon} Search for ${type}" }} 
</div>
{{new_property fromEntry="true" showToggle="true" class="ramadda-button-small"  addEditPropertiesLink="true"}}
+toggle Record Information
{{information  showDetails=false  showTitle="false"  showBase=true showDate=false}} 
-toggle
+center
{{barcode field=asset_id}}
{{image  message="" width="90%" style="margin-bottom:10px;"  useThumbnail="true"}}
-center
:vspace 1em
{{mapentry hideIfNoLocations=true width="100%" height="200px"}}
:vspace 1em
{{list includeIcon="true" details="false" entries="siblings,links"  message="" box.maxheight="200"
xbox.class="entry-sidebox" prefix="====Related====" xblock.show="true" xblock.title="Related" xblock.open="false"}}
-col
-row

{{table prefix=":vspace 1em\n----\n:heading Assets" entries.filter="type:type_assets_thing,type_assets_base"}}

{{grid  contentsHeading=":vspace 1em\n----\n:heading Documents" tag="card"   width="350px"  exclude="type:type_assets_thing,type:type_assets_base"
showIcon="true"  includeChildren="false"  addTags="false"  showDisplayHeader="false" 
captionPrefix=""  captionSuffix=""  showSnippet="false"  showSnippetHover="true"  showLink="false"  showHeading="true" 
showPlaceholderImage="true"}} 

-section]]></wiki>
</type>
