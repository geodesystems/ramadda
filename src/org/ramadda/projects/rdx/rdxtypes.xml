<types  supercategory="Science and Education">

  <type name="rdx_collection"  description="RDX Collection" handler="org.ramadda.repository.type.ExtensibleGroupTypeHandler" category="RDX"   metadata="rdx_notification">
     <property name="icon" value="/rdx/radiometrics_icon.png"/>
     <wiki><![CDATA[
+section title={{name}}
:reload seconds=30 showCheckbox=true showLabel=true
{{description wikify=true}}
{{property name=doEntries value=true}}
{{property name=addAttributes value=true}} 
{{group filterFields=network_up,data_down hideFilterWidget=true sortFields=name
convertData="derived(field=minutes_since, function=Math.round(Utils.toMinutes(new Date().getTime()-last_data)));" 
}} 
{{display_blank hideFilterWidget=false showMenu=true}}
{{display_table  height="300"  showMenu=true
linkField=entry_url iconField=icon  
fields="name,instrument_id,type,city,state,network_up,data_down,minutes_since"
data_down.colorTable=plotly_reds
network_up.colorByMap="true:green,false:red"
colorCells="network_up,data_down"
}} 
{{display_barchart fields=data_down,minutes_since indexField=name forceStrings=true chartRight=80}}
{{display_map  width="100%"  height="400" iconField=icon iconSize=16
doGridPoints=true 
showPoints=true
lengthBy=data_down
hm.colorBy=minutes_since
hm.boundsScale=0.15
cellShape=3dbar
cellSizeHBase=5
cellOffsetX=10
cellOffsetY=9
cellSize=8
cellColor=yellow
cellLabel="data: ${data_down}_nl_minutes: ${minutes_since}"
cellLabelOffsetX=0
cellLabelOffsetY=5
gridWidth=800
radius="12" 
colorBy=network_up colorByMap="true:green,false:red"
showColorTable=false 
linkField=entry_url titleField=name descriptionField=description
}} 
-section
]]>
</wiki>
</type>



  <type name="rdx_instrument"  description="RDX Instrument" handler="org.ramadda.repository.type.ExtensibleGroupTypeHandler" category="RDX">
     <property name="icon" value="/rdx/system-monitor.png"/>
     <property name="form.date.show" value="false"/>
     <property name="form.area.show" value="false"/>
     <property name="form.location.show" value="true"/>
     <property name="form.resource.show" value="false"/>
     <property name="form.datatype.show" value="false"/>
     <property name="form.altitude.show" value="true"/>
     <property name="form.altitude.top.show" value="false"/>
     <column name="instrument_id" type="string"  label="ID"   cansearch="true"  />
     <column name="type" type="enumeration"  label="Instrument Type"   values="radiometer" cansearch="true" />
     <column name="city" type="enumerationplus"  label="City"   />
     <column name="state" type="enumerationplus"  label="State"   values="file:/org/ramadda/repository/resources/geo/statesmap.txt" cansearch="true" />
     <column name="network_up" type="boolean"  label="Network Up" cansearch="true"  default="true">
       <display value="true" background="green"  mapFillColor="green"/>
       <display value="false" background="red"  mapFillColor="red"/>
     </column>
     <column name="data_down" type="int"  label="Data Down"   cansearch="true" />
     <column name="last_network_connection" type="datetime"  label="Last Network Connection"   />
     <column name="last_data" type="datetime"  label="Last Data Time"   />

     <bubble><![CDATA[
:heading {{name link=true}}
{{information details=true}}
]]>
</bubble>

     <wiki><![CDATA[
+section title="Instrument: {{name}}"
{{description wikify=true}}
+row
+col-8
{{information showBase=false showDetails=true}}
-col
+col-4
{{mapentry}}
-col
-row
----
:heading Data
{{group changeEntries=true changeEntriesLabel="Select Skewt" }} 
{{display type="skewt" entry="child:" showProgress=true message=""}}
-section
]]>
</wiki>
 </type>

</types>
