<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
    This file defines a number of entry types that handle the point data from the ASDI/AWS 
    S3 data collection
-->
<types category="Point Data" supercategory="Geoscience">
<!--
    For the ASDI data: 
    https://aws.amazon.com/marketplace/pp/prodview-yyq26ae3m6csk?sr=0-3&ref_=beagle&applicationId=AWSMPContessa#resources
    on S3 at: s3://noaa-gsod-pds/
 -->

  <type
     description="NOAA Global Surface Summary of Day"
     name="type_noaa_gsod"
     super="type_point">
<!-- This specifies the file class that handles this data  -->
        <property name="record.file.class" value="org.ramadda.data.point.text.CsvFile"/>
        <property name="icon" value="/point/noaa.gif"/>
        <column
       cansearch="true"
       label="Station Name"
       name="station_name"
       size="1000">
          <property name="record_field" value="name"/>
          <property name="is_default_entry_name" value="true"/>
        </column>
        <column
       cansearch="true"
       label="Station ID"
       name="station_id"
       size="1000"
       type="enumerationplus">
            <property name="record_field" value="station"/>
        </column>
 
<!-- record.properties defines the data schema  -->
        <property name="record.properties">
<![CDATA[
skiplines=1
fields=station[type=enumeration], date[type=date format=yyyy-MM-dd], latitude, longitude, elevation, name[type=string], temp[label=&quot;Temperature&quot;], temp_attributes, dewp[label=&quot;Dewpoint&quot;], dewp_attributes, slp, slp_attributes, stp, stp_attributes, visib, visib_attributes, wdsp[label=&quot;Wind Speed&quot;], wdsp_attributes, mxspd, gust[label=&quot;Wind Gust&quot;], max, max_attributes[type=string], min, min_attributes[type=string], prcp, prcp_attributes[type=string], sndp, frshtt[type=string]
]]>
</property>
<!-- The wiki display  -->
    <wiki>
<![CDATA[
+section  title="Station: {{name}}"
+note
Provided by: [https://www.noaa.gov/ NOAA], 
part of the [https://aws.amazon.com/marketplace/seller-profile?id=e40a6e9c-c840-413d-a235-0a5e458ae0c0 Amazon Sustainability Data Initiative].
[https://aws.amazon.com/marketplace/pp/prodview-yyq26ae3m6csk?sr=0-3&ref_=beagle&applicationId=AWSMPContessa#resources More information]
-note
{{description}}
----
+row
+col-md-8
{{group showMenu="true" layoutType="table" layoutColumns="1" showTitle="false"}}
{{display_linechart showMenu="true" fields=temp}}
{{display_linechart showMenu="true" fields=dewp}}
{{display_barchart showMenu="true" fields=prcp}}
-col
+col-md-4
{{resource  message="" title="Download Data"}}
{{display_template showFirst=true template="Station: ${name} (${station})"}}
{{display_map justOneMarker=true}}
-col
-row
{{display_htmltable showMenu="true"
fields="station, date, name, temp, dewp, slp, stp, visib, wdsp,  mxspd, gust, max, min,  prcp, sndp"}}
]]>
    </wiki>
  </type>

  <type
     description="SondeHub JSON Data"
     handler="org.ramadda.data.services.PointTypeHandler"
     name="type_asdi_sondehub_json"
     super="type_point">
    <property name="icon" value="/icons/json.png"/>
    <property name="record.file.class" value="org.ramadda.data.point.text.CsvFile"/>
    <property name="record.properties">
<![CDATA[
csvcommands1=-json,,,-print
]]>
    </property>
    <wiki>
<![CDATA[
+section  title={{name}}
{{description wikify=true}}
+row
+col-md-9
{{group showMenu="true" layoutType="table" layoutColumns="1" showTitle="false"}}
{{display_table showTitle="false" layoutHere="false" height=60vh}}
-col
+col-3
{{display_map justOneMarker=true}}
-col
-row
-section
]]>
    </wiki>
  </type>
  <type
      description="NOAA ISD Data"
      handler="org.ramadda.data.services.PointTypeHandler"
      name="type_point_isd"
      super="type_point">
    <property name="icon" value="/point/noaa.gif"/>
    <property name="record.file.class" value="org.ramadda.projects.asdi.NoaaIsdFile"/>
    <column
	cansearch="true"
	label="Station Name"
	name="station_name"
	size="1000">
      <property name="record_field" value="name"/>
      <property name="is_default_entry_name" value="true"/>
    </column>
    <column
	cansearch="true"
	label="Station ID"
	name="station"
	size="1000"
	type="enumerationplus">
      <property name="record_field" value="station"/>
    </column>
    <property name="record.properties">
<![CDATA[
skiplines=1
fields=station[type=enumeration label=&quot;Station&quot; ],date[type=date label=&quot;Date&quot;  format=&quot;yyyyMMdd'T'HHmmss&quot; ],source[type=enumeration label=&quot;Source&quot; ],latitude[type=double label=&quot;Latitude&quot; ],longitude[type=double label=&quot;Longitude&quot; ],elevation[type=double label=&quot;Elevation&quot; ],name[type=string label=&quot;Name&quot; ],report_type[type=string label=&quot;Report Type&quot; ],call_sign[type=enumeration label=&quot;Call Sign&quot; ],quality_control[type=enumeration label=&quot;Quality Control&quot; ],wind_dir[type=double label=&quot;Wind Dir&quot; ],wind_qc[type=string label=&quot;Wind Qc&quot; ],wind_type[type=enumeration label=&quot;Wind Type&quot; ],wind_speed[type=double label=&quot;Wind Speed&quot; ],wind_speed_qc[type=string label=&quot;Wind Speed Qc&quot;],cig_agl[type=double label=&quot;Cig Agl&quot; ],cig_qc[type=string label=&quot;Cig Qc&quot; ],cig_type[type=enumeration label=&quot;Cig Type&quot; ],cig_cavok_code[type=enumeration label=&quot;Cig Cavok Code&quot; ],vis[type=double label=&quot;Vis&quot; ],vis_qc[type=string label=&quot;Vis Qc&quot; ],vis_var[type=enumeration label=&quot;Vis Var&quot; ],vis_var_qc[type=enumeration label=&quot;Vis Var Qc&quot; ],temperature[type=double label=&quot;Temperature&quot; ],temperature_qc[type=string label=&quot;Temperature Qc&quot; ],dewpoint[type=double label=&quot;Dewpoint&quot; ],dewpoint_qc[type=string label=&quot;Dewpoint Qc&quot; ],pressure[type=double label=&quot;Pressure&quot; ],pressure_qc[type=string label=&quot;Pressure Qc&quot; ]
]]>
    </property>
    <wiki>
<![CDATA[
+section # title="NOAA ISD Site:  {{name}} - {{field name=station}}"
{{description}}
----
+row
+col-md-8
{{group showMenu="true" layoutType="table" layoutColumns="1" showTitle="false"}}
{{display type="linechart" showTitle="false" layoutHere="false" fields="temperature"}}
{{display type="linechart" showTitle="false" layoutHere="false" fields="dewpoint"}}
{{display type="linechart" showTitle="false" layoutHere="false" fields="wind_speed"}}

-col
+col-md-4
{{display_map justOneMarker=true xzoomLevel=3}}
-col
-row
-section
]]>
    </wiki>
    </type>
</types>
